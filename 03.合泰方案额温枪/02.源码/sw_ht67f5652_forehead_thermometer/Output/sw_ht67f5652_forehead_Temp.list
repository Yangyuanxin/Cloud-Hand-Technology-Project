				;file E:\SourceTree_Source\sw_ht67f5652_forehead_thermeter_sim\sw_ht67f5652_forehead_thermometer\User\Main.c
				;1	
				;2	/*************************************************************************************/
				;3	//**	Copyright	:	2016 BY HOLTEK SEMICONDUCTOR INC                            **
				;4	//** 	File Name   :	main.c 	       	                                            **
				;5	//**	Description	: 																**
				;6	//**	MCU      	: 	HT67F5652													**
				;7	//**	Author   	: 	Leo															**
				;8	//**	Date     	: 	2016/10/28													**
				;9	//**	Version  	: 	V00															**
				;10	//**	History  	:																**
				;11	/*************************************************************************************/
				;12	#include "..\User\Config.h"
				;13	
				;14	
				;15	volatile	U8	gu8v_halt_time;
				;16	volatile	U8	gu8v_10ms_count;
				;17	volatile	U8	gu8v_10ms_count_2;
				;18	volatile	__byte_type	gu8v_sys_status;
				;19	
				;20	
				;21	/********************************************************************
				;22	Function:	main
				;23	INPUT	:
				;24	OUTPUT	:	
				;25	NOTE	:   程序入口
				;26	********************************************************************/
				;27	
				;28	void main()
				;29	{
				@code .SECTION 'CODE'
				include HT67F5652.inc
0000	2801	jmp     _main_startup1
				@start .SECTION 'CODE'
				_main_startup1:
				@start .SECTION 'CODE'
0001	2AE6	jmp     _main
0002	03DB	addm    a, LCDC
0003	1F5E	clr     LCD3
0004	9D87	ltabrdl r71c[55869]
0006	8FDF	dc	08FDFH
0007	44DC	xorm    a, array_uart_txbuff[4]
0008	D0C7	lsz     r71c[21245]
000A	D804	lrla    re
				;30		//判嗍欠袷巧想臀换蛘呤钦常情r下的非正常臀
				;31		//如果成立t绦猩想初始化幼鳎反之t绦WDT溢出初始化
				;32		if(_to ==0 || _pdf ==0)									//WDT	Reset
				_main:
				_main:
02E6	3A8A	snz     TO
02E7	2AEA	jmp     _L7
02E8	3E0A	sz      PDF
02E9	2AEC	jmp     _L8
				;33		{	//上臀换蛘呤钦常情r下的非正常臀
				;34			fun_Ram_Init();										//CLR RAM 		
				_L7:
02EA	6710	call    _fun_Ram_Init
				;35			fun_Sys_Init();										//Sys & IO	
02EB	2326	call    _fun_Sys_Init
				;36			fun_Reset_Init();									//Power On Reset
				;37		}
				;38		else													
				;39		{	//WDT 溢出臀
				;40			fun_Reset_Init();
				_L8:
02EC	2010	call    _fun_Reset_Init
				;41		}	
				;42	
				;43		fun_Init_PowerOn();
02ED	2340	call    _fun_Init_PowerOn
				;44	
				;45	
				;46		#if(mac_Test_Mode)
				;47		fun_Test_Function();
				;48		#endif
				;49	
				;50	
				;51		while(1)
				;52		{	
				;53			
				;54			GCC_CLRWDT();//清除看T狗
				_L10:
02EE	0001	clr     wdt
				;55			
				;56			if(gu8v_halt_time<mac_Halt_Count)	//判嗍欠褚M入睡眠最Lrg 2min
02EF	0F3B	mov     a, 3BH
02F0	4246	sub     a, gu8v_halt_time[0]
02F1	380A	snz     C
02F2	2AFE	jmp     _L11
				;57			{
				;58				if(gbv_10ms)					//10ms 循h
02F3	7836	snz     gu8v_time_flag[0].0
02F4	2AFC	jmp     _L12
				;59				{
				;60					gbv_10ms = 0;
02F5	7436	clr     gu8v_time_flag[0].0
				;61					
				;62					fun_SysTime_Count();		// 系统时钟扫描				
02F6	22D0	call    _fun_SysTime_Count
				;63					fun_Key_Scan();				//按I呙
02F7	237E	call    _fun_Key_Scan
				;64					fun_Work_mode();			//工作流程控制
02F8	278D	call    _fun_Work_mode
				;65					fun_Beep_work_mode();		//蜂Q器呙
02F9	611F	call    _fun_Beep_work_mode
				;66	
				;67					//清除苏I位 ，在工作流程控制可使用gbv_500ms，由此地方y一清除
				;68					//------------------------------------------------------------
				;69						gbv_500ms = 0;
02FA	75B6	clr     gu8v_time_flag[0].3
				;70						gu8v_KeyUp.U8 = 0;
				L02FB:
02FB	5F65	clr     gu8v_KeyUp[0]
				;71					//------------------------------------------------------------
				;72	
				;73				}
				;74				
				;75				fun_ADC_Polling();	//ADC 呙
				_L12:
02FC	6078	call    _fun_ADC_Polling
02FD	2AEE	jmp     _L10
				;76			}
				;77			else
				;78			{
				;79				fun_into_halt();	//M入休眠B
				_L11:
02FE	22AF	call    _fun_into_halt
02FF	2AEE	jmp     _L10
0300	2B00	jmp     $
				;80			}
				;81		}
				;82	}
				;83	
				;84	
				;85	
				;86	/********************************************************************
				;87	Function:	fun_into_halt
				;88	INPUT	:
				;89	OUTPUT	:	
				;90	NOTE	:   睡眠程序入口
				;91	********************************************************************/
				;92	void	fun_into_halt()
				;93	{
				;94	//	U8 i;
				;95	
				;96		_wdtc = 0b10101111;			// disable WTC
				_fun_into_halt:
				_fun_into_halt:
02AF	0FAF	mov     a, AFH
02B0	00AA	mov     WDTC, a
				;97		
				;98		fun_ADC_Disable();			// disable ADC
02B1	6072	call    _fun_ADC_Disable
				;99		fun_ADC_Power_Disable();	// disable ADC Power	
02B2	6045	call    _fun_ADC_Power_Disable
				;100		mac_TM0_OFF();				// disable TM0
02B3	35BA	clr     T0ON
				;101		mac_Beep_Low();				// disable Beep
02B4	36A0	clr     PC5
				;102		fun_LCD_FULL(00);			// LCD 全	
02B5	0F00	mov     a, 0H
02B6	23B2	call    _fun_LCD_FULL
				;103		mac_LCD_Disable();			// disable LCD
02B7	345B	clr     ENLCD
				;104		mac_LED_DisLight();			// disable LED 
02B8	3420	clr     PC0
02B9	34A0	clr     PC1
				;105	
				;106		GCC_HALT();					//M入睡眠	
02BA	0002	halt
				;107		
				;108		_wdtc = 0b01010111;			// enable WTC
02BB	0F57	mov     a, 57H
02BC	00AA	mov     WDTC, a
				;109	
				;110	//清除苏I位 
				;111	//------------------------------------------------------------//
				;112		gu8v_key_enable = 0;
02BD	5F3F	clr     gu8v_key_enable[0]
				;113		gu8v_key_old    = 0;
02BE	5F67	clr     gu8v_key_old[0]
				;114		gu8v_halt_time = 0;
02BF	5F46	clr     gu8v_halt_time[0]
				;115		gu8_ntc_mode = 0;
02C0	5F47	clr     gu8_ntc_mode[0]
				;116		gu16v_current_temp.S16 = 0;	
02C1	DF14	lclr    gu16v_current_temp[0]
02C3	DF15	lclr    gu16v_current_temp[1]
				;117		gu8v_display_mode_old = gu8v_dispaly_mode.U8;
02C5	4738	mov     a, gu8v_dispaly_mode[0]
02C6	40D4	mov     gu8v_display_mode_old[0], a
				;118		gu8v_EEprom_Count = 0;
02C7	5F3E	clr     gu8v_EEprom_Count[0]
				;119	//------------------------------------------------------------//
				;120	
				;121		fun_Reset_Init();
02C8	2010	call    _fun_Reset_Init
				;122		mac_LED_G_Light();	
02C9	3020	set     PC0
02CA	34A0	clr     PC1
				;123		fun_Beep_init(mac_beep_1);
02CB	0F01	mov     a, 1H
02CC	6118	call    _fun_Beep_init
				;124		fun_LCD_FULL(0x0f);
02CD	0F0F	mov     a, FH
02CE	23B2	call    _fun_LCD_FULL
02CF	0003	ret
				;125	
				;126	}
				;127	
				;128	/********************************************************************
				;129	Function:	fun_SysTime_Scan
				;130	INPUT	:
				;131	OUTPUT	:	
				;132	NOTE	:   系yr担10msr一次）
				;133	********************************************************************/
				;134	void	fun_SysTime_Count()
				;135	{	
				;136		// 500ms
				;137		gu8v_10ms_count ++;
				_fun_SysTime_Count:
				_fun_SysTime_Count:
02D0	54E3	inc     gu8v_10ms_count[0]
				;138		if(gu8v_10ms_count >=50)
02D1	0F31	mov     a, 31H
02D2	4263	sub     a, gu8v_10ms_count[0]
02D3	3C0A	sz      C
02D4	2ADE	jmp     _L3
				;139		{
				;140			gu8v_10ms_count = 0;
02D5	5F63	clr     gu8v_10ms_count[0]
				;141			gbv_500ms = 1;
02D6	71B6	set     gu8v_time_flag[0].3
				;142			gbv_500ms_reversal = ~gbv_500ms_reversal;
02D7	5F00	clr     ra
02D8	7AB6	snz     gu8v_time_flag[0].5
02D9	7280	set     ra.5
02DA	76B6	clr     gu8v_time_flag[0].5
02DB	4700	mov     a, ra
02DC	45B6	orm     a, gu8v_time_flag[0]
				;143			gu8v_halt_time ++;
02DD	54C6	inc     gu8v_halt_time[0]
				;144		}
				;145		// 1S
				;146		gu8v_10ms_count_2++;
				_L3:
02DE	54E2	inc     gu8v_10ms_count_2[0]
				;147		if(gu8v_10ms_count_2 >= 100)
02DF	0F63	mov     a, 63H
02E0	4262	sub     a, gu8v_10ms_count_2[0]
02E1	3C0A	sz      C
02E2	2AE5	jmp     _L2
				;148		{
				;149			gu8v_10ms_count_2 = 0;
02E3	5F62	clr     gu8v_10ms_count_2[0]
				;150			gbv_1s = 1;
02E4	7236	set     gu8v_time_flag[0].4
				_L2:
02E5	0003	ret
				;151		}
				;152	}
				;153	
				;154	/********************************************************************
				;155	Function:	fun_Test_Function
				;156	INPUT	:
				;157	OUTPUT	:	
				;158	NOTE	:   功能y
				;159	********************************************************************/
				;160	void	fun_Test_Function()
				;161	{	
				;162	
				;163		fun_LCD_Test();
				;164	//	fun_Uart_Test();
				;165		//fun_ADC_NTC_Test();
				;166		fun_ADC_OP_Test();
				;167		//fun_Time_Test();
				;168	
				;169		
				;170	
				;171		while(1)
				;172		{
				;173			GCC_CLRWDT();	//清除看T狗
				;174			if(gbv_10ms)	//10ms 循h
				;175		    {
				;176				gbv_10ms = 0;
				;177		        if(fun_get_VTP())
				;178		        {
				;179		        	gu16v_adc_vtp.S16 = gu16v_adc_vtp.S16  + 100;
				;180		        array_uart_txbuff[0] = 0x55;
				;181		        array_uart_txbuff[1] = 0x55;
				;182		        array_uart_txbuff[2] = 0x55;
				;183		        array_uart_txbuff[3] = 0x55;
				;184		        array_uart_txbuff[4] = 0x55;
				;185		        array_uart_txbuff[5] = 0x55;
				;186		        array_uart_txbuff[6] = 0x55;
				;187		        array_uart_txbuff[7] = 0x55;
				;188		        
				;189		        
				;190		        
				;191			       	array_uart_txbuff[0] = 0x55;
				;192			       	array_uart_txbuff[1] = 0x01;
				;193			       	array_uart_txbuff[2] = 0x09;
				;194			       	array_uart_txbuff[3] = 0x02;
				;195			       	array_uart_txbuff[4] = gu16v_adc_vtp.byte.byte0;
				;196					array_uart_txbuff[5] = gu16v_adc_vtp.byte.byte1;
				;197					array_uart_txbuff[6] = 0; 
				;198					array_uart_txbuff[7] = 0X55+0X01+0X09+0X02+0XAA+gu16v_adc_vtp.byte.byte0+ \
				;199										gu16v_adc_vtp.byte.byte1+array_uart_txbuff[6];
				;200			       	array_uart_txbuff[8] = 0XAA;
				;201			       	gu8v_tx_guide=0;
				;202			       	_txr_rxr = array_uart_txbuff[0];
				;203			       //	GCC_DELAY(100000);GCC_DELAY(100000);GCC_DELAY(100000);GCC_DELAY(100000);GCC_DELAY(100000);
				;204			       	// 	GCC_DELAY(100000);GCC_DELAY(100000);GCC_DELAY(100000);GCC_DELAY(100000);GCC_DELAY(100000);
				;205		        }
				;206			}
				;207			fun_ADC_Polling();	//ADC 呙
				;208		}
				;209	}
				;210	
				;211	
				;file E:\SourceTree_Source\sw_ht67f5652_forehead_thermeter_sim\sw_ht67f5652_forehead_thermometer\User\Timer.c
				;1	
				;2	/*************************************************************************************/
				;3	//**	Copyright	:	2016 BY HOLTEK SEMICONDUCTOR INC                            **
				;4	//** 	File Name   :	timer.c 	       	                                            **
				;5	//**	Description	: 																**
				;6	//**	MCU      	: 	HT67F5652													**
				;7	//**	Author   	: 	Leo															**
				;8	//**	Date     	: 	2016/10/28													**
				;9	//**	Version  	: 	V00															**
				;10	//**	History  	:																**
				;11	/*************************************************************************************/
				;12	
				;13	#include "..\User\Config.h"
				;14	
				;15	U8	gu8v_200us_count;
				;16	volatile	__byte_type	gu8v_time_flag;
				;17	
				;18	
				;19	/********************************************************************
				;20	Function:	fun_TIMER0_INIT
				;21	INPUT	:	
				;22	OUTPUT	:	
				;23	NOTE	:   
				;24	*******************************************************************/
				;25	void	fun_TIMER0_INIT()
				;26	{
				;27		
				;28	
				;29	//	|--------------------------------------------------------------------------|
				;30	//	|------------------------------TM0C0  -------------------------------------|
				;31	//	|BIT	|7		|6		|5		|4		|3		|2		|1		|0	   ----|		
				;32	//	---------------------------------------------------------------------------|
				;33	//	|Name	|TnPAU	|TnCK2	|TnCK1	|TnCK0	|TnON	|TnRP2	|TnRP1	|TnRP0  ---|	
				;34	//	Bit 7   TnPAU: TMn Counter Pause Control  
				;35	//	  0: run  
				;36	//	  1: pause
				;37	//	Bit 6~4  TnCK2~TnCK0 : Select TMn Counter clock 
				;38	//	  000: f SYS /4  001: f SYS    010: f H/16 011: f H/64 100: f TBC  101: Undefined  
				;39	//	  110: TCKn rising edge clock  111: TCKn falling edge clock
				;40	//	Bit 3   TnON : TMn Counter On/Off Control  
				;41	//	  0: Off  
				;42	//	  1: On
				;43	//	Bit 2~0 TnRP2~TnRP0:
				;44	
				;45		_tm0c0 = LU8C_TM0C0;				
				_fun_TIMER0_INIT:
				_fun_TIMER0_INIT:
0F20	0F28	mov     a, 28H
0F21	00BA	mov     TM0C0, a
				;46		
				;47	//	|--------------------------------------------------------------------------|
				;48	//	|------------------------------TM0C1  -------------------------------------|
				;49	//	|BIT	|7		|6		|5		|4		|3		|2		|1		|0	   ----|		
				;50	//	---------------------------------------------------------------------------|
				;51	//	|Name	|TnM1	|TnM0	|TnIO1	|TnIO0	|TnOC	|TnPOL	|TnDPX	|TnCCLR----|		
				;52	//
				;53	//	Bit 7~6  TnM1~TnM0 : Select TMn Operating Mode 
				;54	//	  00: Compare Match Output Mode 
				;55	//	  01: Undefined 
				;56	//	  10: PWM Mode 
				;57	//	  11: Timer/Counter Mode
				;58	//	Bit 5~4  TnIO1~TnIO0: Select TPn_0, TPn_1 output function
				;59	//	Timer/counter Mode  
				;60	//	 unused
				;61	//	Bit 3   TnOC : TPn_0, TPn_1 Output control bit
				;62	//	Bit 2   TnPOL: TPn_0, TPn_1 Output polarity Control 
				;63	//	Bit 1   TnDPX: TMn PWM period/duty Control  
				;64	//	Bit 0   TnCCLR: Select TMn Counter clear condition  
				;65	//	  0: TMn Comparatror P match  
				;66	//	  1: TMn Comparatror A match
				;67	
				;68		_tm0c1 = LU8C_TM0C1;			
				L0F22:
0F22	0FC1	mov     a, C1H
0F23	00BB	mov     TM0C1, a
				;69		_tm0al = LU8C_TM0AL;		
0F24	0F3D	mov     a, 3DH
0F25	00BE	mov     TM0AL, a
				;70		_tm0ah = LU8C_TM0AH;
0F26	1F3F	clr     TM0AH
				;71		#ifdef	Def_timer0_interrupt
				;72		_mf0e = 1;
0F27	3190	set     MF0E
				;73		_t0ae = 1;	
0F28	3094	set     T0AE
0F29	0003	ret
				;74	
				;75		#else
				;76		_t0ae = 0;
				;77		#endif
				;78		
				;79	}	
				;80	
				;81	
				;82	/********************************************************************
				;83	Function:	func_mult_0_2timer_isr
				;84	INPUT	:	
				;85	OUTPUT	:	
				;86	NOTE	:   
				;87	*******************************************************************/
				;88	
				;89	#ifdef	Def_timer0_interrupt
				;90	void __attribute((interrupt(0x0c)))  func_mult0_isr()
				;91	{	
				@func_mult0_isr_code .SECTION 'CODE'
000C	408B	mov     r10c, a
000D	070A	mov     a, STATUS
000E	408C	mov     r20c, a
000F	6F2A	jmp     _func_mult0_isr
				;92		//t0 a match
				;93		if(_t0af == 1)
				_func_mult0_isr:
				_func_mult0_isr:
0F2A	3A94	snz     T0AF
0F2B	6F41	jmp     _L3
				;94		{
				;95			gu8v_200us_count++;
0F2C	546C	inca    gu8v_200us_count[0]
0F2D	408D	mov     ra0c, a
0F32	470D	mov     a, ra0c
0F33	40EC	mov     gu8v_200us_count[0], a
0F34	6F37	jmp     _L5
				;96			//200US*50=10ms
				;97			if(gu8v_200us_count>=50)
0F2E	0F31	mov     a, 31H
0F2F	420D	sub     a, ra0c
0F30	380A	snz     C
0F31	6F35	jmp     _L4
				;98			{
				;99				gu8v_200us_count = 0;
				_L4:
0F35	5F6C	clr     gu8v_200us_count[0]
				;100				gbv_10ms = 1;
0F36	7036	set     gu8v_time_flag[0].0
				;101			}
				;102			if(gbv_beep_on)
				_L5:
0F37	78B7	snz     gu8v_sys_status[0].1
0F38	6F40	jmp     _L6
				;103			{		
				;104				pin_GPIO_BEEP = ~pin_GPIO_BEEP;
0F39	5F0D	clr     ra0c
0F3A	3AA0	snz     PC5
0F3B	728D	set     ra0c.5
0F3C	36A0	clr     PC5
0F3D	470D	mov     a, ra0c
0F3E	05A0	orm     a, PC
0F3F	6F41	jmp     _L3
				;105			}
				;106			else
				;107			{
				;108				//P]io
				;109				mac_Beep_Low();
				_L6:
0F40	36A0	clr     PC5
				;110			}	
				;111		}
				;112		_t0af = 0;
				_L3:
0F41	3694	clr     T0AF
				;113		_t0pf = 0;
0F42	3614	clr     T0PF
0F43	470C	mov     a, r20c
0F44	008A	mov     STATUS, a
0F45	470B	mov     a, r10c
0F46	0004	reti
				L0F47:
0F47	5F17	clr     lu8v_DISPLAUDATA
0F48	5F18	clr     lu8v_DISPLAUDATA[1]
0F49	5F19	clr     lu8v_DISPLAUDATA[2]
0F4A	5F1A	clr     lu8v_DISPLAUDATA[3]
				L0F4B:
0F4B	7813	snz     lu8v_addr_0.0
0F4C	6F55	jmp     L0F55
0F4D	470F	mov     a, lu8v_data
0F4E	4397	addm    a, lu8v_DISPLAUDATA
0F4F	4710	mov     a, lu8v_addr
0F50	5398	adcm    a, lu8v_DISPLAUDATA[1]
0F51	4711	mov     a, lu8v_addr_2
0F52	5399	adcm    a, lu8v_DISPLAUDATA[2]
0F53	4712	mov     a, lu8v_addr_1
0F54	539A	adcm    a, lu8v_DISPLAUDATA[3]
				L0F55:
0F55	340A	clr     C
0F56	5A8F	rlc     lu8v_data
0F57	5A90	rlc     lu8v_addr
0F58	5A91	rlc     lu8v_addr_2
0F59	5A92	rlc     lu8v_addr_1
0F5A	340A	clr     C
0F5B	5B96	rrc     lu8v_lcd_mode[1]
0F5C	5B95	rrc     lu8v_lcd_mode
0F5D	5B94	rrc     lu8v_table_buff
0F5E	5B93	rrc     lu8v_addr_0
0F5F	4713	mov     a, lu8v_addr_0
0F60	4514	or      a, lu8v_table_buff
0F61	4515	or      a, lu8v_lcd_mode
0F62	4516	or      a, lu8v_lcd_mode[1]
0F63	390A	snz     Z
0F64	6F4B	jmp     L0F4B
0F65	0003	ret
				L0F66:
0F66	5F1B	clr     lu8v_EEprom_Temp
0F67	7B92	snz     lu8v_addr_1.7
0F68	6F75	jmp     L0F75
0F69	418F	cpl     lu8v_data
0F6A	4190	cpl     lu8v_addr
0F6B	4191	cpl     lu8v_addr_2
0F6C	4192	cpl     lu8v_addr_1
0F6D	548F	inc     lu8v_data
0F6E	3D0A	sz      Z
0F6F	5490	inc     lu8v_addr
0F70	3D0A	sz      Z
0F71	5491	inc     lu8v_addr_2
0F72	3D0A	sz      Z
0F73	5492	inc     lu8v_addr_1
0F74	559B	dec     lu8v_EEprom_Temp
				L0F75:
0F75	7B96	snz     lu8v_lcd_mode[1].7
0F76	6F84	jmp     L0F84
0F77	4193	cpl     lu8v_addr_0
0F78	4194	cpl     lu8v_table_buff
0F79	4195	cpl     lu8v_lcd_mode
0F7A	4196	cpl     lu8v_lcd_mode[1]
0F7B	5493	inc     lu8v_addr_0
0F7C	3D0A	sz      Z
0F7D	5494	inc     lu8v_table_buff
0F7E	3D0A	sz      Z
0F7F	5495	inc     lu8v_lcd_mode
0F80	3D0A	sz      Z
0F81	5496	inc     lu8v_lcd_mode[1]
0F82	549B	inc     lu8v_EEprom_Temp
0F83	549B	inc     lu8v_EEprom_Temp
				L0F84:
0F84	5F17	clr     lu8v_DISPLAUDATA
0F85	5F18	clr     lu8v_DISPLAUDATA[1]
0F86	5F19	clr     lu8v_DISPLAUDATA[2]
0F87	5F1A	clr     lu8v_DISPLAUDATA[3]
0F88	0F20	mov     a, 20H
0F89	409C	mov     lu8v_EEprom_Temp[1], a
				L0F8A:
0F8A	340A	clr     C
0F8B	5A8F	rlc     lu8v_data
0F8C	5A90	rlc     lu8v_addr
0F8D	5A91	rlc     lu8v_addr_2
0F8E	5A92	rlc     lu8v_addr_1
0F8F	5A97	rlc     lu8v_DISPLAUDATA
0F90	5A98	rlc     lu8v_DISPLAUDATA[1]
0F91	5A99	rlc     lu8v_DISPLAUDATA[2]
0F92	5A9A	rlc     lu8v_DISPLAUDATA[3]
0F93	4717	mov     a, lu8v_DISPLAUDATA
0F94	4213	sub     a, lu8v_addr_0
0F95	4718	mov     a, lu8v_DISPLAUDATA[1]
0F96	5214	sbc     a, lu8v_table_buff
0F97	4719	mov     a, lu8v_DISPLAUDATA[2]
0F98	5215	sbc     a, lu8v_lcd_mode
0F99	471A	mov     a, lu8v_DISPLAUDATA[3]
0F9A	5216	sbc     a, lu8v_lcd_mode[1]
0F9B	380A	snz     C
0F9C	6FAA	jmp     L0FAA
0F9D	4717	mov     a, lu8v_DISPLAUDATA
0F9E	4213	sub     a, lu8v_addr_0
0F9F	4097	mov     lu8v_DISPLAUDATA, a
0FA0	4718	mov     a, lu8v_DISPLAUDATA[1]
0FA1	5214	sbc     a, lu8v_table_buff
0FA2	4098	mov     lu8v_DISPLAUDATA[1], a
0FA3	4719	mov     a, lu8v_DISPLAUDATA[2]
0FA4	5215	sbc     a, lu8v_lcd_mode
0FA5	4099	mov     lu8v_DISPLAUDATA[2], a
0FA6	471A	mov     a, lu8v_DISPLAUDATA[3]
0FA7	5216	sbc     a, lu8v_lcd_mode[1]
0FA8	409A	mov     lu8v_DISPLAUDATA[3], a
0FA9	548F	inc     lu8v_data
				L0FAA:
0FAA	579C	sdz     lu8v_EEprom_Temp[1]
0FAB	6F8A	jmp     L0F8A
0FAC	781B	snz     lu8v_EEprom_Temp.0
0FAD	6FB9	jmp     L0FB9
0FAE	4197	cpl     lu8v_DISPLAUDATA
0FAF	4198	cpl     lu8v_DISPLAUDATA[1]
0FB0	4199	cpl     lu8v_DISPLAUDATA[2]
0FB1	419A	cpl     lu8v_DISPLAUDATA[3]
0FB2	5497	inc     lu8v_DISPLAUDATA
0FB3	3D0A	sz      Z
0FB4	5498	inc     lu8v_DISPLAUDATA[1]
0FB5	3D0A	sz      Z
0FB6	5499	inc     lu8v_DISPLAUDATA[2]
0FB7	3D0A	sz      Z
0FB8	549A	inc     lu8v_DISPLAUDATA[3]
				L0FB9:
0FB9	789B	snz     lu8v_EEprom_Temp.1
0FBA	6FC6	jmp     L0FC6
0FBB	418F	cpl     lu8v_data
0FBC	4190	cpl     lu8v_addr
0FBD	4191	cpl     lu8v_addr_2
0FBE	4192	cpl     lu8v_addr_1
0FBF	548F	inc     lu8v_data
0FC0	3D0A	sz      Z
0FC1	5490	inc     lu8v_addr
0FC2	3D0A	sz      Z
0FC3	5491	inc     lu8v_addr_2
0FC4	3D0A	sz      Z
0FC5	5492	inc     lu8v_addr_1
				L0FC6:
0FC6	0003	ret
				L0FC7:
0FC7	5F13	clr     lu8v_addr_0
0FC8	5F14	clr     lu8v_table_buff
				L0FC9:
0FC9	7811	snz     lu8v_addr_2.0
0FCA	6FCF	jmp     L0FCF
0FCB	470F	mov     a, lu8v_data
0FCC	4393	addm    a, lu8v_addr_0
0FCD	4710	mov     a, lu8v_addr
0FCE	5394	adcm    a, lu8v_table_buff
				L0FCF:
0FCF	340A	clr     C
0FD0	5A8F	rlc     lu8v_data
0FD1	5A90	rlc     lu8v_addr
0FD2	340A	clr     C
0FD3	5B92	rrc     lu8v_addr_1
0FD4	5B91	rrc     lu8v_addr_2
0FD5	4711	mov     a, lu8v_addr_2
0FD6	4512	or      a, lu8v_addr_1
0FD7	390A	snz     Z
0FD8	6FC9	jmp     L0FC9
0FD9	0003	ret
				L0FDA:
0FDA	5F15	clr     lu8v_lcd_mode
0FDB	7B90	snz     lu8v_addr.7
0FDC	6FE3	jmp     L0FE3
0FDD	418F	cpl     lu8v_data
0FDE	4190	cpl     lu8v_addr
0FDF	548F	inc     lu8v_data
0FE0	3D0A	sz      Z
0FE1	5490	inc     lu8v_addr
0FE2	5595	dec     lu8v_lcd_mode
				L0FE3:
0FE3	7B92	snz     lu8v_addr_1.7
0FE4	6FEC	jmp     L0FEC
0FE5	4191	cpl     lu8v_addr_2
0FE6	4192	cpl     lu8v_addr_1
0FE7	5491	inc     lu8v_addr_2
0FE8	3D0A	sz      Z
0FE9	5492	inc     lu8v_addr_1
0FEA	5495	inc     lu8v_lcd_mode
0FEB	5495	inc     lu8v_lcd_mode
				L0FEC:
0FEC	5F13	clr     lu8v_addr_0
0FED	5F14	clr     lu8v_table_buff
0FEE	0F10	mov     a, 10H
0FEF	4096	mov     lu8v_lcd_mode[1], a
				L0FF0:
0FF0	340A	clr     C
0FF1	5A8F	rlc     lu8v_data
0FF2	5A90	rlc     lu8v_addr
0FF3	5A93	rlc     lu8v_addr_0
0FF4	5A94	rlc     lu8v_table_buff
0FF5	4713	mov     a, lu8v_addr_0
0FF6	4211	sub     a, lu8v_addr_2
0FF7	4714	mov     a, lu8v_table_buff
0FF8	5212	sbc     a, lu8v_addr_1
0FF9	380A	snz     C
0FFA	A800	jmp     L1000
0FFB	4094	mov     lu8v_table_buff, a
				L0FFC:
0FFC	4713	mov     a, lu8v_addr_0
0FFD	4211	sub     a, lu8v_addr_2
0FFE	4093	mov     lu8v_addr_0, a
0FFF	548F	inc     lu8v_data
				L1000:
1000	5796	sdz     lu8v_lcd_mode[1]
1001	6FF0	jmp     L0FF0
1002	7815	snz     lu8v_lcd_mode.0
1003	A809	jmp     L1009
1004	4193	cpl     lu8v_addr_0
1005	4194	cpl     lu8v_table_buff
1006	5493	inc     lu8v_addr_0
1007	3D0A	sz      Z
1008	5494	inc     lu8v_table_buff
				L1009:
1009	7895	snz     lu8v_lcd_mode.1
100A	A810	jmp     L1010
100B	418F	cpl     lu8v_data
100C	4190	cpl     lu8v_addr
100D	548F	inc     lu8v_data
100E	3D0A	sz      Z
100F	5490	inc     lu8v_addr
				L1010:
1010	0003	ret
				L1011:
1011	1483	inc     MP1L
1012	3D0A	sz      Z
1013	1484	inc     MP1H
				L1014:
1014	3F84	sz      MP1H.7
1015	A818	jmp     L1018
1016	0702	mov     a, __iar1[0]
1017	0003	ret
				L1018:
1018	1B04	rrca    MP1H
1019	0E3F	and     a, 3FH
101A	0089	mov     TBHP, a
101B	1B03	rrca    MP1L
101C	0087	mov     TBLP, a
101D	1D05	tabrdc  ACC
101E	3C0A	sz      C
101F	0708	mov     a, TBLH
1020	0003	ret
				L1033:
				org	01033h
1033	0000	nop
				L10FE:
				org	010feh
10FE	0000	nop
				L1118:
				org	01118h
1118	0000	nop
				L1121:
				org	01121h
1121	0000	nop
				L1151:
				org	01151h
1151	0000	nop
				L11FD:
				org	011fdh
11FD	0000	nop
				L120C:
				org	0120ch
120C	0000	nop
				L1221:
				org	01221h
1221	0000	nop
				L1260:
				org	01260h
1260	0000	nop
				L1311:
				org	01311h
1311	0000	nop
				L1320:
				org	01320h
1320	0000	nop
				L1335:
				org	01335h
1335	0000	nop
				L1427:
				org	01427h
1427	0000	nop
				L145B:
				org	0145bh
145B	0000	nop
				L146A:
				org	0146ah
146A	0000	nop
				L14FC:
				org	014fch
14FC	0000	nop
				L151E:
				org	0151eh
151E	0000	nop
				L1619:
				org	01619h
1619	0000	nop
				L1659:
				org	01659h
1659	0000	nop
				L170E:
				org	0170eh
170E	0000	nop
				L1716:
				org	01716h
1716	0000	nop
				L171A:
				org	0171ah
171A	0000	nop
				L1737:
				org	01737h
1737	0000	nop
				L175D:
				org	0175dh
175D	0000	nop
				L1769:
				org	01769h
1769	0000	nop
				L181D:
				org	0181dh
181D	0000	nop
				L1825:
				org	01825h
1825	0000	nop
				L1826:
				org	01826h
1826	0000	nop
				L1833:
				org	01833h
1833	0000	nop
				L190B:
				org	0190bh
190B	0000	nop
				L1911:
				org	01911h
1911	0000	nop
				L1913:
				org	01913h
1913	0000	nop
				L1927:
				org	01927h
1927	0000	nop
				L1938:
				org	01938h
1938	0000	nop
				L1945:
				org	01945h
1945	0000	nop
				L19FD:
				org	019fdh
19FD	0000	nop
				L1A20:
				org	01a20h
1A20	0000	nop
				L1A21:
				org	01a21h
1A21	0000	nop
				L1A2C:
				org	01a2ch
1A2C	0000	nop
				L1A48:
				org	01a48h
1A48	0000	nop
				L1AFC:
				org	01afch
1AFC	0000	nop
				L1B22:
				org	01b22h
1B22	0000	nop
				L1B36:
				org	01b36h
1B36	0000	nop
				L1BFE:
				org	01bfeh
1BFE	0000	nop
				L1C0A:
				org	01c0ah
1C0A	0000	nop
				L1C1F:
				org	01c1fh
1C1F	0000	nop
				L1C2B:
				org	01c2bh
1C2B	0000	nop
				L1C32:
				org	01c32h
1C32	0000	nop
				L1C52:
				org	01c52h
1C52	0000	nop
				L1D19:
				org	01d19h
1D19	0000	nop
				L1D1A:
				org	01d1ah
1D1A	0000	nop
				L1D1C:
				org	01d1ch
1D1C	0000	nop
				L1D29:
				org	01d29h
1D29	0000	nop
				L1D2A:
				org	01d2ah
1D2A	0000	nop
				L1D30:
				org	01d30h
1D30	0000	nop
				L1D43:
				org	01d43h
1D43	0000	nop
				L1E31:
				org	01e31h
1E31	0000	nop
				L1F24:
				org	01f24h
1F24	0000	nop
				L1F5E:
				org	01f5eh
1F5E	0000	nop
				L1F61:
				org	01f61h
1F61	0000	nop
				;114	}
				;115	#endif
				;116	
				;117	
				;118	
				;119	void fun_Time_Test()
				;120	{
				;121		fun_Beep_init(mac_beep_1_1_1_1);
				;122		while(1)
				;123		{
				;124			GCC_CLRWDT();//清除看T狗
				;125			
				;126			if(gbv_10ms)					//10ms 循h
				;127			{
				;128				gbv_10ms = 0;		
				;129				fun_Beep_work_mode();		//蜂Q器呙
				;130			}
				;131		}
				;132	}
				;133	
				;134	
				;135	
				;136	
				;file E:\SourceTree_Source\sw_ht67f5652_forehead_thermeter_sim\sw_ht67f5652_forehead_thermometer\User\Initial.c
				;1	
				;2	/*************************************************************************************/
				;3	//**	Copyright	:	2016 BY HOLTEK SEMICONDUCTOR INC                            **
				;4	//** 	File Name   :	initial.c 	       	                                        **
				;5	//**	Description	: 																**
				;6	//**	MCU      	: 	HT67F5652													**
				;7	//**	Author   	: 	Leo															**
				;8	//**	Date     	: 	2016/10/28													**
				;9	//**	Version  	: 	V00															**
				;10	//**	History  	:																**
				;11	/*************************************************************************************/
				;12	
				;13	#include "..\User\Config.h"
				;14	
				;15	
				;16	/********************************************************************
				;17	Function:	fun_Sys_Init
				;18	INPUT	:
				;19	OUTPUT	:	
				;20	NOTE	:   
				;21	********************************************************************/
				;22	void	fun_Sys_Init()
				;23	{
				;24	
				;25		// disable cpc
				;26		_cp0c 	= 0;
				_fun_Sys_Init:
				_fun_Sys_Init:
0326	1F4F	clr     CP0C
				;27		_cp1c	= 0;
0327	1F4E	clr     CP1C
				;28	//	|--------------------------------------------------------------------------|
				;29	//	|-----------------------------SMOD-----------------------------------------|
				;30	//	|BIT	|7		|6		|5		|4		|3		|2		|1		|0	   ----|		
				;31	//	---------------------------------------------------------------------------|
				;32	//	|Name	|CKS2	|CKS1	|CKS0	|FSTEN	|LTO	|HTO	|IDLEN	|HLCLK ----|
				;33	//	---------------------------------------------------------------------------|
				;34	//	|POR 	|0 		|0 		|0 		|0		|0 		|0 		|1 		|1	   ----|
				;35	//	---------------------------------------------------------------------------|
				;36	//	CKS2	CKS1	CKS1
				;37	//	0		0		0		: fSUB
				;38	//	0		0		1		: fSUB
				;39	//	0		1		0		: fH/64
				;40	//	0		1		1		: fH/32
				;41	//	1		0		0		: fH/16
				;42	//	1		0		1		: fH/8
				;43	//	1		1		0		: fH/4
				;44	//	1		1		1		: fH/2
				;45	//	NOTE:	fH
				;46		_smod = 0b00000011;
				L0328:
0328	0F03	mov     a, 3H
0329	00A6	mov     SMOD, a
				;47	
				;48	
				;49	//	|--------------------------------------------------------------------------|
				;50	//	|-----------------------------WDTC-----------------------------------------|
				;51	//	|BIT	|7		|6		|5		|4		|3		|2		|1		|0	   ----|		
				;52	//	---------------------------------------------------------------------------|
				;53	//	|Name	|CKS2	|CKS1	|CKS0	|FSTEN	|LTO	|HTO	|IDLEN	|HLCLK ----|
				;54	//	---------------------------------------------------------------------------|
				;55	//	|POR 	|0 		|0 		|0 		|0		|0 		|0 		|1 		|1	   ----|
				;56	//	---------------------------------------------------------------------------|
				;57	//	Bit 7~3 WE4~WE0: WDT enable
				;58	//		10101: disable
				;59	//		01010: enable (default)
				;60	//	Bit 2~0 WS2~WS0: select WDT timeout period
				;61	//		000: 2^8/fS
				;62	//		001: 2^10/fS
				;63	//		010: 2^12/fS
				;64	//		011: 2^14/fS (default)
				;65	//		100: 2^15/fS
				;66	//		101: 2^16/fS
				;67	//		110: 2^17/fS
				;68	//		111: 2^18/fS
				;69		_wdtc = 0b01010111;
032A	0F57	mov     a, 57H
032B	00AA	mov     WDTC, a
				;70	
				;71	
				;72	#if(mac_MCU_pin == mac_MCU_P80)	
				;73	//pa 
				;74		_pa		= 0xff;	
				;75		_pac 	= 0xff;
				;76		_papu 	= 0xff;
				;77	//pb 
				;78		_pb		= 0xff;	
				;79		_pbc 	= 0xff;
				;80		_pbpu 	= 0xff;
				;81	//pc
				;82		_pcc 	= 0b11010011;
				;83		_pc	   &= 0b11010011;
				;84		_pcpu 	= 0xff;
				;85	//pd
				;86		_pdc 	= 0xff;
				;87		_pdpu 	= 0xff;
				;88	#endif
				;89		
				;90	#if(mac_MCU_pin == mac_MCU_P64)	
				;91	//pa 
				;92		_pa		= 0xff;	
				L032C:
032C	1F9A	set     PA
				;93		_pac 	= 0xff;
032D	1F9B	set     PAC
				;94		_papu 	= 0xff;
032E	1F99	set     PAPU
				;95	//pb 
				;96		_pb		= 0xff;	
				L032F:
032F	1F9D	set     PB
				;97		_pbc 	= 0xff;
0330	1F9E	set     PBC
				;98		_pbpu 	= 0xff;
0331	1F9C	set     PBPU
				;99	//pc
				;100		_pcc 	= 0b11011100;
0332	0FDC	mov     a, DCH
0333	00A1	mov     PCC, a
				;101		_pc	   &= 0b11011100;
0334	0FDC	mov     a, DCH
0335	06A0	andm    a, PC
				;102		_pcpu 	= 0xff;
0336	1F9F	set     PCPU
				;103	//pd
				;104		_pdc 	= 0xff;
0337	1FA4	set     PDC
				;105		_pdpu 	= 0xff;
0338	1FA2	set     PDPU
				;106	#endif	
				;107		
				;108	
				;109		fun_get_correction_data();
0339	2301	call    _fun_get_correction_data
				;110	//	mac_LED_G_Light();
				;111	
				;112	//	GPIO_KEY_Switch_WU 		= 1;
				;113		GPIO_fun_Key_Scan_WU   	= 1;	
033A	3318	set     PAWU6
				;114		
				;115		gu8v_dispaly_mode.U8 	= 0b00000010;		// 上默J 表面囟
033B	0F02	mov     a, 2H
033C	40B8	mov     gu8v_dispaly_mode[0], a
				;116		gu8v_halt_time 			= mac_Halt_Count;	// 上M入休眠	
033D	0F3C	mov     a, 3CH
033E	40C6	mov     gu8v_halt_time[0], a
033F	0003	ret
				;117	}
				;118	
				;119	/********************************************************************
				;120	Function:	fun_Reset_Init
				;121	INPUT	:
				;122	OUTPUT	:	
				;123	NOTE	:
				;124	********************************************************************/
				;125	void	fun_Reset_Init()
				;126	{
				;127		//Timer0
				;128		fun_TIMER0_INIT();
				@dummy12 .SECTION 'CODE'
				_fun_Reset_Init:
				_fun_Reset_Init:
0010	6720	call    _fun_TIMER0_INIT
				;129	
				;130		//LCD
				;131		fun_Lcd_Init();
0011	23C2	call    _fun_Lcd_Init
				;132			
				;133		_pwrc = 0b10000000;		// 倍康~ LCD power 2.2V，
0012	0F80	mov     a, 80H
0013	00D0	mov     PWRC, a
				;134								// 所以利用AVDD 2.4V 接入 PLCD
				;135		_emi = 1;				// _⒖中
0014	3010	set     EMI
0015	0003	ret
				;136	}
				;137	
				;138	
				;139	
				;140	/********************************************************************
				;141	Function:	fun_get_correction_data
				;142	INPUT	:
				;143	OUTPUT	:	
				;144	NOTE	:   
				;145	********************************************************************/
				;146	
				;147		
				;148	
				;149	
				;150	void	fun_get_correction_data()
				;151	{
				;152		//fun_EEprom_Keep_R();
				;153		if (fun_EEprom_Read(0x00) == 0x55)
				_fun_get_correction_data:
				_fun_get_correction_data:
				@dummy .SECTION 'CODE'
0301	0F00	mov     a, 0H
0302	66EF	call    _fun_EEprom_Read
0303	4080	mov     ra, a
0304	4700	mov     a, ra
0305	0A55	sub     a, 55H
0306	390A	snz     Z
0307	2B1D	jmp     _L3
				;154		{
				;155			//
				;156			gu16v_correction_K1.byte.byte0 = fun_EEprom_Read(0x01);
0308	0F01	mov     a, 1H
0309	66EF	call    _fun_EEprom_Read
030A	4080	mov     ra, a
030B	4700	mov     a, ra
030C	40C9	mov     gu16v_correction_K1[0], a
				;157			gu16v_correction_K1.byte.byte1 = fun_EEprom_Read(0x02);
030D	0F02	mov     a, 2H
030E	66EF	call    _fun_EEprom_Read
030F	4080	mov     ra, a
0310	4700	mov     a, ra
0311	40CA	mov     gu16v_correction_K1[1], a
				;158	
				;159	
				;160			//
				;161			gu16v_correction_K2.byte.byte0 = fun_EEprom_Read(0x03);
0312	0F03	mov     a, 3H
0313	66EF	call    _fun_EEprom_Read
0314	4080	mov     ra, a
0315	4700	mov     a, ra
0316	40D1	mov     gu16v_correction_K2[0], a
				;162			gu16v_correction_K2.byte.byte1 = fun_EEprom_Read(0x04);
				L0317:
0317	0F04	mov     a, 4H
				L0318:
0318	66EF	call    _fun_EEprom_Read
0319	4080	mov     ra, a
031A	4700	mov     a, ra
031B	40D2	mov     gu16v_correction_K2[1], a
031C	2B25	jmp     _L2
				;163		}
				;164		else
				;165		{
				;166			//
				;167			gu16v_correction_K1.U16 = 5000;
				_L3:
031D	0F88	mov     a, 88H
031E	40C9	mov     gu16v_correction_K1[0], a
031F	0F13	mov     a, 13H
0320	40CA	mov     gu16v_correction_K1[1], a
				;168			gu16v_correction_K2.U16 = 10000;
0321	0F10	mov     a, 10H
0322	40D1	mov     gu16v_correction_K2[0], a
0323	0F27	mov     a, 27H
				L0324:
0324	40D2	mov     gu16v_correction_K2[1], a
				_L2:
0325	0003	ret
				;169	
				;170		}
				;171		
				;172	
				;173		
				;174		
				;175	}
				;176	
				;177	
				;178	/********************************************************************
				;179	Function:	fun_Init_PowerOn
				;180	INPUT	:
				;181	OUTPUT	:	
				;182	NOTE	:   
				;183	********************************************************************/
				;184	void fun_Init_PowerOn()
				;185	{
				;186		volatile U8 lu8v_Led_Count; 
				;187		fun_Beep_init(mac_beep_1);
				_fun_Init_PowerOn:
				_fun_Init_PowerOn:
0340	0F01	mov     a, 1H
0341	6118	call    _fun_Beep_init
				;188		mac_LED_R_Light();
0342	3420	clr     PC0
0343	30A0	set     PC1
				;189		fun_LCD_FULL(0x0f);
0344	0F0F	mov     a, FH
0345	23B2	call    _fun_LCD_FULL
				;190		do
				;191		{
				;192			GCC_CLRWDT();//清除看T狗
				_L11:
0346	0001	clr     wdt
				;193			if(gbv_10ms)
0347	7836	snz     gu8v_time_flag[0].0
0348	2B4C	jmp     _L9
				;194			{
				;195				gbv_10ms = 0;
0349	7436	clr     gu8v_time_flag[0].0
				;196				lu8v_Led_Count++;
034A	5490	inc     lu8v_Led_Count[0]
				;197				
				;198				fun_Beep_work_mode();
034B	611F	call    _fun_Beep_work_mode
				;199			}
				;200			if(lu8v_Led_Count < 50)
				_L9:
034C	0F31	mov     a, 31H
034D	4210	sub     a, lu8v_Led_Count[0]
034E	3C0A	sz      C
034F	2B46	jmp     _L11
				;201			{
				;202	
				;203			}
				;204			else if (lu8v_Led_Count<100)
0350	0F63	mov     a, 63H
0351	4210	sub     a, lu8v_Led_Count[0]
0352	380A	snz     C
0353	2B57	jmp     _L12
				;205			{
				;206				mac_LED_G_Light();
0354	3020	set     PC0
0355	34A0	clr     PC1
0356	2B46	jmp     _L11
				;207			}
				;208			else if(lu8v_Led_Count<150)
				_L12:
0357	0F95	mov     a, 95H
0358	4210	sub     a, lu8v_Led_Count[0]
0359	380A	snz     C
035A	2B5E	jmp     _L14
				;209			{
				;210				mac_LED_Y_Light();
035B	3020	set     PC0
035C	30A0	set     PC1
035D	2B46	jmp     _L11
				;211			}
				;212			else
				;213			{
				;214				mac_LED_DisLight();
				_L14:
035E	3420	clr     PC0
035F	34A0	clr     PC1
				;215				fun_LCD_FULL(0x0);
0360	0F00	mov     a, 0H
0361	23B2	call    _fun_LCD_FULL
0362	0003	ret
				;216				break;
				;217			}
				;218	
				;219	
				;220		}while(1);
				;221	
				;222	}
				;223	
				;file E:\SourceTree_Source\sw_ht67f5652_forehead_thermeter_sim\sw_ht67f5652_forehead_thermometer\User\Lcd.c
				;1	
				;2	/*************************************************************************************/
				;3	//**	Copyright	:	2016 BY HOLTEK SEMICONDUCTOR INC                            **
				;4	//** 	File Name   :	lcd.c 	       	                                            **
				;5	//**	Description	: 																**
				;6	//**	MCU      	: 	HT67F5652													**
				;7	//**	Author   	: 	Leo														**
				;8	//**	Date     	: 	2016/10/28													**
				;9	//**	Version  	: 	V00															**
				;10	//**	History  	:																**
				;11	/*************************************************************************************/
				;12	
				;13	#include	"..\User\Config.h"
				;14	
				;15	
				;16	
				;17	
				;18	//0-9 
				;19	//10 E
				;20	//11 r
				;21	//12 H 
				;22	//13 L
				;23	//14 o
				;24	//15 F
				;25	//16 -
				;26	//17 C
				;27	//18 none
				;28	
				;29	const U8 lu8c_8_table[] = {0b11011011,0b00000011,0b01011110,0b00011111,0b10000111,0b10011101,0b11011101,0b10001011,0b11011111,0b10001111,
				;30							   0b11011100,0b01000100,0b11000111,0b11010000,0b01010101,0b11001100,0b00000100,0b11011000,0b00000000,0b00000001};
				;31	
				;32	/********************************************************************
				;33	Function:	fun_Lcd_Init
				;34	INPUT	:		
				;35	OUTPUT	:	
				;36	NOTE	:
				;37	********************************************************************/
				;38	void fun_Lcd_Init()
				;39	{
				;40		
				;41		
				;42			
				;43		_lcdcp 	= 0b00000000;	
				_fun_Lcd_Init:
				_fun_Lcd_Init:
03C2	1F7A	clr     LCDCP
				;44		_lcdc   = 0b00000111;
03C3	0F07	mov     a, 7H
03C4	00DB	mov     LCDC, a
				;45		
				;46	#if(mac_MCU_pin == mac_MCU_P64)	
				;47		_lcd2	= 0b11111100;
03C5	0FFC	mov     a, FCH
03C6	00DD	mov     LCD2, a
				;48		_lcd3	= 0b00000011;
03C7	0F03	mov     a, 3H
03C8	00DE	mov     LCD3, a
				;49	
				;50	#endif			
				;51		fun_LCD_FULL(0x00);	
03C9	0F00	mov     a, 0H
03CA	23B2	call    _fun_LCD_FULL
03CB	0003	ret
				;52	}
				;53	
				;54	/********************************************************************
				;55	Function:	fun_LCD_FULL
				;56	INPUT	:	lu8v_lcd_data
				;57	OUTPUT	:	null
				;58	NOTE	:	可以根鬟fM淼到y一改LCD的
				;59	********************************************************************/
				;60	void fun_LCD_FULL(U8 lu8v_lcd_data)
				;61	{
				_fun_LCD_FULL:
				_fun_LCD_FULL:
03B2	408F	mov     lu8v_lcd_data[0], a
03B3	0F28	mov     a, 28H
03B4	4080	mov     ra, a
				;62		U8	lu8v_lcdcount;
				;63	     for(lu8v_lcdcount = 0 ;lu8v_lcdcount < 40;lu8v_lcdcount++)    	
03B5	5F01	clr     rb
03BE	5481	inc     rb
03BF	5780	sdz     ra
03C0	2BB6	jmp     L03B6
03C1	0003	ret
				;64	     {
				;65	     	 gu8v_LCD_buffer[lu8v_lcdcount].U8 = lu8v_lcd_data;
				L03B6:
03B6	0F80	mov     a, 80H
03B7	4301	add     a, rb
03B8	0083	mov     MP1L, a
03B9	0F01	mov     a, 1H
03BA	1F04	clr     MP1H
03BB	1384	adcm    a, MP1H
03BC	470F	mov     a, lu8v_lcd_data[0]
03BD	0082	mov     __iar1[0], a
				;66	     }  
				;67	}
				;68	
				;69	
				;70	/********************************************************************
				;71	Function:	fun_LCD_NUM
				;72	INPUT	:	lu8v_lcd_mode 	lu8v_addr lu8v_data
				;73	OUTPUT	:	
				;74	NOTE	:	lu8v_lcd_mode轱@示模式（亮、纭㈤Wq）lu8v_addr轱@示的地址lu8v_data@示
				;75	********************************************************************/
				;76	//LCD
				;77	void fun_LCD_NUM(U8 lu8v_lcd_mode,U8 lu8v_addr,U8 lu8v_data)
				;78	{
				_fun_LCD_NUM:
				_fun_LCD_NUM:
03EA	4095	mov     lu8v_lcd_mode[0], a
				;79			volatile	U8 lu8v_table_buff;
				;80			volatile	U8 lu8v_addr_0,lu8v_addr_1,lu8v_addr_2;
				;81			
				;82			lu8v_table_buff = lu8c_8_table[lu8v_data];
03EB	0F04	mov     a, 4H
03EC	4310	add     a, lu8v_data[0]
03ED	0083	mov     MP1L, a
03EE	0F80	mov     a, 80H
03EF	1F04	clr     MP1H
03F0	1384	adcm    a, MP1H
03F1	A014	call    L1014
03F2	4094	mov     lu8v_table_buff[0], a
				;83			
				;84			if(lu8v_addr ==32)
03F3	470F	mov     a, lu8v_addr[0]
03F4	0A20	sub     a, 20H
03F5	390A	snz     Z
03F6	2BFE	jmp     L03FE
				;85			{
				;86				lu8v_addr_0	= 32;
03F7	0F20	mov     a, 20H
03F8	4093	mov     lu8v_addr_0[0], a
				;87				lu8v_addr_1 = 15;
				L03F9:
03F9	0F0F	mov     a, FH
03FA	4092	mov     lu8v_addr_1[0], a
				;88				lu8v_addr_2 = 14;			
03FB	0F0E	mov     a, EH
03FC	4091	mov     lu8v_addr_2[0], a
				L03FD:
03FD	2C07	jmp     L0407
				;89			}
				;90			else
				;91			{
				;92				lu8v_addr_0	= lu8v_addr;
				L03FE:
03FE	470F	mov     a, lu8v_addr[0]
03FF	4093	mov     lu8v_addr_0[0], a
				;93				lu8v_addr_1 = lu8v_addr - 1;
0400	470F	mov     a, lu8v_addr[0]
0401	4080	mov     ra, a
0402	5500	deca    ra
0403	4092	mov     lu8v_addr_1[0], a
				;94				lu8v_addr_2 = lu8v_addr - 2;
0404	4700	mov     a, ra
0405	0BFE	add     a, FEH
0406	4091	mov     lu8v_addr_2[0], a
				;95			}
				;96			
				;97			
				;98			gu8v_LCD_buffer[lu8v_addr_0].U8 &= 0b00001001;
				L0407:
0407	0F80	mov     a, 80H
0408	4313	add     a, lu8v_addr_0[0]
0409	0083	mov     MP1L, a
040A	0F01	mov     a, 1H
040B	1F04	clr     MP1H
040C	1384	adcm    a, MP1H
040D	A014	call    L1014
040E	4096	mov     lu8v_lcd_mode[1], a
040F	4716	mov     a, lu8v_lcd_mode[1]
0410	0E09	and     a, 9H
				L0411:
0411	4080	mov     ra, a
0412	4700	mov     a, ra
0413	0082	mov     __iar1[0], a
				;99			gu8v_LCD_buffer[lu8v_addr_1].U8 = 0;
0414	0F80	mov     a, 80H
0415	4312	add     a, lu8v_addr_1[0]
0416	0083	mov     MP1L, a
0417	0F01	mov     a, 1H
0418	1F04	clr     MP1H
0419	1384	adcm    a, MP1H
041A	0F00	mov     a, 0H
				L041B:
041B	0082	mov     __iar1[0], a
				;100			gu8v_LCD_buffer[lu8v_addr_2].U8 &= 0b00001001;	
041C	0F80	mov     a, 80H
041D	4311	add     a, lu8v_addr_2[0]
041E	0083	mov     MP1L, a
041F	0F01	mov     a, 1H
0420	1F04	clr     MP1H
0421	1384	adcm    a, MP1H
0422	A014	call    L1014
0423	4096	mov     lu8v_lcd_mode[1], a
0424	4716	mov     a, lu8v_lcd_mode[1]
				L0425:
0425	0E09	and     a, 9H
0426	4080	mov     ra, a
0427	4700	mov     a, ra
0428	0082	mov     __iar1[0], a
				;101				
				;102			if(lu8v_lcd_mode==0)
0429	5E15	snz     lu8v_lcd_mode[0]
042A	2CA4	jmp     L04A4
				;103			{	
				;104				
				;105			} 		
				;106			else if(lu8v_lcd_mode == 1)	//康 COM0 ]用到 
042B	5715	sdza    lu8v_lcd_mode[0]
042C	2C67	jmp     L0467
				;107			{
				;108			
				;109				 gu8v_LCD_buffer[lu8v_addr_2].U8 |= lu8v_table_buff<<1 & 0b00000110;
042D	0F80	mov     a, 80H
042E	4311	add     a, lu8v_addr_2[0]
042F	0083	mov     MP1L, a
0430	0F01	mov     a, 1H
0431	1F04	clr     MP1H
0432	1384	adcm    a, MP1H
0433	A014	call    L1014
0434	4096	mov     lu8v_lcd_mode[1], a
0435	4714	mov     a, lu8v_table_buff[0]
0436	4081	mov     rb, a
0437	5F02	clr     rc
				L0438:
0438	340A	clr     C
0439	5A81	rlc     rb
043A	5A82	rlc     rc
043B	0F06	mov     a, 6H
043C	4681	andm    a, rb
043D	4716	mov     a, lu8v_lcd_mode[1]
043E	4581	orm     a, rb
043F	4701	mov     a, rb
0440	0082	mov     __iar1[0], a
				;110				 gu8v_LCD_buffer[lu8v_addr_1].U8 |= lu8v_table_buff>>1 & 0b00001110;
0441	0F80	mov     a, 80H
0442	4312	add     a, lu8v_addr_1[0]
0443	0083	mov     MP1L, a
0444	0F01	mov     a, 1H
0445	1F04	clr     MP1H
0446	1384	adcm    a, MP1H
0447	A014	call    L1014
0448	4096	mov     lu8v_lcd_mode[1], a
0449	5914	rra     lu8v_table_buff[0]
044A	0E7F	and     a, 7FH
044B	4080	mov     ra, a
044C	0F0E	mov     a, EH
044D	4680	andm    a, ra
044E	4716	mov     a, lu8v_lcd_mode[1]
044F	4580	orm     a, ra
0450	4700	mov     a, ra
0451	0082	mov     __iar1[0], a
				;111				 gu8v_LCD_buffer[lu8v_addr_0].U8 	 |= lu8v_table_buff>>5 & 0b00000110;
0452	0F80	mov     a, 80H
0453	4313	add     a, lu8v_addr_0[0]
0454	0083	mov     MP1L, a
0455	0F01	mov     a, 1H
0456	1F04	clr     MP1H
0457	1384	adcm    a, MP1H
0458	A014	call    L1014
0459	4096	mov     lu8v_lcd_mode[1], a
045A	5114	swapa   lu8v_table_buff[0]
045B	1985	rr      ACC
045C	0E07	and     a, 7H
045D	4080	mov     ra, a
045E	0F06	mov     a, 6H
045F	4680	andm    a, ra
0460	4716	mov     a, lu8v_lcd_mode[1]
0461	4580	orm     a, ra
0462	4700	mov     a, ra
0463	0082	mov     __iar1[0], a
				;112				 
				;113				 fun_LCD_SET_DOT();		
0464	2019	call    _fun_LCD_SET_DOT
				;114				 GCC_NOP();		 	 			
0465	0000	nop
0466	2CA4	jmp     L04A4
				;115			}
				;116			else
				;117			{
				;118				if(gbv_500ms_reversal)
				L0467:
0467	7AB6	snz     gu8v_time_flag[0].5
0468	2CA4	jmp     L04A4
				;119				{
				;120				 gu8v_LCD_buffer[lu8v_addr-2].U8 |= lu8v_table_buff<<1 & 0b00000110;
0469	470F	mov     a, lu8v_addr[0]
046A	4081	mov     rb, a
046B	5F02	clr     rc
046C	0F7E	mov     a, 7EH
046D	4301	add     a, rb
046E	0083	mov     MP1L, a
046F	0F01	mov     a, 1H
0470	5302	adc     a, rc
0471	0084	mov     MP1H, a
0472	A014	call    L1014
0473	4096	mov     lu8v_lcd_mode[1], a
0474	4714	mov     a, lu8v_table_buff[0]
0475	4083	mov     rd, a
0476	5F04	clr     re
0477	340A	clr     C
0478	5A83	rlc     rd
0479	5A84	rlc     re
047A	0F06	mov     a, 6H
047B	4683	andm    a, rd
047C	4716	mov     a, lu8v_lcd_mode[1]
047D	4583	orm     a, rd
047E	4703	mov     a, rd
047F	0082	mov     __iar1[0], a
				;121				 gu8v_LCD_buffer[lu8v_addr-1].U8 |= lu8v_table_buff>>1 & 0b00001110;
0480	0F7F	mov     a, 7FH
0481	4301	add     a, rb
0482	0083	mov     MP1L, a
0483	0F01	mov     a, 1H
0484	5302	adc     a, rc
0485	0084	mov     MP1H, a
0486	A014	call    L1014
0487	4096	mov     lu8v_lcd_mode[1], a
0488	5914	rra     lu8v_table_buff[0]
0489	0E7F	and     a, 7FH
048A	4080	mov     ra, a
048B	0F0E	mov     a, EH
048C	4680	andm    a, ra
048D	4716	mov     a, lu8v_lcd_mode[1]
048E	4580	orm     a, ra
048F	4700	mov     a, ra
0490	0082	mov     __iar1[0], a
				;122				 gu8v_LCD_buffer[lu8v_addr].U8   |= lu8v_table_buff>>5 & 0b00000110;
0491	0F80	mov     a, 80H
0492	4301	add     a, rb
0493	0083	mov     MP1L, a
0494	0F01	mov     a, 1H
0495	5302	adc     a, rc
0496	0084	mov     MP1H, a
0497	A014	call    L1014
0498	4096	mov     lu8v_lcd_mode[1], a
0499	5114	swapa   lu8v_table_buff[0]
049A	1985	rr      ACC
049B	0E07	and     a, 7H
049C	4080	mov     ra, a
049D	0F06	mov     a, 6H
049E	4680	andm    a, ra
049F	4716	mov     a, lu8v_lcd_mode[1]
04A0	4580	orm     a, ra
04A1	4700	mov     a, ra
04A2	0082	mov     __iar1[0], a
				;123				 fun_LCD_SET_DOT();					 	 			
04A3	2019	call    _fun_LCD_SET_DOT
				;124					 					
				;125				}
				;126				else
				;127				{	
				;128	
				;129				}
				;130				
				;131			}
				;132	
				;133			mac_LED_G_Light();
				L04A4:
04A4	3020	set     PC0
04A5	34A0	clr     PC1
04A6	0003	ret
				;134	}
				;135	
				;136	/********************************************************************
				;137	Function:	fun_LCD_DISPLAY_NUM
				;138	INPUT	:	lu8v_DISPLAUDATA
				;139	OUTPUT	:	
				;140	NOTE	:
				;141	********************************************************************/
				;142	//LCD
				;143	void fun_LCD_DISPLAY_NUM(U16 lu8v_DISPLAUDATA)
				;144	{   
				;145		fun_LCD_NUM(1,LU8C_NUM3_ADDR,lu8v_DISPLAUDATA%10);
				_fun_LCD_DISPLAY_NUM:
				_fun_LCD_DISPLAY_NUM:
04A7	5F15	clr     lu8v_lcd_mode
04A8	4717	mov     a, lu8v_DISPLAUDATA[0]
04A9	408F	mov     lu8v_data, a
04AA	4718	mov     a, lu8v_DISPLAUDATA[1]
04AB	4090	mov     lu8v_addr, a
04AC	0F0A	mov     a, AH
04AD	4091	mov     lu8v_addr_2, a
04AE	5F12	clr     lu8v_addr_1
04AF	67EC	call    L0FEC
04B0	4713	mov     a, lu8v_addr_0
04B1	4081	mov     rb, a
04B2	4714	mov     a, lu8v_table_buff
04B3	4082	mov     rc, a
04B4	4701	mov     a, rb
04B5	4090	mov     lu8v_addr, a
04B6	0F0D	mov     a, DH
04B7	408F	mov     lu8v_data, a
04B8	0F01	mov     a, 1H
04B9	23EA	call    _fun_LCD_NUM
				;146		lu8v_DISPLAUDATA /= 10;
04BA	5F15	clr     lu8v_lcd_mode
04BB	4717	mov     a, lu8v_DISPLAUDATA[0]
04BC	408F	mov     lu8v_data, a
04BD	4718	mov     a, lu8v_DISPLAUDATA[1]
04BE	4090	mov     lu8v_addr, a
04BF	0F0A	mov     a, AH
04C0	4091	mov     lu8v_addr_2, a
04C1	5F12	clr     lu8v_addr_1
04C2	67EC	call    L0FEC
04C3	470F	mov     a, lu8v_data
04C4	4099	mov     lu8v_DISPLAUDATA[2], a
04C5	4710	mov     a, lu8v_addr
04C6	409A	mov     lu8v_DISPLAUDATA[3], a
				;147		fun_LCD_NUM(1,LU8C_NUM2_ADDR,lu8v_DISPLAUDATA%10);
04C7	5F15	clr     lu8v_lcd_mode
04C8	4719	mov     a, lu8v_DISPLAUDATA[2]
04C9	408F	mov     lu8v_data, a
04CA	471A	mov     a, lu8v_DISPLAUDATA[3]
04CB	4090	mov     lu8v_addr, a
04CC	0F0A	mov     a, AH
04CD	4091	mov     lu8v_addr_2, a
04CE	5F12	clr     lu8v_addr_1
04CF	67EC	call    L0FEC
04D0	4713	mov     a, lu8v_addr_0
04D1	4081	mov     rb, a
04D2	4714	mov     a, lu8v_table_buff
04D3	4082	mov     rc, a
04D4	4701	mov     a, rb
04D5	4090	mov     lu8v_addr, a
04D6	0F20	mov     a, 20H
04D7	408F	mov     lu8v_data, a
04D8	0F01	mov     a, 1H
04D9	23EA	call    _fun_LCD_NUM
				;148		lu8v_DISPLAUDATA /= 10;
04DA	5F15	clr     lu8v_lcd_mode
04DB	4719	mov     a, lu8v_DISPLAUDATA[2]
04DC	408F	mov     lu8v_data, a
04DD	471A	mov     a, lu8v_DISPLAUDATA[3]
04DE	4090	mov     lu8v_addr, a
04DF	0F0A	mov     a, AH
04E0	4091	mov     lu8v_addr_2, a
04E1	5F12	clr     lu8v_addr_1
04E2	67EC	call    L0FEC
04E3	470F	mov     a, lu8v_data
04E4	4081	mov     rb, a
04E5	4710	mov     a, lu8v_addr
04E6	4082	mov     rc, a
				;149		fun_LCD_NUM(1,LU8C_NUM1_ADDR,lu8v_DISPLAUDATA%10);		
04E7	5F15	clr     lu8v_lcd_mode
04E8	4701	mov     a, rb
04E9	408F	mov     lu8v_data, a
04EA	4702	mov     a, rc
04EB	4090	mov     lu8v_addr, a
04EC	0F0A	mov     a, AH
04ED	4091	mov     lu8v_addr_2, a
04EE	5F12	clr     lu8v_addr_1
04EF	67EC	call    L0FEC
04F0	4713	mov     a, lu8v_addr_0
04F1	4081	mov     rb, a
04F2	4714	mov     a, lu8v_table_buff
04F3	4082	mov     rc, a
04F4	4701	mov     a, rb
04F5	4090	mov     lu8v_addr, a
04F6	0F23	mov     a, 23H
04F7	408F	mov     lu8v_data, a
04F8	0F01	mov     a, 1H
04F9	23EA	call    _fun_LCD_NUM
04FA	0003	ret
				;150	}
				;151	
				;152	/********************************************************************
				;153	Function:	fun_LCD_CLR_TEMP
				;154	INPUT	:	
				;155	OUTPUT	:	
				;156	NOTE	:
				;157	********************************************************************/
				;158	void fun_LCD_CLR_TEMP()
				;159	{
				;160		fun_LCD_NUM(1,LU8C_NUM3_ADDR,18);
				_fun_LCD_CLR_TEMP:
				_fun_LCD_CLR_TEMP:
04FB	0F12	mov     a, 12H
04FC	4090	mov     lu8v_addr, a
04FD	0F0D	mov     a, DH
04FE	408F	mov     lu8v_data, a
04FF	0F01	mov     a, 1H
0500	23EA	call    _fun_LCD_NUM
				;161		fun_LCD_NUM(1,LU8C_NUM2_ADDR,18);
0501	0F12	mov     a, 12H
0502	4090	mov     lu8v_addr, a
				L0503:
0503	0F20	mov     a, 20H
0504	408F	mov     lu8v_data, a
0505	0F01	mov     a, 1H
0506	23EA	call    _fun_LCD_NUM
				;162		fun_LCD_NUM(1,LU8C_NUM1_ADDR,18);	
0507	0F12	mov     a, 12H
0508	4090	mov     lu8v_addr, a
0509	0F23	mov     a, 23H
050A	408F	mov     lu8v_data, a
050B	0F01	mov     a, 1H
050C	23EA	call    _fun_LCD_NUM
050D	0003	ret
				;163	}
				;164	
				;165	/********************************************************************
				;166	Function:	fun_LCD_TEMP_HIGH
				;167	INPUT	:	
				;168	OUTPUT	:	
				;169	NOTE	:
				;170	********************************************************************/
				;171	void fun_LCD_TEMP_HIGH()
				;172	{
				;173		fun_LCD_NUM(1,LU8C_NUM1_ADDR,12);
				_fun_LCD_TEMP_HIGH:
				_fun_LCD_TEMP_HIGH:
0511	0F0C	mov     a, CH
0512	4090	mov     lu8v_addr, a
0513	0F23	mov     a, 23H
0514	408F	mov     lu8v_data, a
0515	0F01	mov     a, 1H
0516	23EA	call    _fun_LCD_NUM
				;174		fun_LCD_NUM(1,LU8C_NUM2_ADDR,19);
0517	0F13	mov     a, 13H
0518	4090	mov     lu8v_addr, a
0519	0F20	mov     a, 20H
051A	408F	mov     lu8v_data, a
051B	0F01	mov     a, 1H
				L051C:
051C	23EA	call    _fun_LCD_NUM
				;175		fun_LCD_NUM(1,LU8C_NUM3_ADDR,18);
051D	0F12	mov     a, 12H
051E	4090	mov     lu8v_addr, a
051F	0F0D	mov     a, DH
0520	408F	mov     lu8v_data, a
0521	0F01	mov     a, 1H
				L0522:
0522	23EA	call    _fun_LCD_NUM
				;176		fun_LCD_CLR_DOT();
0523	250E	call    _fun_LCD_CLR_DOT
				;177		mac_LED_R_Light();		
				L0524:
0524	3420	clr     PC0
0525	30A0	set     PC1
0526	0003	ret
				;178	}	
				;179	
				;180	/********************************************************************
				;181	Function:	fun_LCD_TEMP_LOW
				;182	INPUT	:	
				;183	OUTPUT	:	
				;184	NOTE	:
				;185	********************************************************************/
				;186	void fun_LCD_TEMP_LOW()
				;187	{
				;188		fun_LCD_NUM(1,LU8C_NUM1_ADDR,13);
				_fun_LCD_TEMP_LOW:
				_fun_LCD_TEMP_LOW:
0527	0F0D	mov     a, DH
0528	4090	mov     lu8v_addr, a
0529	0F23	mov     a, 23H
052A	408F	mov     lu8v_data, a
052B	0F01	mov     a, 1H
052C	23EA	call    _fun_LCD_NUM
				;189		fun_LCD_NUM(1,LU8C_NUM2_ADDR,14);
				L052D:
052D	0F0E	mov     a, EH
				L052E:
052E	4090	mov     lu8v_addr, a
052F	0F20	mov     a, 20H
0530	408F	mov     lu8v_data, a
0531	0F01	mov     a, 1H
0532	23EA	call    _fun_LCD_NUM
				;190		fun_LCD_NUM(1,LU8C_NUM3_ADDR,18);
0533	0F12	mov     a, 12H
0534	4090	mov     lu8v_addr, a
0535	0F0D	mov     a, DH
0536	408F	mov     lu8v_data, a
0537	0F01	mov     a, 1H
0538	23EA	call    _fun_LCD_NUM
				;191		fun_LCD_CLR_DOT();	
0539	250E	call    _fun_LCD_CLR_DOT
				;192		mac_LED_R_Light();	
053A	3420	clr     PC0
053B	30A0	set     PC1
053C	0003	ret
				;193	}
				;194	
				;195	volatile U8 gu8v_EEprom_Count;
				;196	/********************************************************************
				;197	Function:	fun_LCD_Display_Mode
				;198	INPUT	:
				;199	OUTPUT	:	
				;200	NOTE	:   
				;201	********************************************************************/
				;202	void fun_LCD_Display_Mode()
				;203	{
				;204		__16_type lu8v_EEprom_Temp;
				;205		
				;206		switch(gu8v_dispaly_mode.U8)
				_fun_LCD_Display_Mode:
				_fun_LCD_Display_Mode:
0586	4738	mov     a, gu8v_dispaly_mode[0]
0587	0A01	sub     a, 1H
0588	3D0A	sz      Z
0589	2D99	jmp     _L47
058A	0A01	sub     a, 1H
058B	3D0A	sz      Z
058C	2D9C	jmp     _L48
058D	4738	mov     a, gu8v_dispaly_mode[0]
058E	0A04	sub     a, 4H
058F	3D0A	sz      Z
0590	2DA0	jmp     _L49
0591	0A04	sub     a, 4H
0592	3D0A	sz      Z
0593	2DA5	jmp     _L50
0594	4738	mov     a, gu8v_dispaly_mode[0]
0595	0A10	sub     a, 10H
0596	390A	snz     Z
0597	2DF1	jmp     _L45
0598	2DB6	jmp     _L57
				;207		{
				;208			case 0b00000001:	// key_room
				;209			{
				;210				fun_LCD_SET_Room_Temp();
				_L47:
0599	23CC	call    _fun_LCD_SET_Room_Temp
				;211				fun_LCD_CLR_Surface_Temp();
059A	23DB	call    _fun_LCD_CLR_Surface_Temp
059B	2D9E	jmp     _L56
				;212				fun_LCD_CLR_Body_Temp();
				;213				gu8v_EEprom_Count = 0;
				;214					
				;215				break;
				;216			}
				;217			case 0b00000010:	// key_surface
				;218			{
				;219				fun_LCD_CLR_Room_Temp();
				_L48:
059C	23D1	call    _fun_LCD_CLR_Room_Temp
				;220				fun_LCD_SET_Surface_Temp();
059D	23D6	call    _fun_LCD_SET_Surface_Temp
				;221				fun_LCD_CLR_Body_Temp();
				_L56:
059E	23E5	call    _fun_LCD_CLR_Body_Temp
059F	2DA3	jmp     _L55
				;222				gu8v_EEprom_Count = 0;
				;223				break;
				;224			}
				;225			case 0b00000100:	// key_body
				;226			{
				;227				fun_LCD_CLR_Room_Temp();
				_L49:
05A0	23D1	call    _fun_LCD_CLR_Room_Temp
				;228				fun_LCD_CLR_Surface_Temp();
05A1	23DB	call    _fun_LCD_CLR_Surface_Temp
				;229				fun_LCD_SET_Body_Temp();
05A2	23E0	call    _fun_LCD_SET_Body_Temp
				;230				gu8v_EEprom_Count = 0;
				_L55:
05A3	5F3E	clr     gu8v_EEprom_Count[0]
				;231				break;
05A4	2DF1	jmp     _L45
				;232			}
				;233			case 0b00001000:	// key_Memory_D
				;234			{
				;235				if(gu8v_EEprom_Count>9) gu8v_EEprom_Count = 0;
				_L50:
05A5	0F09	mov     a, 9H
05A6	423E	sub     a, gu8v_EEprom_Count[0]
05A7	3C0A	sz      C
05A8	2DAA	jmp     _L52
05A9	5F3E	clr     gu8v_EEprom_Count[0]
				;236				gu8v_EEprom_Count++;	
				_L52:
05AA	54BE	inc     gu8v_EEprom_Count[0]
				;237				fun_LCD_CLR_Room_Temp();
05AB	23D1	call    _fun_LCD_CLR_Room_Temp
				;238				fun_LCD_CLR_Surface_Temp();
05AC	23DB	call    _fun_LCD_CLR_Surface_Temp
				;239				fun_LCD_CLR_Body_Temp();
05AD	23E5	call    _fun_LCD_CLR_Body_Temp
				;240				fun_LCD_SET_M();
				;241				 
				;242				fun_LCD_DISPLAY_NUM(gu8v_EEprom_Count);
05B0	473E	mov     a, gu8v_EEprom_Count[0]
05B1	4097	mov     lu8v_DISPLAUDATA, a
05B2	5F18	clr     lu8v_DISPLAUDATA[1]
05B3	24A7	call    _fun_LCD_DISPLAY_NUM
				;243				fun_LCD_CLR_DOT();
05B4	250E	call    _fun_LCD_CLR_DOT
05B5	2DEF	jmp     _L54
				;244				gu8v_dispaly_mode.U8 = 0b10000000;
				;245			}  
				;246				break;
				;247			case 0b00010000:	// key_Memory_V
				;248			{	
				;249				lu8v_EEprom_Temp.byte.byte0 = fun_EEprom_Read(mac_EEprom_Keep_StartAdd+(gu8v_EEprom_Count<<1));
				_L57:
05B6	473E	mov     a, gu8v_EEprom_Count[0]
05B7	4081	mov     rb, a
05B8	5F02	clr     rc
05B9	340A	clr     C
05BA	5A81	rlc     rb
05BB	5A82	rlc     rc
05BC	0F10	mov     a, 10H
05BD	4381	addm    a, rb
05BE	4701	mov     a, rb
05BF	66EF	call    _fun_EEprom_Read
05C0	4080	mov     ra, a
05C1	5F1B	clr     lu8v_EEprom_Temp[0]
05C2	5F1C	clr     lu8v_EEprom_Temp[1]
05C3	4700	mov     a, ra
05C4	409B	mov     lu8v_EEprom_Temp[0], a
				;250				lu8v_EEprom_Temp.byte.byte1 = fun_EEprom_Read(mac_EEprom_Keep_StartAdd+(gu8v_EEprom_Count<<1)+1);
05C5	473E	mov     a, gu8v_EEprom_Count[0]
05C6	4081	mov     rb, a
05C7	5F02	clr     rc
05C8	340A	clr     C
05C9	5A81	rlc     rb
05CA	5A82	rlc     rc
05CB	0F11	mov     a, 11H
05CC	4381	addm    a, rb
05CD	4701	mov     a, rb
05CE	66EF	call    _fun_EEprom_Read
05CF	4080	mov     ra, a
05D0	4700	mov     a, ra
05D1	409C	mov     lu8v_EEprom_Temp[1], a
				;251				if(lu8v_EEprom_Temp.U16 == 0xffff)
05D2	471B	mov     a, lu8v_EEprom_Temp[0]
05D3	461C	and     a, lu8v_EEprom_Temp[1]
05D4	0B01	add     a, 1H
05D5	380A	snz     C
05D6	2DEA	jmp     _L53
				;252				{
				;253					fun_LCD_NUM(1,LU8C_NUM3_ADDR,16);		
05D7	0F10	mov     a, 10H
05D8	4090	mov     lu8v_addr, a
05D9	0F0D	mov     a, DH
05DA	408F	mov     lu8v_data, a
05DB	0F01	mov     a, 1H
05DC	23EA	call    _fun_LCD_NUM
				;254					fun_LCD_NUM(1,LU8C_NUM2_ADDR,16);	
05DD	0F10	mov     a, 10H
05DE	4090	mov     lu8v_addr, a
05DF	0F20	mov     a, 20H
05E0	408F	mov     lu8v_data, a
05E1	0F01	mov     a, 1H
05E2	23EA	call    _fun_LCD_NUM
				;255					fun_LCD_NUM(1,LU8C_NUM1_ADDR,16);
05E3	0F10	mov     a, 10H
05E4	4090	mov     lu8v_addr, a
05E5	0F23	mov     a, 23H
05E6	408F	mov     lu8v_data, a
05E7	0F01	mov     a, 1H
05E8	23EA	call    _fun_LCD_NUM
05E9	2DEF	jmp     _L54
				;256				}
				;257					
				;258				else
				;259					fun_LCD_DISPLAY_NUM(lu8v_EEprom_Temp.U16);	
				_L53:
05EA	471B	mov     a, lu8v_EEprom_Temp[0]
05EB	4097	mov     lu8v_DISPLAUDATA, a
05EC	471C	mov     a, lu8v_EEprom_Temp[1]
05ED	4098	mov     lu8v_DISPLAUDATA[1], a
05EE	24A7	call    _fun_LCD_DISPLAY_NUM
				;260				gu8v_dispaly_mode.U8 = 0b10000000;			
				_L54:
05EF	0F80	mov     a, 80H
05F0	40B8	mov     gu8v_dispaly_mode[0], a
				_L45:
05F1	0003	ret
				;261			}
				;262			break;
				;263	//		case 0b10000000:
				;264	//		{
				;265	//			gu8v_dispaly_mode.U8 = 0b00000010;
				;266	//		}
				;267	//		break;
				;268			default:break;
				;269		}
				;270	}
				;271	
				;272	/********************************************************************
				;273	Function:	fun_LCD_Display_Data
				;274	INPUT	:
				;275	OUTPUT	:	
				;276	NOTE	:   
				;277	********************************************************************/
				;278	void fun_LCD_Display_Data()
				;279	{
				;280		switch(gu8v_dispaly_mode.U8)
				_fun_LCD_Display_Data:
				_fun_LCD_Display_Data:
053D	4738	mov     a, gu8v_dispaly_mode[0]
053E	0A01	sub     a, 1H
053F	3D0A	sz      Z
0540	2D49	jmp     _L34
0541	0A01	sub     a, 1H
0542	3D0A	sz      Z
				L0543:
0543	2D50	jmp     _L35
0544	4738	mov     a, gu8v_dispaly_mode[0]
0545	0A04	sub     a, 4H
0546	390A	snz     Z
0547	2D85	jmp     _L32
0548	2D6C	jmp     _L44
				;281		{
				;282			case 0b00000001:	// key_room
				;283			{
				;284			
				;285				fun_LCD_DISPLAY_NUM(gu16v_temp.S16);
				_L34:
0549	C70C	lmov    a, gu16v_temp[0]
054B	4097	mov     lu8v_DISPLAUDATA, a
054C	C70D	lmov    a, gu16v_temp[1]
054E	4098	mov     lu8v_DISPLAUDATA[1], a
054F	2D82	jmp     _L42
				;286				fun_Beep_init(mac_beep_1);
				;287					
				;288				break;
				;289			}
				;290			case 0b00000010:	// key_surface
				;291			{
				;292				
				;293				if(gu16v_current_temp.S16 < 50)
				_L35:
0550	0F31	mov     a, 31H
0551	C214	lsub    a, gu16v_current_temp[0]
0553	0F00	mov     a, 0H
0554	D215	lsbc    a, gu16v_current_temp[1]
0556	3F8A	sz      SC
0557	2D5A	jmp     _L37
				;294				{			
				;295					fun_LCD_TEMP_LOW();
				_L39:
0558	2527	call    _fun_LCD_TEMP_LOW
0559	2D63	jmp     _L43
				;296					fun_Beep_init(mac_beep_1_1_1_1);
				;297				}
				;298				else if(gu16v_current_temp.S16 > 800)
				_L37:
055A	0F20	mov     a, 20H
055B	C214	lsub    a, gu16v_current_temp[0]
055D	0F03	mov     a, 3H
055E	D215	lsbc    a, gu16v_current_temp[1]
0560	3B8A	snz     SC
0561	2D65	jmp     _L38
				;299				{
				;300					fun_LCD_TEMP_HIGH();
				_L40:
0562	2511	call    _fun_LCD_TEMP_HIGH
				;301					fun_Beep_init(mac_beep_1_1_1_1);
				_L43:
0563	0F03	mov     a, 3H
0564	2D84	jmp     _L41
				;302				}
				;303				else
				;304				{	
				;305					fun_LCD_DISPLAY_NUM(gu16v_current_temp.S16);
				_L38:
0565	C714	lmov    a, gu16v_current_temp[0]
0567	4097	mov     lu8v_DISPLAUDATA, a
0568	C715	lmov    a, gu16v_current_temp[1]
056A	4098	mov     lu8v_DISPLAUDATA[1], a
056B	2D82	jmp     _L42
				;306					fun_Beep_init(mac_beep_1);
				;307				}
				;308				
				;309				break;
				;310			}
				;311			case 0b00000100:	// key_body
				;312			{
				;313	//			fun_EEprom_Keep_W();
				;314		
				;315				if(gu16v_current_temp.S16 < 281)
				_L44:
056C	0F18	mov     a, 18H
056D	C214	lsub    a, gu16v_current_temp[0]
056F	0F01	mov     a, 1H
0570	D215	lsbc    a, gu16v_current_temp[1]
0572	3B8A	snz     SC
0573	2D58	jmp     _L39
				;316				{			
				;317					fun_LCD_TEMP_LOW();
				;318					fun_Beep_init(mac_beep_1_1_1_1);
				;319				}
				;320				else if(gu16v_current_temp.S16 > 389)
0574	0F85	mov     a, 85H
0575	C214	lsub    a, gu16v_current_temp[0]
0577	0F01	mov     a, 1H
0578	D215	lsbc    a, gu16v_current_temp[1]
057A	3F8A	sz      SC
057B	2D62	jmp     _L40
				;321				{
				;322					fun_LCD_TEMP_HIGH();
				;323					fun_Beep_init(mac_beep_1_1_1_1);
				;324				}
				;325				else
				;326				{
				;327					fun_LCD_DISPLAY_NUM(gu16v_body_temp.S16);
057C	C720	lmov    a, gu16v_body_temp[0]
057E	4097	mov     lu8v_DISPLAUDATA, a
057F	C721	lmov    a, gu16v_body_temp[1]
0581	4098	mov     lu8v_DISPLAUDATA[1], a
				_L42:
0582	24A7	call    _fun_LCD_DISPLAY_NUM
				;328					fun_Beep_init(mac_beep_1);
0583	0F01	mov     a, 1H
				_L41:
0584	6118	call    _fun_Beep_init
				_L32:
0585	0003	ret
				;329				}
				;330				break;
				;331			}
				;332			default:break;
				;333		}
				;334	}
				;335	
				;336	
				;337	/********************************************************************
				;338	Function:	fun_LCD_Test
				;339	INPUT	:	
				;340	OUTPUT	:	
				;341	NOTE	:	
				;342	********************************************************************/
				;343	void	fun_LCD_Test()
				;344	{
				;345		volatile	U16 lu8v_count;
				;346		while(1)
				;347		{	
				;348			fun_LCD_DISPLAY_NUM(231);
				;349		
				;350			GCC_CLRWDT();//清除看T狗
				;351			lu8v_count++;
				;352			fun_LCD_DISPLAY_NUM(lu8v_count);
				;353			GCC_DELAY(100000);GCC_DELAY(100000);GCC_DELAY(100000);GCC_DELAY(100000);GCC_DELAY(100000);	//delay 500ms
				;354		
				;355		}
				;356			
				;357	}
				;358	
				;359	
				;360	#if(mac_MCU_pin == mac_MCU_P80)
				;361	
				;362	void	fun_LCD_SET_F()
				;363	{
				;364		gu8v_LCD_buffer[24].bits.b1 = 1;		
				;365	}
				;366	
				;367	void	fun_LCD_CLR_F()
				;368	{
				;369		gu8v_LCD_buffer[24].bits.b1 = 0;		
				;370	}		
				;371	
				;372	void	fun_LCD_SET_C()	
				;373	{
				;374		gu8v_LCD_buffer[24].bits.b2 = 1;	
				;375	}
				;376	
				;377	void	fun_LCD_CLR_C()	
				;378	{
				;379		gu8v_LCD_buffer[24].bits.b2 = 0;		
				;380	}	
				;381	
				;382	void	fun_LCD_SET_Room_Temp()
				;383	{
				;384		gu8v_LCD_buffer[25].bits.b3 = 1;	
				;385		gu8v_LCD_buffer[36].bits.b3 = 1;
				;386	}
				;387		
				;388	void	fun_LCD_CLR_Room_Temp()
				;389	{
				;390		gu8v_LCD_buffer[25].bits.b3 = 0;
				;391		gu8v_LCD_buffer[36].bits.b3 = 0;		
				;392	}	
				;393		
				;394	void	fun_LCD_SET_Surface_Temp()
				;395	{
				;396		gu8v_LCD_buffer[31].bits.b3 = 1;
				;397		gu8v_LCD_buffer[33].bits.b3 = 1;		
				;398			
				;399	}
				;400			
				;401	void	fun_LCD_CLR_Surface_Temp()
				;402	{
				;403		gu8v_LCD_buffer[31].bits.b3 = 0;
				;404		gu8v_LCD_buffer[33].bits.b3 = 0;		
				;405			
				;406	}
				;407		
				;408	void	fun_LCD_SET_Body_Temp()
				;409	{
				;410		gu8v_LCD_buffer[28].bits.b3 = 1;
				;411		gu8v_LCD_buffer[34].bits.b3 = 1;		
				;412			
				;413	}
				;414		
				;415	void	fun_LCD_CLR_Body_Temp()
				;416	{
				;417		gu8v_LCD_buffer[28].bits.b3 = 0;
				;418		gu8v_LCD_buffer[34].bits.b3 = 0;		
				;419			
				;420	}		
				;421		
				;422	void	fun_LCD_SET_DOT()
				;423	{
				;424		gu8v_LCD_buffer[27].bits.b3 = 1;	
				;425	}
				;426			
				;427	void	fun_LCD_CLR_DOT()
				;428	{
				;429		gu8v_LCD_buffer[27].bits.b3 = 0;		
				;430	}	
				;431		
				;432	void	fun_LCD_SET_M()	
				;433	{
				;434		gu8v_LCD_buffer[37].bits.b3 = 1;		
				;435	}
				;436		
				;437	void	fun_LCD_CLR_M()
				;438	{
				;439		gu8v_LCD_buffer[37].bits.b3 = 0;		
				;440	}		
				;441		
				;442	
				;443	#endif
				;444	
				;445	//-------------------------------------------//
				;446	
				;447	#if( mac_MCU_pin == mac_MCU_P64)
				;448	
				;449	void	fun_LCD_SET_F()
				;450	{
				;451		gu8v_LCD_buffer[10].bits.b1 = 1;		
				;452	}
				;453	
				;454	void	fun_LCD_CLR_F()
				;455	{
				;456		gu8v_LCD_buffer[10].bits.b1 = 0;		
				;457	}		
				;458	
				;459	void	fun_LCD_SET_C()	
				;460	{
				;461		gu8v_LCD_buffer[10].bits.b2 = 1;	
				_fun_LCD_SET_C:
				_fun_LCD_SET_C:
0016	F10A	lset    [018AH].2
0018	0003	ret
				;462	}
				;463	
				;464	void	fun_LCD_CLR_C()	
				;465	{
				;466		gu8v_LCD_buffer[10].bits.b2 = 0;		
				;467	}	
				;468	
				;469	void	fun_LCD_SET_Room_Temp()
				;470	{
				;471		gu8v_LCD_buffer[11].bits.b3 = 1;	
				_fun_LCD_SET_Room_Temp:
				_fun_LCD_SET_Room_Temp:
03CC	F18B	lset    [018BH].3
				;472		gu8v_LCD_buffer[38].bits.b3 = 1;
03CE	F1A6	lset    [01A6H].3
03D0	0003	ret
				;473	}
				;474		
				;475	void	fun_LCD_CLR_Room_Temp()
				;476	{
				;477		gu8v_LCD_buffer[11].bits.b3 = 0;
				_fun_LCD_CLR_Room_Temp:
				_fun_LCD_CLR_Room_Temp:
03D1	F58B	lclr    [018BH].3
				;478		gu8v_LCD_buffer[38].bits.b3 = 0;		
03D3	F5A6	lclr    [01A6H].3
03D5	0003	ret
				;479	}	
				;480		
				;481	void	fun_LCD_SET_Surface_Temp()
				;482	{
				;483		gu8v_LCD_buffer[33].bits.b3 = 1;
				_fun_LCD_SET_Surface_Temp:
				_fun_LCD_SET_Surface_Temp:
03D6	F1A1	lset    [01A1H].3
				;484		gu8v_LCD_buffer[35].bits.b3 = 1;		
03D8	F1A3	lset    [01A3H].3
03DA	0003	ret
				;485			
				;486	}
				;487			
				;488	void	fun_LCD_CLR_Surface_Temp()
				;489	{
				;490		gu8v_LCD_buffer[33].bits.b3 = 0;
				_fun_LCD_CLR_Surface_Temp:
				_fun_LCD_CLR_Surface_Temp:
03DB	F5A1	lclr    [01A1H].3
				;491		gu8v_LCD_buffer[35].bits.b3 = 0;		
03DD	F5A3	lclr    [01A3H].3
03DF	0003	ret
				;492			
				;493	}
				;494		
				;495	void	fun_LCD_SET_Body_Temp()
				;496	{
				;497		gu8v_LCD_buffer[14].bits.b3 = 1;
				_fun_LCD_SET_Body_Temp:
				_fun_LCD_SET_Body_Temp:
03E0	F18E	lset    [018EH].3
				;498		gu8v_LCD_buffer[36].bits.b3 = 1;		
03E2	F1A4	lset    [01A4H].3
03E4	0003	ret
				;499			
				;500	}
				;501		
				;502	void	fun_LCD_CLR_Body_Temp()
				;503	{
				;504		gu8v_LCD_buffer[14].bits.b3 = 0;
				_fun_LCD_CLR_Body_Temp:
				_fun_LCD_CLR_Body_Temp:
03E5	F58E	lclr    [018EH].3
				;505		gu8v_LCD_buffer[36].bits.b3 = 0;		
03E7	F5A4	lclr    [01A4H].3
03E9	0003	ret
				;506			
				;507	}		
				;508		
				;509	void	fun_LCD_SET_DOT()
				;510	{
				;511		gu8v_LCD_buffer[13].bits.b3 = 1;	
				_fun_LCD_SET_DOT:
				_fun_LCD_SET_DOT:
0019	F18D	lset    [018DH].3
001B	0003	ret
				;512	}
				;513			
				;514	void	fun_LCD_CLR_DOT()
				;515	{
				;516		gu8v_LCD_buffer[13].bits.b3 = 0;		
				_fun_LCD_CLR_DOT:
				_fun_LCD_CLR_DOT:
050E	F58D	lclr    [018DH].3
0510	0003	ret
				;517	}	
				;518		
				;519	void	fun_LCD_SET_M()	
				;520	{
				;521		gu8v_LCD_buffer[39].bits.b3 = 1;		
05AE	F1A7	lset    [01A7H].3
				;522	}
				;523		
				;524	void	fun_LCD_CLR_M()
				;525	{
				;526		gu8v_LCD_buffer[39].bits.b3 = 0;		
				;527	}		
				;528	
				;529	
				;530	//-------------------------------------------//
				;531	
				;532	#endif
				;533	
				;file E:\SourceTree_Source\sw_ht67f5652_forehead_thermeter_sim\sw_ht67f5652_forehead_thermometer\User\Uart.c
				;1	
				;2	/*************************************************************************************/
				;3	//**	Copyright	:	2016 BY HOLTEK SEMICONDUCTOR INC                            **
				;4	//** 	File Name   :	Uart.c 	       	                                            **
				;5	//**	Description	: 																**
				;6	//**	MCU      	: 	HT67F5652													**
				;7	//**	Author   	: 	Leo															**
				;8	//**	Date     	: 	2016/10/28													**
				;9	//**	Version  	: 	V00															**
				;10	//**	History  	:																**
				;11	/*************************************************************************************/
				;12	
				;13	#include "..\User\CONFIG.h"
				;14	
				;15	volatile	U8	gu8v_rx_guide;
				;16	volatile	U8	gu8v_tx_guide;
				;17	volatile	__byte_type	gu8v_uart_flag;
				;18	volatile	U8	array_uart_txbuff[10];
				;19	volatile	U8	array_uart_rxbuff[6];
				;20	
				;21	/********************************************************************
				;22	Function:	fun_Uart_Init
				;23	INPUT	:
				;24	OUTPUT	:	
				;25	NOTE	:   
				;26	********************************************************************/
				;27	void fun_Uart_Init(void)
				;28	{
				;29	  	_ucr1 = UCR1_8_N_1;     //enable UART function,8bits-Data  NONE-Parity 1bit-Stop Format
				;30	  	_ucr2 = UCR2Data1;      //enable TXEN,RXEN,Hige Speed Baud Rate, Receiver interrupt enable 
				;31		_rie = 1;				//接收中嗍鼓
				;32	 	_brg = BRGData;         //波特率O置
				;33	//	_euti = 1;      		//UART interrupt enable
				;34		_uie = 1;      			//UART interrupt enable	
				;35		_mf1e = 1;     
				;36	}
				;37	
				;38	/********************************************************************
				;39	Function:	fun_Uart_off
				;40	INPUT	:
				;41	OUTPUT	:	
				;42	NOTE	:   
				;43	********************************************************************/
				;44	void fun_Uart_off(void)
				;45	{
				;46		_uarten = 0;
				;47		_ucr1 = 0;
				;48		_ucr2 = 0;	
				;49		_uie = 0;
				;50	//	_euti = 0;      		
				;51	}
				;52	
				;53	
				;54	/********************************************************************
				;55	Function:	fun_Uart_Test
				;56	INPUT	:
				;57	OUTPUT	:	
				;58	NOTE	:   
				;59	********************************************************************/
				;60	void fun_Uart_Test(void)
				;61	{
				;62		volatile	U16 lu16v_count;
				;63		fun_Uart_Init();
				;64		while(1)
				;65		{
				;66			GCC_CLRWDT();
				;67			lu16v_count++;
				;68			array_uart_txbuff[0] = 0x55;
				;69			array_uart_txbuff[1] = 0x01;
				;70			array_uart_txbuff[2] = 0x09;
				;71			array_uart_txbuff[3] = 0x02;
				;72			array_uart_txbuff[4] = lu16v_count>>8;
				;73			array_uart_txbuff[5] = lu16v_count;
				;74			array_uart_txbuff[6] = 0;
				;75			array_uart_txbuff[7] = 0X55+0X01+0X09+0X02+0XAA+array_uart_txbuff[4]+array_uart_txbuff[5]+array_uart_txbuff[6];
				;76			array_uart_txbuff[8] = 0XAA;
				;77			gu8v_tx_guide=0;
				;78			_txr_rxr = array_uart_txbuff[0];    	
				;79			GCC_DELAY(10000);
				;80	
				;81		}
				;82			
				;83	}
				;84	/********************************************************************
				;85	Function:	fun_Uart_ISR
				;86	INPUT	:
				;87	OUTPUT	:	
				;88	NOTE	:   
				;89	********************************************************************/
				;90	void __attribute((interrupt(0x1c)))  fun_Uart_ISR()
				;91	{
				@fun_Uart_ISR_code .SECTION 'CODE'
001C	4088	mov     r11c, a
				L001D:
001D	070B	mov     a, __status[1]
001E	4089	mov     r21c, a
001F	68B5	jmp     _fun_Uart_ISR
				@dummy28 .SECTION 'CODE'
0020	3535	clr     T1POL
				L0021:
0021	3535	clr     T1POL
0022	3535	clr     T1POL
0023	3435	clr     T1CCLR
0024	3233	set     ADRM.4
				L0025:
0025	3232	set     ADCK4
0026	3232	set     ADCK4
0027	3232	set     ADCK4
0028	3232	set     ADCK4
0029	3031	set     ADCR1.0
				L002A:
002A	2F30	jmp     L0730
002B	2F2F	jmp     L072F
002C	2E2E	jmp     _L13
002D	2E2E	jmp     _L13
002E	2E2E	jmp     _L13
002F	2E2E	jmp     _L13
0030	2D2E	jmp     L052E
0031	2D2D	jmp     L052D
0032	2B2C	jmp     L032C
0033	2A2B	jmp     L022B
0034	282A	jmp     L002A
0035	2728	call    L0728
0036	2626	call    L0626
0037	2425	call    L0425
0038	2324	call    L0324
0039	2222	call    L0222
003A	2021	call    L0021
003B	1E1F	snz     PCPU
003C	1C1D	itabrdc PB
003D	1A1B	rlca    PAC
003E	1819	rla     PAPU
003F	1617	siza    MFI3
0040	1515	deca    MFI1
0041	1314	adc     a, MFI0
0042	1112	swapa   INTC2
0043	0F10	mov     a, 10H
0044	0F0F	mov     a, FH
0045	100E	sza     MP2H
0046	0E0F	and     a, FH
				L0047:
0047	0C0D	xor     a, DH
0048	0C0C	xor     a, CH
0049	0C0C	xor     a, CH
004A	0C0C	xor     a, CH
004B	0C0C	xor     a, CH
004C	0C0C	xor     a, CH
004D	0C0C	xor     a, CH
004E	0C0C	xor     a, CH
004F	0C0C	xor     a, CH
0050	0C0C	xor     a, CH
0051	0A0B	sub     a, BH
0052	0A0A	sub     a, AH
0053	0A0A	sub     a, AH
0054	0A0A	sub     a, AH
0055	0A0A	sub     a, AH
0056	EC0A	jmp     1C0AH
				_fun_Uart_ISR:
				_fun_Uart_ISR:
08B5	070A	mov     a, STATUS
08B6	C088	lmov    r31c, a
08B8	0703	mov     a, MP1L
08B9	C089	lmov    r41c, a
08BB	0704	mov     a, MP1H
08BC	C08A	lmov    r51c, a
08BE	0707	mov     a, TBLP
08BF	C08B	lmov    r61c, a
08C1	0709	mov     a, TBHP
08C2	C0CA	lmov    r71c, a
				;92		volatile U8	lu8v_isr_temp0;
				;93		if(_uif)
08C4	3B95	snz     UIF
08C5	6900	jmp     L0900
				;94		{
				;95		  	_uif = 0;								//clear urf flag
08C6	3795	clr     UIF
				;96		   	if(_perr && _nf && _ferr && _oerr)		// error found?
08C7	3BD4	snz     PERR
08C8	68D2	jmp     L08D2
08C9	3B54	snz     NF
08CA	68D2	jmp     L08D2
08CB	3AD4	snz     FERR
08CC	68D2	jmp     L08D2
08CD	3A54	snz     OERR
08CE	68D2	jmp     L08D2
				;97		   	{
				;98		   	   lu8v_isr_temp0 = _usr;				//read USR to clear error flag     
08CF	0754	mov     a, USR
08D0	408E	mov     lu8v_isr_temp0[0], a
08D1	6900	jmp     L0900
				;99		   	}
				;100		   	else									// no error found
				;101		   	{
				;102		   	   if(_rxif)							//RXR	data register has available	data
				L08D2:
08D2	3954	snz     RXIF
08D3	68F1	jmp     L08F1
				;103		   	   {
				;104		   	   		//receive data from PC
				;105					array_uart_rxbuff[gu8v_rx_guide] = _txr_rxr; 
08D4	0FC4	mov     a, C4H
08D5	434D	add     a, gu8v_rx_guide[0]
08D6	0083	mov     MP1L, a
08D7	0F02	mov     a, 2H
08D8	1F04	clr     MP1H
08D9	1384	adcm    a, MP1H
08DA	0758	mov     a, TXR_RXR
08DB	0082	mov     __iar1[0], a
				;106					
				;107					if(array_uart_rxbuff[gu8v_rx_guide] == 10)	
08DC	0FC4	mov     a, C4H
08DD	434D	add     a, gu8v_rx_guide[0]
08DE	0083	mov     MP1L, a
08DF	0F02	mov     a, 2H
08E0	1F04	clr     MP1H
08E1	1384	adcm    a, MP1H
08E2	A014	call    L1014
08E3	408A	mov     ra1c, a
08E4	470A	mov     a, ra1c
08E5	0A0A	sub     a, AH
08E6	390A	snz     Z
08E7	68E9	jmp     L08E9
				;108					{
				;109						gbv_rx_success = 1;
08E8	70EE	set     gu8v_uart_flag[0].1
				;110					}
				;111						
				;112					if(gu8v_rx_guide>=5)
				L08E9:
08E9	0F04	mov     a, 4H
08EA	424D	sub     a, gu8v_rx_guide[0]
08EB	3C0A	sz      C
08EC	68EF	jmp     L08EF
				;113					{
				;114						gu8v_rx_guide = 0 ;					
08ED	5F4D	clr     gu8v_rx_guide[0]
08EE	68F0	jmp     L08F0
				;115					}
				;116					else
				;117					{
				;118						gu8v_rx_guide ++ ;						
				L08EF:
08EF	54CD	inc     gu8v_rx_guide[0]
				;119					}
				;120		   	   	  
				;121		   	   	  
				;122		   	   	  GCC_NOP();
				L08F0:
08F0	0000	nop
				;123		   	   }
				;124		   	   if(_txif)							//TXR	data register is empty
				L08F1:
08F1	3854	snz     TXIF
08F2	6900	jmp     L0900
				;125		   	   {
				;126		   	   		gu8v_tx_guide++; 	   		
08F3	54CC	inc     gu8v_tx_guide[0]
				;127		   	   		if(gu8v_tx_guide<=8)			//
08F4	0F08	mov     a, 8H
08F5	424C	sub     a, gu8v_tx_guide[0]
08F6	380A	snz     C
08F7	6900	jmp     L0900
				;128		   	   		{
				;129			   	   		_txr_rxr = array_uart_txbuff[gu8v_tx_guide];	  	   	   	
08F8	0FD8	mov     a, D8H
08F9	434C	add     a, gu8v_tx_guide[0]
08FA	0083	mov     MP1L, a
08FB	0F00	mov     a, 0H
08FC	1F04	clr     MP1H
08FD	1384	adcm    a, MP1H
08FE	A014	call    L1014
08FF	00D8	mov     TXR_RXR, a
				;130		   	   		}
				;131		   	   	/*	else 
				;132		   	   		{
				;133			   	   		gu8v_tx_guide=0;	
				;134		   	   		}*/
				;135						
				;136		   	   }
				;137		   	}	
				;138		}	
				;139	
				;140	
				;141		_sif = 0;
				L0900:
0900	3715	clr     SIF
				;142		_uif = 0;
0901	3795	clr     UIF
				;143		_lvf = 0;
0902	3615	clr     LVF
				;144		_def = 0;
0903	3695	clr     DEF
0904	4709	mov     a, r21c
0905	008B	mov     __status[1], a
0906	C708	lmov    a, r31c
0908	008A	mov     STATUS, a
0909	C709	lmov    a, r41c
090B	0083	mov     MP1L, a
090C	C70A	lmov    a, r51c
090E	0084	mov     MP1H, a
090F	C70B	lmov    a, r61c
0911	0087	mov     TBLP, a
0912	C74A	lmov    a, r71c
				L0914:
0914	0089	mov     TBHP, a
0915	1D05	tabrdc  ACC
0916	4708	mov     a, r11c
0917	0004	reti
				;145	}
				;146	
				;147	
				;148	/********************************************************************
				;149	Function:	fun_Uart_manage
				;150	INPUT	:
				;151	OUTPUT	:	
				;152	NOTE	:   
				;153	********************************************************************/
				;154	void	fun_Uart_manage(void)
				;155	{
				;156	//	if(gbv_rx_success == 1)
				;157	//	{
				;158	//		gbv_rx_success = 0;
				;159	//		if(array_uart_rxbuff[0] == 47 && array_uart_rxbuff[5] == 10)
				;160	//		{
				;161	//			switch(array_uart_rxbuff[1])
				;162	//			{
				;163	//				//
				;164	//				case	0xaa:
				;165	//
				;166	//				break;
				;167	//				
				;168	//				default	:
				;169	//				
				;170	//				break;			
				;171	//				
				;172	//				
				;173	//				
				;174	//							
				;175	//			}	
				;176	//					
				;177	//		}
				;178	//		else
				;179	//		{
				;180	//			gu8v_rx_guide = 0;
				;181	//			
				;182	//		}
				;183	//		
				;184	//	}
				;185		
				;186	}
				;file E:\SourceTree_Source\sw_ht67f5652_forehead_thermeter_sim\sw_ht67f5652_forehead_thermometer\User\calculate.c
				;1	
				;2	/*************************************************************************************/
				;3	//**	Copyright	:	2016 BY HOLTEK SEMICONDUCTOR INC                            **
				;4	//** 	File Name   :	calculate.c 	       	                                    **
				;5	//**	Description	: 																**
				;6	//**	MCU      	: 	HT67F5652													**
				;7	//**	Author   	: 	Leo													    	**
				;8	//**	Date     	: 	2016/10/28													**
				;9	//**	Version  	: 	V00															**
				;10	//**	History  	:																**
				;11	/*************************************************************************************/
				;12	
				;13	#include "..\User\Config.h"
				;14	
				;15	
				;16	
				;17	
				;18	/*********************************************************
				;19	//	Name: 石冢 10TP583T	NTC
				;20	//	Note: R25 = 100K
				;21	//	      B   = 3435
				;22	*********************************************************/
				;23	const	U16	LU16C_NTC_TABLE[500] = {
00BB	9C70	litabrd r71c[27814]
00BD	976F	lsdza   r71c[27557]
00BF	946E	linca   r71c[27300]
00C1	946D	linca   r71c[27043]
00C3	976C	lsdza   r71c[26786]
00C5	9C6B	litabrd r71c[26529]
00C7	A46A	call    146AH
00C8	2969	jmp     L0169
00C9	AF69	jmp     1769H
00CA	3568	clr     STM3DL.2
00CB	BC68	lsz     [06768H].0
00CD	CC67	dc	0CC67H
00CE	5566	deca    gu8v_KeyOld[0]
00CF	DE66	lsnz   r71c[25372]
00D1	F365	lset    [064E5H].6
00D3	0A64	sub     a, 64H
00D4	9764	lsdza   r71c[24730]
00D6	B263	lset    [06263H].4
00D8	CF62	dc	0CF62H
00D9	5E61	snz     array_uart_txbuff[9]
00DA	EF61	jmp     1F61H
00DB	7F60	sz      array_uart_txbuff[8].6
00DC	1060	sza     SIMC0
00DD	A260	call    1260H
00DE	355F	clr     __lcd3[1].2
00DF	C85F	dc	0C85FH
00E0	5B5E	rrca    array_uart_txbuff[6]
00E1	EF5E	jmp     1F5EH
00E2	845D	lxor    a, r71c[23187]
00E4	AF5D	jmp     175DH
00E5	455C	or      a, array_uart_txbuff[4]
00E6	DC5C	litabrd r71c[22802]
00E8	0C5B	xor     a, 5BH
00E9	A45B	call    145BH
00EA	3D5A	sz      IRCTRL1.2
00EB	D75A	lsdza   r71c[22288]
00ED	0B59	add     a, 59H
00EE	A659	call    1659H
00EF	4258	sub     a, array_uart_txbuff[0]
00F0	DE58	lsnz   r71c[21774]
00F2	1857	rla     BRG
00F3	B657	lclr    [05657H].4
00F5	F356	lset    [055D6H].6
00F7	3155	set     TXBRK
00F8	D255	lsbc    a, r71c[21003]
00FA	1354	adc     a, USR
00FB	B554	lclr    [05354H].2
00FD	FA53	lsnz    [052D3H].4
00FF	4052	dc	04052H
0100	E452	call    1C52H
0101	8951	dc	08951H
0102	2E51	jmp     651H
0103	D351	ladc    a, r71c[19975]
0105	1F50	clr     PWRC
0106	C650	land    a, r71c[19718]
0108	154F	deca    CP0C
0109	BD4F	lsz     [04E4FH].2
010B	0F4E	mov     a, 4EH
010C	B84E	lsnz    [04D4EH].0
010E	0C4D	xor     a, 4DH
010F	B74D	lclr    [04C4DH].6
0111	0E4C	and     a, 4CH
0112	BA4C	lsnz    [04B4CH].4
				L0113:
				org	0113h
0113	0000	nop
0114	134B	adc     a, PTM1RPH
				L0115:
0115	C14B	lcpla   r71c[18433]
0117	1C4A	itabrdc PTM1RPL
0118	CB4A	dc	0CB4AH
0119	7A49	snz     gu16v_correction_K1[0].4
011A	2949	jmp     L0149
011B	D949	lrra    r71c[17919]
011D	3A48	snz     PTM2AH.4
011E	EA48	jmp     1A48H
011F	9C47	litabrd r71c[17533]
				L0121:
0121	0047	jmp     L0047
0122	B247	lset    [04647H].4
0124	1846	rla     PTM2DH
0125	CC46	dc	0CC46H
0126	8045	dc	08045H
0127	3445	clr     PTM2DL.0
0128	E945	jmp     1945H
0129	9E44	lsnz   r71c[16762]
012B	0944	ret     a, 44H
012C	C044	dc	0C044H
012D	7643	clr     gu16v_set_temperature[1].4
012E	2D43	jmp     L0543
012F	E543	call    1D43H
0130	9C42	litabrd r71c[16248]
0132	0D42	or      a, 42H
0133	C542	lor     a, r71c[16120]
				L0134:
				org	0134h
0134	0000	nop
0135	3841	snz     EEA.0
0136	F241	lset    [040C1H].4
0138	6640	call    L0E40
0139	2140	call    L0140
013A	DC40	litabrd r71c[15606]
013C	543F	inca    gu8v_key_enable[0]
013D	103F	sza     TM0AH
013E	CC3F	dc	0CC3FH
013F	893E	dc	0893EH
				L0140:
0140	463E	and     a, gu8v_EEprom_Count[0]
0141	043E	xor     a, TM0AL
0142	C23E	lsub    a, r71c[15092]
0144	3E3D	sz      TM0DH.4
0145	FD3D	lsz     [03CBDH].2
0147	7B3C	snz     gu8v_KeyPress[0].6
0148	3B3C	snz     TM0DL.6
				L0149:
0149	FB3C	lsnz    [03BBCH].6
014B	7C3B	sz      gu8v_correction_mode[0].0
014C	3D3B	sz      T0POL
014D	FE3B	lsz     [03ABBH].4
014F	823A	lsub    a, r71c[14192]
0151	063A	and     a, TM0C0
0152	C93A	dc	0C93AH
0153	8C39	dc	08C39H
0154	4F39	dc	04F39H
0155	1339	adc     a, PTM1AH
0156	D739	lsdza   r71c[13807]
0158	5F38	clr     gu8v_dispaly_mode[0]
0159	2438	call    L0438
015A	E938	jmp     1938H
015B	AF37	jmp     1737H
015C	7437	clr     gu8v_sys_status[0].0
015D	3A37	snz     PTM1DH.4
015E	0037	dc	00037H
015F	C737	lmov    a, r71c[13293]
0161	5436	inca    gu8v_time_flag[0]
0162	1C36	itabrdc PTM1DL
0163	E336	call    1B36H
0164	AB35	jmp     1335H
0165	7335	set     _fun_Work_mode_2.6
0166	3B35	snz     T1M0
0167	0435	xor     a, PTM1C1
0168	CD35	dc	0CD35H
				L0169:
0169	9634	lsiza   r71c[12650]
016B	2934	jmp     134H
016C	F334	lset    [033B4H].6
016E	8833	dc	08833H
016F	5233	sbc     a, lu8v_table_h[4]
0170	1D33	tabrdc  ADRM
0171	E833	jmp     1833H
0172	B432	lclr    [03232H].0
0174	4B32	jmp     L0B32
0175	1832	rla     ADCS
0176	E432	call    1C32H
0177	B131	lset    [03131H].2
0179	4B31	call    L0B31
017A	1831	rla     ADCR1
017B	E631	call    1E31H
017C	B330	lset    [03030H].6
017E	5030	sza     lu8v_table_h[1]
017F	1E30	snz     ADCR0
0180	ED30	jmp     1D30H
0181	BC2F	lsz     [02F2FH].0
0183	5B2F	rrca    lu8v_table_h
0184	2B2F	jmp     L032F
0185	FA2F	lsnz    [02EAFH].4
0187	9B2E	lrrca   r71c[11108]
0189	3C2E	sz      ADRL.0
018A	0D2E	or      a, 2EH
018B	DF2E	lclr    r71c[10980]
018D	822D	lsub    a, r71c[10851]
018F	262D	call    L062D
0190	F82D	lsnz    [02CADH].0
0192	9D2C	ltabrd r71c[10594]
0194	432C	add     a, ls16v_Vol_buff1
0195	172C	sdza    CTRL
0196	EA2C	jmp     1A2CH
0197	BE2B	lsz     [02B2BH].4
0199	662B	call    L0E2B
019A	3B2B	snz     LVS6
019B	0F2B	mov     a, 2BH
019C	E42B	call    1C2BH
019D	B92A	lsnz    [02A2AH].2
019F	642A	call    L0C2A
01A0	392A	snz     WS2
01A1	0F2A	mov     a, 2AH
01A2	E52A	call    1D2AH
01A3	BB29	lsnz    [02929H].6
01A5	6829	jmp     L0829
01A6	3F29	sz      INT3S0
01A7	1529	deca    INTEG
01A8	ED29	jmp     1D29H
01A9	C428	lxor    a, r71c[9694]
01AB	7328	set     lu16v_table_guide2.6
01AC	4B28	dc	04B28H
01AD	2328	call    L0328
01AE	FB28	lsnz    [027A8H].6
01B0	AC27	jmp     1427H
01B1	8527	lor     a, r71c[9309]
01B3	3727	clr     TBCK
01B4	1027	sza     TBC
01B5	E927	jmp     1927H
01B6	C326	ladd    a, r71c[9180]
01B8	7726	clr     gs32v_Vol_temp1.6
01B9	5126	swapa   gs32v_Vol_temp1
01BA	2B26	jmp     _fun_Sys_Init
01BB	0626	and     a, SMOD
01BC	E026	call    1826H
01BD	BB25	lsnz    [02525H].6
01BF	7125	set     gu8v_temp[4].2
01C0	4D25	dc	04D25H
01C1	2825	jmp     L0025
01C2	0425	xor     a, __pdc[1]
01C3	E025	call    1825H
01C4	BC24	lsz     [02424H].0
01C6	7424	clr     gu8v_temp[3].0
01C7	5024	sza     gu8v_temp[3]
01C8	2D24	jmp     L0524
01C9	0A24	sub     a, 24H
01CA	E724	call    1F24H
01CB	C423	lxor    a, r71c[8409]
01CD	7E23	sz      gu8v_temp[2].4
01CE	5C23	itabrdc gu8v_temp[2]
01CF	3A23	snz     PD4
01D0	1823	rla     PD
01D1	F623	lclr    [022A3H].4
01D3	B222	lset    [02222H].4
01D5	6F22	jmp     L0F22
01D6	4E22	jmp     L0E22
01D7	2D22	jmp     L0522
01D8	0C22	xor     a, 22H
01D9	EB22	jmp     1B22H
01DA	CA21	dc	0CA21H
01DB	AA21	jmp     1221H
01DC	8921	dc	08921H
01DD	6921	jmp     L0921
01DE	4921	jmp     L0921
01DF	2921	jmp     L0121
01E0	0921	ret     a, 21H
01E1	EA21	jmp     L1A21
01E2	CA20	dc	0CA20H
01E3	AB20	jmp     1320H
01E4	8B20	jmp     L1320
01E5	6C20	jmp     L0C20
01E6	4D20	jmp     L0D20
01E7	2F20	jmp     _L83
01E8	1020	sza     PC
01E9	F120	lset    [01FA0H].2
01EB	B51F	lclr    [01F1FH].2
01ED	781F	snz     lu16v_vobj_25[2].0
01EE	5A1F	rlca    lu16v_vobj_25[2]
01EF	3D1F	sz      PCPU2
01F0	1F1F	clr     PCPU
01F1	011F	cpla    PCPU
01F2	E41F	call    1C1FH
01F3	C71E	lmov    a, r71c[7124]
01F5	8D1E	dc	08D1EH
01F6	701E	set     lu16v_vobj_25[1].0
01F7	531E	adc     a, lu16v_vobj_25[1]
01F8	361E	clr     PBC4
01F9	1A1E	rlca    PBC
01FA	FE1E	lsz     [01D9EH].4
				L01FC:
01FC	C51D	lor     a, r71c[6867]
01FE	8D1D	dc	08D1DH
01FF	711D	set     lu16v_vobj_25.2
0200	561D	siza    lu16v_vobj_25
0201	3A1D	snz     PB4
0202	1F1D	clr     PB
0203	041D	xor     a, PB
0204	E81D	jmp     181DH
0205	CD1C	dc	0CD1CH
0206	B21C	lset    [01C1CH].4
0208	7D1C	sz      lu8v_EEprom_Temp[1].2
0209	621C	call    _L8
020A	481C	dc	0481CH
020B	2D1C	jmp     L051C
020C	131C	adc     a, PBPU
020D	F91C	lsnz    [01B9CH].2
020F	C51B	lor     a, r71c[6353]
0211	911B	lswapa  r71c[6225]
0213	5E1B	snz     lu8v_EEprom_Temp
				L0214:
0214	451B	or      a, lu8v_EEprom_Temp
0215	2C1B	jmp     L041B
0216	131B	adc     a, PAC
0217	FA1B	lsnz    [01A9BH].4
0219	C81A	dc	0C81AH
021A	AF1A	jmp     171AH
021B	961A	lsiza   r71c[5968]
021D	651A	call    L0D1A
021E	4D1A	call    L0D1A
021F	351A	clr     PA2
0220	1D1A	tabrdc  PA
0221	051A	or      a, PA
				L0222:
0222	ED1A	jmp     1D1AH
0223	D519	ldeca   r71c[5839]
0225	A619	call    1619H
0226	8E19	call    L1619
0227	7719	clr     lu8v_DISPLAUDATA[2].6
0228	6019	call    819H
0229	4819	call    L0819
022A	3119	set     PAPU2
				L022B:
022B	1A19	rlca    PAPU
022C	0319	add     a, PAPU
022D	ED19	jmp     1D19H
022E	D618	lsiza   r71c[5582]
0230	A918	jmp     1118H
0231	9218	lsbc    a, r71c[5454]
0233	6618	call    L0E18
0234	4F18	call    L0F18
0235	3918	snz     PAWU2
0236	2318	call    L0318
0237	0E18	and     a, 18H
0238	F818	lsnz    [01798H].0
023A	CC17	dc	0CC17H
023B	B717	lclr    [01717H].6
023D	8C17	dc	08C17H
023E	7717	clr     lu8v_DISPLAUDATA.6
023F	6217	call    L0A17
0240	4D17	call    L0D17
0241	3817	snz     T2PE
0242	2317	call    L0317
0243	0E17	and     a, 17H
0244	F917	lsnz    [01697H].2
0246	D016	lsza    r71c[5068]
0248	A716	call    1716H
0249	9316	ladc    a, r71c[4940]
024B	6B16	jmp     L0B16
024C	5716	sdza    lu8v_lcd_mode[1]
024D	4316	add     a, lu8v_lcd_mode[1]
024E	2F16	jmp     L0716
024F	1B16	rrca    MFI2
0250	0716	mov     a, MFI2
0251	F416	lclr    [01596H].0
0253	CD15	dc	0CD15H
0254	B915	lsnz    [01515H].2
0256	9315	ladc    a, r71c[4683]
0258	6C15	jmp     L0C15
0259	5915	rra     lu8v_lcd_mode
025A	4615	and     a, lu8v_lcd_mode
025B	3415	clr     LVE
025C	2115	call    L0115
025D	0E15	and     a, 15H
025E	FC15	lsz     [01495H].0
0260	D714	lsdza   r71c[4554]
0262	B214	lset    [01414H].4
0264	8D14	dc	08D14H
0265	7B14	snz     lu8v_table_buff.6
0266	6914	jmp     L0914
0267	5714	sdza    lu8v_table_buff
0268	4514	or      a, lu8v_table_buff
0269	3414	clr     T0PE
026A	2214	call    L0214
026B	1014	sza     MFI0
026C	FF14	lsz     [01394H].6
026E	DC13	litabrd r71c[4297]
0270	B913	lsnz    [01313H].2
0272	9713	lsdza   r71c[4169]
0274	7513	clr     lu8v_addr_0.2
0275	6413	call    L0C13
0276	5313	adc     a, lu8v_addr_0
0277	4213	sub     a, lu8v_addr_0
0278	3113	set     INTC3.2
0279	2113	call    113H
027A	1013	sza     INTC3
027B	FF13	lsz     [01293H].6
027D	DE12	lsnz   r71c[4040]
027F	BE12	lsz     [01212H].4
0281	9D12	ltabrd r71c[3912]
0283	7D12	sz      lu8v_addr_1.2
0284	6D12	jmp     D12H
0285	5D12	tabrdc  lu8v_addr_1
0286	4E12	dc	04E12H
0287	3E12	sz      MF2F
0288	2E12	jmp     L0612
0289	1F12	clr     INTC2
028A	0F12	mov     a, 12H
028B	FF12	lsz     [01192H].6
028D	E111	call    1911H
028E	D111	lswapa  r71c[3783]
0290	B311	lset    [01111H].6
0292	9411	linca   r71c[3655]
0294	7611	clr     lu8v_addr_2.4
0295	6811	jmp     L0811
0296	5911	rra     lu8v_addr_2
0297	4A11	dc	04A11H
0298	3B11	snz     TB1F
0299	2C11	jmp     L0411
029A	1E11	snz     INTC1
029B	0F11	mov     a, 11H
029C	0111	cpla    INTC1
029D	F211	lset    [01091H].4
029F	D610	lsiza   r71c[3526]
02A1	B910	lsnz    [01010H].2
02A3	9D10	ltabrd r71c[3398]
02A5	8110	lcpla   r71c[3398]
02A7	6510	call    L0D10
02A8	5710	sdza    lu8v_addr
02A9	4910	dc	04910H
02AA	3C10	sz      EMI
02AB	2E10	jmp     610H
02AC	2010	call    _fun_Reset_Init
02AD	1310	adc     a, INTC0
02AE	0010	dc	00010H
				;24		
				;25	28704 ,28572 ,28441 ,28311 ,28181 ,28052 ,27924 ,27796 ,27669 ,27543 ,27417 ,27292 ,27168 ,27044 ,26921 ,26799 ,26677 ,26556 ,26436 ,26316 ,26197 ,26078 ,25960 ,25843 ,25726 ,25610 ,25495 ,25380 ,25266 ,25152 ,
				;26	25039 ,24926 ,24815 ,24703 ,24592 ,24482 ,24373 ,24264 ,24155 ,24047 ,23940 ,23833 ,23727 ,23621 ,23516 ,23412 ,23308 ,23204 ,23101 ,22999 ,22897 ,22795 ,22694 ,22594 ,22494 ,22395 ,22296 ,22198 ,22100 ,22003 ,
				;27	21906 ,21809 ,21714 ,21618 ,21523 ,21429 ,21335 ,21242 ,21149 ,21056 ,20964 ,20873 ,20782 ,20691 ,20601 ,20511 ,20422 ,20333 ,20245 ,20157 ,20070 ,19983 ,19896 ,19810 ,19724 ,19639 ,19554 ,19470 ,19386 ,19302 ,
				;28	19219 ,19137 ,19054 ,18972 ,18891 ,18810 ,18729 ,18649 ,18569 ,18490 ,18410 ,18332 ,18253 ,18176 ,18098 ,18021 ,17944 ,17868 ,17792 ,17716 ,17641 ,17566 ,17492 ,17417 ,17344 ,17270 ,17197 ,17125 ,17052 ,16980 ,
				;29	16909 ,16837 ,16767 ,16696 ,16626 ,16556 ,16486 ,16417 ,16348 ,16280 ,16212 ,16144 ,16076 ,16009 ,15942 ,15876 ,15810 ,15744 ,15678 ,15613 ,15548 ,15483 ,15419 ,15355 ,15291 ,15228 ,15165 ,15102 ,15040 ,14978 ,
				;30	14916 ,14854 ,14793 ,14732 ,14671 ,14611 ,14551 ,14491 ,14431 ,14372 ,14313 ,14255 ,14196 ,14138 ,14080 ,14023 ,13965 ,13908 ,13852 ,13795 ,13739 ,13683 ,13627 ,13572 ,13517 ,13462 ,13407 ,13353 ,13299 ,13245 ,
				;31	13192 ,13138 ,13085 ,13032 ,12980 ,12927 ,12875 ,12824 ,12772 ,12721 ,12669 ,12619 ,12568 ,12518 ,12467 ,12418 ,12368 ,12318 ,12269 ,12220 ,12171 ,12123 ,12075 ,12026 ,11979 ,11931 ,11884 ,11836 ,11789 ,11743 ,
				;32	11696 ,11650 ,11604 ,11558 ,11512 ,11467 ,11421 ,11376 ,11331 ,11287 ,11242 ,11198 ,11154 ,11110 ,11067 ,11023 ,10980 ,10937 ,10894 ,10852 ,10809 ,10767 ,10725 ,10683 ,10641 ,10600 ,10559 ,10517 ,10477 ,10436 ,
				;33	10395 ,10355 ,10315 ,10275 ,10235 ,10195 ,10156 ,10117 ,10078 ,10039 ,10000 , 9961 ,9923  ,9885  ,9847  ,9809  ,9771  ,9734  ,9696  ,9659  ,9622  ,9585  ,9549  ,9512  ,9476  ,9440  ,9404  ,9368  ,9332  ,9296  ,
				;34	9261  ,9226  ,9191  ,9156  ,9121  ,9086  ,9052  ,9018  ,8984  ,8950  ,8916  ,8882  ,8848  ,8815  ,8782  ,8749  ,8716  ,8683  ,8650  ,8618  ,8585  ,8553  ,8521  ,8489  ,8457  ,8426  ,8394  ,8363  ,8331  ,8300  ,
				;35	8269  ,8239  ,8208  ,8177  ,8147  ,8117  ,8086  ,8056  ,8026  ,7997  ,7967  ,7937  ,7908  ,7879  ,7850  ,7821  ,7792  ,7763  ,7734  ,7706  ,7678  ,7649  ,7621  ,7593  ,7565  ,7537  ,7510  ,7482  ,7455  ,7428  ,
				;36	7400  ,7373  ,7346  ,7320  ,7293  ,7266  ,7240  ,7213  ,7187  ,7161  ,7135  ,7109  ,7083  ,7057  ,7032  ,7006  ,6981  ,6956  ,6931  ,6906  ,6881  ,6856  ,6831  ,6806  ,6782  ,6757  ,6733  ,6709  ,6685  ,6661  ,
				;37	6637  ,6613  ,6589  ,6566  ,6542  ,6519  ,6496  ,6472  ,6449  ,6426  ,6403  ,6381  ,6358  ,6335  ,6313  ,6290  ,6268  ,6246  ,6223  ,6201  ,6179  ,6158  ,6136  ,6114  ,6092  ,6071  ,6050  ,6028  ,6007  ,5986  ,
				;38	5965  ,5944  ,5923  ,5902  ,5881  ,5861  ,5840  ,5820  ,5799  ,5779  ,5759  ,5739  ,5719  ,5699  ,5679  ,5659  ,5639  ,5620  ,5600  ,5581  ,5561  ,5542  ,5523  ,5503  ,5484  ,5465  ,5446  ,5428  ,5409  ,5390  ,
				;39	5372  ,5353  ,5335  ,5316  ,5298  ,5280  ,5261  ,5243  ,5225  ,5207  ,5189  ,5172  ,5154  ,5136  ,5119  ,5101  ,5084  ,5066  ,5049  ,5032  ,5015  ,4998  ,4981  ,4964  ,4947  ,4930  ,4913  ,4897  ,4880  ,4863  ,
				;40	4847  ,4830  ,4814  ,4798  ,4782  ,4765  ,4749  ,4733  ,4717  ,4701  ,4686  ,4670  ,4654  ,4639  ,4623  ,4607  ,4592  ,4577  ,4561  ,4546  ,4531  ,4516  ,4500  ,4485  ,4470  ,4456  ,4441  ,4426  ,4411  ,4396  ,
				;41	4382  ,4367  ,4353  ,4338  ,4324  ,4310  ,4295  ,4281  ,4267  ,4253  ,4239  ,4225  ,4211  ,4197  ,4183  ,4169  ,4156  ,4142  ,4128  ,4115
				;42	
				;43	};
				;44	
				;45	/*********************************************************
				;46	//	Name:  石冢 10TP583T	VTP
				;47	//	Note: 室25°C Vtp和物表囟的表格
				;48	*********************************************************/
				;49	const	S16	LU16C_VTP_TABLE[100] = 
0057	23F9	call    L03F9
0058	5AFA	rlc     gu8v_temp_count_m[0]
0059	92FA	lsbcm   a, r71c[63408]
005B	03FA	addm    a, LCDCP
005C	3DFB	sz      DSDAH.3
005D	77FB	clr     gu16v_temp_last[0].7
005E	B2FB	lset    [0FB7BH].5
0060	2AFB	jmp     L02FB
0061	67FC	call    L0FFC
0062	A4FC	call    14FCH
0063	E2FC	call    1AFCH
0064	21FC	call    L01FC
0065	61FD	call    L09FD
0066	A1FD	call    11FDH
0067	E1FD	call    19FDH
0068	23FD	call    L03FD
0069	65FE	call    L0DFE
006A	A8FE	jmp     10FEH
006B	EBFE	jmp     1BFEH
006C	2FFE	jmp     L07FE
006D	74FF	clr     gu8v_time_count[0].1
006E	BAFF	lsnz    [0FF7FH].5
0070	4700	mov     a, ra
0071	8F00	dc	08F00H
0072	D700	lsdza   ra
0074	6A01	jmp     L0A01
0075	B501	lclr    [0101H].2
0077	4C02	jmp     L0C02
0078	9902	lrra    gu8v_LCD_buffer[130]
007A	3502	clr     __iar1[0].2
007B	8403	lxor    a, r71c[57]
007D	2503	call    L0503
007E	7604	clr     re.4
007F	C804	dc	0C804H
0080	1B04	rrca    MP1H
0081	6F05	jmp     L0F05
0082	C405	lxor    a, r71c[699]
0084	6F06	jmp     L0F06
0085	C606	land    a, r71c[956]
0087	7707	clr     rh.6
0088	D007	lsza    r71c[1213]
008A	8608	land    a, r71c[1342]
008C	3F08	sz      TBLH.6
008D	9C09	litabrd r71c[1599]
008F	5A09	rlca    r21c
0090	BB0A	lsnz    [0A0AH].6
0092	7E0B	sz      r10c.4
0093	E10B	call    190BH
0094	450B	or      a, r10c
0095	AA0C	jmp     120CH
0096	0F0C	mov     a, CH
0097	760D	clr     ra0c.4
0098	DD0D	ltabrd r71c[2755]
009A	AF0E	jmp     170EH
009B	190E	rra     MP2H
009C	850F	lor     a, r71c[3141]
009E	5E0F	snz     lu8v_data
009F	CC10	dc	0CC10H
00A0	3B10	snz     MF0F
00A1	AB11	jmp     1311H
00A2	1C11	itabrdc INTC1
00A3	8E12	dc	08E12H
00A4	0012	dc	00012H
00A5	7413	clr     lu8v_addr_0.0
00A6	E913	jmp     1913H
00A7	5F13	clr     lu8v_addr_0
00A8	D614	lsiza   r71c[4554]
00AA	C715	lmov    a, r71c[4811]
00AC	BB16	lsnz    [01616H].6
00AE	B417	lclr    [01717H].0
00B0	B218	lset    [01818H].4
00B2	B319	lset    [01919H].6
00B4	B81A	lsnz    [01A1AH].0
00B6	C21B	lsub    a, r71c[6353]
00B8	D11C	lswapa  r71c[6610]
00BA	201D	call    L001D
				;50	{
				;51	-1556,-1501,-1446,-1390,-1334,-1277,-1219,-1161,-1102,-1042,-982 ,-921 ,-860 ,-798 ,-735  ,-671  ,-607 ,-543 ,-477 ,-411 ,-344 ,-277 ,-209 ,-140 ,-70 ,
				;52	0    ,71   ,143  ,215  ,288  ,362  ,437  ,512  ,588  ,665  ,743  ,821  ,900  ,980  ,1061  ,1142  ,1224 ,1307 ,1391 ,1476 ,1561 ,1647 ,1734 ,1822 ,1911 ,
				;53	2000 ,2091 ,2182 ,2274 ,2367 ,2460 ,2555 ,2650 ,2747 ,2844 ,2942 ,3041 ,3141 ,3242 ,3343  ,3446  ,3549 ,3654 ,3759 ,3865 ,3973 ,4081 ,4190 ,4300 ,4411 ,
				;54	4523 ,4636 ,4750 ,4864 ,4980 ,5097 ,5215 ,5334 ,5454 ,5575 ,5697 ,5819 ,5943 ,6068 ,6194  ,6322  ,6450 ,6579 ,6709 ,6840 ,6973 ,7106 ,7241 ,7377 ,7513	
				;55	};
				;56	
				;57	/*********************************************************
				;58	//	Name: Surface ----> Body
				;59	//	Note: 	
				;60	*********************************************************/
				;61	const U8 LU8_Boby_temp_TABLE[] = 
				;62	{
				;63		53,53,53,53,53,53,53,52,51,50,50,50,50,50,50,50,50,50,49,48,
				;64		48,47,47,47,46,46,46,46,46,46,46,46,46,45,45,45,44,43,43,42,
				;65		42,40,40,39,38,38,37,36,36,35,34,34,33,32,31,30,29,28,27,26,
				;66		25,24,23,22,21,21,20,19,18,17,16,15,15,15,14,16,15,14,13,12,
				;67		12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,11,10,
				;68		10,10,10,10,10,10,10,10,10
				;69	};
				;70	
				;71	
				;72	
				;73	volatile	__16_type gu16v_correction_K1;
				;74	volatile	__16_type gu16v_correction_K2;
				;75	volatile	__16_type gu16v_tcf;
				;76	/********************************************************************
				;77	Function:	fun_Vtp_Calculate
				;78	INPUT	:
				;79	OUTPUT	:	Vtp*4
				;80	NOTE	:   
				;81	********************************************************************/
				;82	void	fun_Vtp_Calculate(void)
				;83	{
				;84	//	gu16v_vtp.S16 = (S32)gu16v_adc_vtp.S16;	
				;85		gu16v_vtp.S16 = gu16v_adc_vtp.S16;	
				_fun_Vtp_Calculate:
				_fun_Vtp_Calculate:
0973	C704	lmov    a, gu16v_adc_vtp[0]
0975	C08E	lmov    gu16v_vtp[0], a
0977	C705	lmov    a, gu16v_adc_vtp[1]
0979	C08F	lmov    gu16v_vtp[1], a
097B	0003	ret
				;86	}
				;87	 
				;88	/********************************************************************
				;89	Function:	fun_RNTC_Calculate
				;90	INPUT	:
				;91	OUTPUT	:	
				;92	NOTE	:   通道算
				;93	********************************************************************/
				;94	void	fun_RNTC_Calculate(void)
				;95	{
				;96		gu16v_adc_res.S16 = (U32)gu16v_adc_res.S16 * 18000 /(0x7fff - gu16v_adc_res.S16);
				_fun_RNTC_Calculate:
				_fun_RNTC_Calculate:
097C	C706	lmov    a, gu16v_adc_res[0]
097E	4083	mov     rd, a
097F	C707	lmov    a, gu16v_adc_res[1]
0981	4084	mov     re, a
0982	1F05	clr     ACC
0983	7F84	sz      re.7
0984	1F85	set     ACC
0985	4085	mov     rf, a
0986	4086	mov     rg, a
0987	4703	mov     a, rd
0988	408F	mov     lu8v_data, a
0989	4704	mov     a, re
098A	4090	mov     lu8v_addr, a
098B	4705	mov     a, rf
098C	4091	mov     lu8v_addr_2, a
098D	4706	mov     a, rg
098E	4092	mov     lu8v_addr_1, a
098F	0F50	mov     a, 50H
0990	4093	mov     lu8v_addr_0, a
0991	0F46	mov     a, 46H
0992	4094	mov     lu8v_table_buff, a
0993	0F00	mov     a, 0H
0994	4095	mov     lu8v_lcd_mode, a
0995	0F00	mov     a, 0H
0996	4096	mov     lu8v_lcd_mode[1], a
0997	6747	call    L0F47
0998	4717	mov     a, lu8v_DISPLAUDATA
0999	4083	mov     rd, a
099A	4718	mov     a, lu8v_DISPLAUDATA[1]
099B	4084	mov     re, a
099C	4719	mov     a, lu8v_DISPLAUDATA[2]
099D	4085	mov     rf, a
099E	471A	mov     a, lu8v_DISPLAUDATA[3]
099F	4086	mov     rg, a
09A0	0FFF	mov     a, FFH
09A1	C206	lsub    a, gu16v_adc_res[0]
09A3	4080	mov     ra, a
09A4	0F7F	mov     a, 7FH
09A5	D207	lsbc    a, gu16v_adc_res[1]
09A7	4081	mov     rb, a
09A8	4700	mov     a, ra
09A9	409D	mov     lu16v_vobj_25, a
09AA	4701	mov     a, rb
09AB	409E	mov     lu16v_vobj_25[1], a
09AC	1F05	clr     ACC
09AD	7F9E	sz      lu16v_vobj_25[1].7
09AE	1F85	set     ACC
09AF	409F	mov     lu16v_vobj_25[2], a
09B0	40A0	mov     lu16v_vobj_25[3], a
09B1	5F1B	clr     lu8v_EEprom_Temp
09B2	4703	mov     a, rd
09B3	408F	mov     lu8v_data, a
09B4	4704	mov     a, re
09B5	4090	mov     lu8v_addr, a
09B6	4705	mov     a, rf
09B7	4091	mov     lu8v_addr_2, a
09B8	4706	mov     a, rg
09B9	4092	mov     lu8v_addr_1, a
09BA	471D	mov     a, lu16v_vobj_25
09BB	4093	mov     lu8v_addr_0, a
09BC	471E	mov     a, lu16v_vobj_25[1]
09BD	4094	mov     lu8v_table_buff, a
09BE	471F	mov     a, lu16v_vobj_25[2]
09BF	4095	mov     lu8v_lcd_mode, a
09C0	4720	mov     a, lu16v_vobj_25[3]
09C1	4096	mov     lu8v_lcd_mode[1], a
09C2	6784	call    L0F84
09C3	470F	mov     a, lu8v_data
09C4	4083	mov     rd, a
09C5	4710	mov     a, lu8v_addr
09C6	4084	mov     re, a
09C7	4711	mov     a, lu8v_addr_2
09C8	4085	mov     rf, a
09C9	4712	mov     a, lu8v_addr_1
09CA	4086	mov     rg, a
09CB	4703	mov     a, rd
09CC	C086	lmov    gu16v_adc_res[0], a
09CE	4704	mov     a, re
09CF	C087	lmov    gu16v_adc_res[1], a
09D1	0003	ret
				;97	}
				;98	 
				;99	 
				;100	/********************************************************************
				;101	Function:	fun_Vsen_Calculate
				;102	INPUT	:
				;103	OUTPUT	:	
				;104	NOTE	:   NTC 阻值的囟
				;105	********************************************************************/
				;106	void	fun_Vsen_Calculate(void)
				;107	{
				;108		volatile		U16	i;
				;109	//	gu16v_correction_K2.U16 = 10000;
				;110	 	gu16v_adc_res.S16 = (U32)gu16v_correction_K2.U16*gu16v_adc_res.S16 /10000;
				_fun_Vsen_Calculate:
				_fun_Vsen_Calculate:
09D2	C706	lmov    a, gu16v_adc_res[0]
09D4	409F	mov     lu16v_vobj_25[2], a
09D5	C707	lmov    a, gu16v_adc_res[1]
09D7	40A0	mov     lu16v_vobj_25[3], a
09D8	1F05	clr     ACC
09D9	7FA0	sz      lu16v_vobj_25[3].7
09DA	1F85	set     ACC
09DB	40A1	mov     gu8v_temp, a
09DC	40A2	mov     gu8v_temp[1], a
09DD	4751	mov     a, gu16v_correction_K2[0]
09DE	4083	mov     rd, a
09DF	4752	mov     a, gu16v_correction_K2[1]
09E0	4084	mov     re, a
09E1	5F05	clr     rf
09E2	5F06	clr     rg
09E3	471F	mov     a, lu16v_vobj_25[2]
09E4	408F	mov     lu8v_data, a
09E5	4720	mov     a, lu16v_vobj_25[3]
09E6	4090	mov     lu8v_addr, a
09E7	4721	mov     a, gu8v_temp
09E8	4091	mov     lu8v_addr_2, a
09E9	4722	mov     a, gu8v_temp[1]
09EA	4092	mov     lu8v_addr_1, a
09EB	4703	mov     a, rd
09EC	4093	mov     lu8v_addr_0, a
09ED	4704	mov     a, re
09EE	4094	mov     lu8v_table_buff, a
09EF	4705	mov     a, rf
09F0	4095	mov     lu8v_lcd_mode, a
09F1	4706	mov     a, rg
09F2	4096	mov     lu8v_lcd_mode[1], a
09F3	6747	call    L0F47
09F4	4717	mov     a, lu8v_DISPLAUDATA
09F5	4083	mov     rd, a
09F6	4718	mov     a, lu8v_DISPLAUDATA[1]
09F7	4084	mov     re, a
09F8	4719	mov     a, lu8v_DISPLAUDATA[2]
09F9	4085	mov     rf, a
09FA	471A	mov     a, lu8v_DISPLAUDATA[3]
09FB	4086	mov     rg, a
09FC	5F1B	clr     lu8v_EEprom_Temp
				L09FD:
09FD	4703	mov     a, rd
09FE	408F	mov     lu8v_data, a
09FF	4704	mov     a, re
0A00	4090	mov     lu8v_addr, a
				L0A01:
0A01	4705	mov     a, rf
0A02	4091	mov     lu8v_addr_2, a
0A03	4706	mov     a, rg
0A04	4092	mov     lu8v_addr_1, a
0A05	0F10	mov     a, 10H
0A06	4093	mov     lu8v_addr_0, a
0A07	0F27	mov     a, 27H
0A08	4094	mov     lu8v_table_buff, a
0A09	5F15	clr     lu8v_lcd_mode
0A0A	5F16	clr     lu8v_lcd_mode[1]
0A0B	6784	call    L0F84
0A0C	470F	mov     a, lu8v_data
0A0D	4083	mov     rd, a
0A0E	4710	mov     a, lu8v_addr
0A0F	4084	mov     re, a
0A10	4711	mov     a, lu8v_addr_2
0A11	4085	mov     rf, a
0A12	4712	mov     a, lu8v_addr_1
0A13	4086	mov     rg, a
0A14	4703	mov     a, rd
0A15	C086	lmov    gu16v_adc_res[0], a
				L0A17:
0A17	4704	mov     a, re
0A18	C087	lmov    gu16v_adc_res[1], a
				;111		i = 0;
0A1A	5F1D	clr     i[0]
0A1B	5F1E	clr     i[1]
				;112		while(1)
				;113		{
				;114			if(gu16v_adc_res.S16>LU16C_NTC_TABLE[0])
				_L8:
0A1C	0F20	mov     a, 20H
0A1D	C206	lsub    a, gu16v_adc_res[0]
0A1F	0F70	mov     a, 70H
0A20	D207	lsbc    a, gu16v_adc_res[1]
0A22	380A	snz     C
0A23	6AB6	jmp     _L4
				;115			{
				;116				
				;117				break;			
				;118			}	
				;119			else if(gu16v_adc_res.S16<LU16C_NTC_TABLE[499])
0A24	0F12	mov     a, 12H
0A25	C206	lsub    a, gu16v_adc_res[0]
0A27	0F10	mov     a, 10H
0A28	D207	lsbc    a, gu16v_adc_res[1]
0A2A	3C0A	sz      C
0A2B	6AB6	jmp     _L4
				;120			{
				;121				break;			
				;122			}	
				;123			else
				;124			{
				;125				if( gu16v_adc_res.S16<=LU16C_NTC_TABLE[i] && gu16v_adc_res.S16>LU16C_NTC_TABLE[i+1])
0A2C	340A	clr     C
0A2D	5A1D	rlca    i[0]
0A2E	4081	mov     rb, a
0A2F	5A1E	rlca    i[1]
0A30	4082	mov     rc, a
0A31	0F75	mov     a, 75H
0A32	4301	add     a, rb
0A33	0083	mov     MP1L, a
0A34	0F81	mov     a, 81H
0A35	5302	adc     a, rc
0A36	0084	mov     MP1H, a
0A37	A014	call    L1014
0A38	4081	mov     rb, a
0A39	A011	call    L1011
0A3A	4082	mov     rc, a
0A3B	4701	mov     a, rb
0A3C	C206	lsub    a, gu16v_adc_res[0]
0A3E	4702	mov     a, rc
0A3F	D207	lsbc    a, gu16v_adc_res[1]
0A41	380A	snz     C
0A42	6AAC	jmp     _L5
0A43	0F01	mov     a, 1H
0A44	431D	add     a, i[0]
0A45	4081	mov     rb, a
0A46	0F00	mov     a, 0H
0A47	531E	adc     a, i[1]
0A48	4082	mov     rc, a
0A49	340A	clr     C
0A4A	5A81	rlc     rb
0A4B	5A82	rlc     rc
0A4C	0F75	mov     a, 75H
0A4D	4301	add     a, rb
0A4E	0083	mov     MP1L, a
0A4F	0F81	mov     a, 81H
0A50	5302	adc     a, rc
0A51	0084	mov     MP1H, a
0A52	A014	call    L1014
0A53	4081	mov     rb, a
0A54	A011	call    L1011
0A55	4082	mov     rc, a
0A56	4701	mov     a, rb
0A57	C206	lsub    a, gu16v_adc_res[0]
0A59	4702	mov     a, rc
0A5A	D207	lsbc    a, gu16v_adc_res[1]
0A5C	3C0A	sz      C
0A5D	6AAC	jmp     _L5
				;126				{
				;127					if(gu16v_adc_res.S16 - LU16C_NTC_TABLE[i+1]>(LU16C_NTC_TABLE[i] - LU16C_NTC_TABLE[i+1])/2)
0A5E	0F01	mov     a, 1H
0A5F	431D	add     a, i[0]
0A60	4081	mov     rb, a
0A61	0F00	mov     a, 0H
0A62	531E	adc     a, i[1]
0A63	4082	mov     rc, a
0A64	340A	clr     C
0A65	5A81	rlc     rb
0A66	5A82	rlc     rc
0A67	0F75	mov     a, 75H
0A68	4301	add     a, rb
0A69	0083	mov     MP1L, a
0A6A	0F81	mov     a, 81H
0A6B	5302	adc     a, rc
0A6C	0084	mov     MP1H, a
0A6D	A014	call    L1014
0A6E	4083	mov     rd, a
0A6F	A011	call    L1011
0A70	4084	mov     re, a
0A71	C706	lmov    a, gu16v_adc_res[0]
0A73	4283	subm    a, rd
0A74	C707	lmov    a, gu16v_adc_res[1]
0A76	5284	sbcm    a, re
0A77	340A	clr     C
0A78	5A1D	rlca    i[0]
0A79	4081	mov     rb, a
0A7A	5A1E	rlca    i[1]
0A7B	4082	mov     rc, a
0A7C	0F01	mov     a, 1H
0A7D	431D	add     a, i[0]
0A7E	4085	mov     rf, a
0A7F	0F00	mov     a, 0H
0A80	531E	adc     a, i[1]
0A81	4086	mov     rg, a
0A82	340A	clr     C
0A83	5A85	rlc     rf
0A84	5A86	rlc     rg
0A85	0F75	mov     a, 75H
0A86	4301	add     a, rb
0A87	0083	mov     MP1L, a
0A88	0F81	mov     a, 81H
0A89	5302	adc     a, rc
0A8A	0084	mov     MP1H, a
0A8B	A014	call    L1014
0A8C	4081	mov     rb, a
0A8D	A011	call    L1011
0A8E	4082	mov     rc, a
0A8F	0F75	mov     a, 75H
0A90	4305	add     a, rf
0A91	0083	mov     MP1L, a
0A92	0F81	mov     a, 81H
0A93	5306	adc     a, rg
0A94	0084	mov     MP1H, a
0A95	A014	call    L1014
0A96	4085	mov     rf, a
0A97	A011	call    L1011
0A98	4086	mov     rg, a
0A99	4701	mov     a, rb
0A9A	4205	sub     a, rf
0A9B	4081	mov     rb, a
0A9C	4702	mov     a, rc
0A9D	5206	sbc     a, rg
0A9E	4082	mov     rc, a
0A9F	340A	clr     C
0AA0	5B82	rrc     rc
0AA1	5B81	rrc     rb
0AA2	4701	mov     a, rb
0AA3	4203	sub     a, rd
0AA4	4702	mov     a, rc
0AA5	5204	sbc     a, re
0AA6	380A	snz     C
0AA7	6AB5	jmp     _L9
				;128					{
				;129						GCC_NOP();
				;130					}
				;131					else
				;132					{
				;133						i = i+1;
0AA8	549D	inc     i[0]
0AA9	3D0A	sz      Z
0AAA	549E	inc     i[1]
0AAB	6AB6	jmp     _L4
				;134					}
				;135					break;
				;136				}
				;137				i++;
				_L5:
0AAC	549D	inc     i[0]
0AAD	3D0A	sz      Z
0AAE	549E	inc     i[1]
				;138				if(i>500)
0AAF	0FF4	mov     a, F4H
0AB0	421D	sub     a, i[0]
0AB1	0F01	mov     a, 1H
0AB2	521E	sbc     a, i[1]
0AB3	3C0A	sz      C
0AB4	6A1C	jmp     _L8
				;139				{
				;140					GCC_NOP();	
				_L9:
0AB5	0000	nop
				;141					break;				
				;142				}
				;143			}
				;144			
				;145		}
				;146		gu16v_temp.S16 = i;
				_L4:
0AB6	471D	mov     a, i[0]
0AB7	C08C	lmov    gu16v_temp[0], a
0AB9	471E	mov     a, i[1]
0ABA	C08D	lmov    gu16v_temp[1], a
0ABC	0003	ret
				;147	}
				;148	 
				;149	/********************************************************************
				;150	Function:	fun_Tobj_Calculate
				;151	INPUT	:
				;152	OUTPUT	:	
				;153	NOTE	:   物表囟扔算
				;154	********************************************************************/
				;155	
				;156	void	fun_Tobj_Calculate(void)
				;157	{
				;158		volatile		U8	lu8v_ntc_h,lu8v_ntc_l;
				;159		volatile		S32	gs32v_Vol_temp1;
				;160	
				;161		lu8v_ntc_h = gu16v_temp.S16/10;
				_fun_Tobj_Calculate:
				_fun_Tobj_Calculate:
0DDF	C70C	lmov    a, gu16v_temp[0]
0DE1	408F	mov     lu8v_data, a
0DE2	C70D	lmov    a, gu16v_temp[1]
0DE4	4090	mov     lu8v_addr, a
0DE5	0F0A	mov     a, AH
0DE6	4091	mov     lu8v_addr_2, a
0DE7	0F00	mov     a, 0H
0DE8	4092	mov     lu8v_addr_1, a
0DE9	67DA	call    L0FDA
0DEA	470F	mov     a, lu8v_data
0DEB	4081	mov     rb, a
0DEC	4710	mov     a, lu8v_addr
0DED	4082	mov     rc, a
0DEE	4701	mov     a, rb
0DEF	40AB	mov     lu8v_ntc_h[0], a
				;162		lu8v_ntc_l = gu16v_temp.S16%10;
0DF0	C70C	lmov    a, gu16v_temp[0]
0DF2	408F	mov     lu8v_data, a
0DF3	C70D	lmov    a, gu16v_temp[1]
0DF5	4090	mov     lu8v_addr, a
0DF6	0F0A	mov     a, AH
0DF7	4091	mov     lu8v_addr_2, a
0DF8	0F00	mov     a, 0H
0DF9	4092	mov     lu8v_addr_1, a
0DFA	67DA	call    L0FDA
0DFB	4713	mov     a, lu8v_addr_0
0DFC	4081	mov     rb, a
0DFD	4714	mov     a, lu8v_table_buff
				L0DFE:
0DFE	4082	mov     rc, a
0DFF	4701	mov     a, rb
0E00	40AA	mov     lu8v_ntc_l[0], a
				;163	
				;164	//	@取 室--25°C 的褐 
				;165		gs32v_Vol_temp1 = LU16C_VTP_TABLE[lu8v_ntc_h] + (LU16C_VTP_TABLE[lu8v_ntc_h+1]-LU16C_VTP_TABLE[lu8v_ntc_h])*lu8v_ntc_l/10;
0E01	0F01	mov     a, 1H
0E02	432B	add     a, lu8v_ntc_h[0]
0E03	4081	mov     rb, a
0E04	0F00	mov     a, 0H
0E05	5F02	clr     rc
0E06	5382	adcm    a, rc
0E07	340A	clr     C
0E08	5A01	rlca    rb
0E09	4085	mov     rf, a
0E0A	5A02	rlca    rc
0E0B	4086	mov     rg, a
0E0C	472B	mov     a, lu8v_ntc_h[0]
0E0D	4081	mov     rb, a
0E0E	5F02	clr     rc
0E0F	340A	clr     C
0E10	5A01	rlca    rb
0E11	4083	mov     rd, a
0E12	5A02	rlca    rc
0E13	4084	mov     re, a
0E14	0FAD	mov     a, ADH
0E15	4305	add     a, rf
0E16	0083	mov     MP1L, a
0E17	0F80	mov     a, 80H
				L0E18:
0E18	5306	adc     a, rg
0E19	0084	mov     MP1H, a
0E1A	A014	call    L1014
0E1B	4081	mov     rb, a
0E1C	A011	call    L1011
0E1D	4082	mov     rc, a
0E1E	0FAD	mov     a, ADH
0E1F	4303	add     a, rd
0E20	0083	mov     MP1L, a
0E21	0F80	mov     a, 80H
				L0E22:
0E22	5304	adc     a, re
0E23	0084	mov     MP1H, a
0E24	A014	call    L1014
0E25	4083	mov     rd, a
0E26	A011	call    L1011
0E27	4084	mov     re, a
0E28	4701	mov     a, rb
0E29	4203	sub     a, rd
0E2A	4081	mov     rb, a
				L0E2B:
0E2B	4702	mov     a, rc
0E2C	5204	sbc     a, re
0E2D	4082	mov     rc, a
0E2E	472A	mov     a, lu8v_ntc_l[0]
0E2F	408F	mov     lu8v_data, a
0E30	5F10	clr     lu8v_addr
0E31	4701	mov     a, rb
0E32	4091	mov     lu8v_addr_2, a
0E33	4702	mov     a, rc
0E34	4092	mov     lu8v_addr_1, a
0E35	67C7	call    L0FC7
0E36	4713	mov     a, lu8v_addr_0
0E37	4081	mov     rb, a
0E38	4714	mov     a, lu8v_table_buff
0E39	4082	mov     rc, a
0E3A	4701	mov     a, rb
0E3B	408F	mov     lu8v_data, a
0E3C	4702	mov     a, rc
0E3D	4090	mov     lu8v_addr, a
0E3E	0F0A	mov     a, AH
0E3F	4091	mov     lu8v_addr_2, a
				L0E40:
0E40	0F00	mov     a, 0H
0E41	4092	mov     lu8v_addr_1, a
0E42	67DA	call    L0FDA
0E43	470F	mov     a, lu8v_data
0E44	4081	mov     rb, a
0E45	4710	mov     a, lu8v_addr
0E46	4082	mov     rc, a
0E47	472B	mov     a, lu8v_ntc_h[0]
0E48	4083	mov     rd, a
0E49	5F04	clr     re
0E4A	340A	clr     C
0E4B	5A83	rlc     rd
0E4C	5A84	rlc     re
0E4D	0FAD	mov     a, ADH
0E4E	4303	add     a, rd
0E4F	0083	mov     MP1L, a
0E50	0F80	mov     a, 80H
0E51	5304	adc     a, re
0E52	0084	mov     MP1H, a
0E53	A014	call    L1014
0E54	4083	mov     rd, a
0E55	A011	call    L1011
0E56	4084	mov     re, a
0E57	4703	mov     a, rd
0E58	4381	addm    a, rb
0E59	4704	mov     a, re
0E5A	5382	adcm    a, rc
0E5B	4701	mov     a, rb
0E5C	40A6	mov     gs32v_Vol_temp1[0], a
0E5D	4702	mov     a, rc
0E5E	40A7	mov     gs32v_Vol_temp1[1], a
0E5F	1F05	clr     ACC
0E60	7FA7	sz      gs32v_Vol_temp1[1].7
0E61	1F85	set     ACC
0E62	40A8	mov     gs32v_Vol_temp1[2], a
0E63	40A9	mov     gs32v_Vol_temp1[3], a
				;166	//	a高低S
				;167		fun_TCF_Calculate();
0E64	65D3	call    _fun_TCF_Calculate
				;168	//	@取Vtp窦的海ㄎ锉--室兀 + @取室--25°C的褐 既可以@得 物表--25°C的褐	
				;169		gs32v_Vol_temp1 += (S32)gu16v_correction_K1.U16*(S32)gu16v_vtp.S16/gu16v_tcf.S16;
0E65	C70E	lmov    a, gu16v_vtp[0]
0E67	40AC	mov     ls16v_Vol_buff1, a
0E68	C70F	lmov    a, gu16v_vtp[1]
0E6A	40AD	mov     ls16v_Vol_buff1[1], a
0E6B	1F05	clr     ACC
0E6C	7FAD	sz      ls16v_Vol_buff1[1].7
0E6D	1F85	set     ACC
0E6E	40AE	mov     lu8v_table_l, a
0E6F	40AF	mov     lu8v_table_h, a
0E70	4749	mov     a, gu16v_correction_K1[0]
0E71	4083	mov     rd, a
0E72	474A	mov     a, gu16v_correction_K1[1]
0E73	4084	mov     re, a
0E74	5F05	clr     rf
0E75	5F06	clr     rg
0E76	472C	mov     a, ls16v_Vol_buff1
0E77	408F	mov     lu8v_data, a
0E78	472D	mov     a, ls16v_Vol_buff1[1]
0E79	4090	mov     lu8v_addr, a
0E7A	472E	mov     a, lu8v_table_l
0E7B	4091	mov     lu8v_addr_2, a
0E7C	472F	mov     a, lu8v_table_h
0E7D	4092	mov     lu8v_addr_1, a
0E7E	4703	mov     a, rd
0E7F	4093	mov     lu8v_addr_0, a
0E80	4704	mov     a, re
0E81	4094	mov     lu8v_table_buff, a
0E82	4705	mov     a, rf
0E83	4095	mov     lu8v_lcd_mode, a
0E84	4706	mov     a, rg
0E85	4096	mov     lu8v_lcd_mode[1], a
0E86	6747	call    L0F47
0E87	4717	mov     a, lu8v_DISPLAUDATA
0E88	40AC	mov     ls16v_Vol_buff1, a
0E89	4718	mov     a, lu8v_DISPLAUDATA[1]
0E8A	40AD	mov     ls16v_Vol_buff1[1], a
0E8B	4719	mov     a, lu8v_DISPLAUDATA[2]
0E8C	40AE	mov     lu8v_table_l, a
0E8D	471A	mov     a, lu8v_DISPLAUDATA[3]
0E8E	40AF	mov     lu8v_table_h, a
0E8F	474F	mov     a, gu16v_tcf[0]
0E90	4083	mov     rd, a
0E91	4750	mov     a, gu16v_tcf[1]
0E92	4084	mov     re, a
0E93	1F05	clr     ACC
0E94	7F84	sz      re.7
0E95	1F85	set     ACC
0E96	4085	mov     rf, a
0E97	4086	mov     rg, a
0E98	472C	mov     a, ls16v_Vol_buff1
0E99	408F	mov     lu8v_data, a
0E9A	472D	mov     a, ls16v_Vol_buff1[1]
0E9B	4090	mov     lu8v_addr, a
0E9C	472E	mov     a, lu8v_table_l
0E9D	4091	mov     lu8v_addr_2, a
0E9E	472F	mov     a, lu8v_table_h
0E9F	4092	mov     lu8v_addr_1, a
0EA0	4703	mov     a, rd
0EA1	4093	mov     lu8v_addr_0, a
0EA2	4704	mov     a, re
0EA3	4094	mov     lu8v_table_buff, a
0EA4	4705	mov     a, rf
0EA5	4095	mov     lu8v_lcd_mode, a
0EA6	4706	mov     a, rg
0EA7	4096	mov     lu8v_lcd_mode[1], a
0EA8	6766	call    L0F66
0EA9	470F	mov     a, lu8v_data
0EAA	4083	mov     rd, a
0EAB	4710	mov     a, lu8v_addr
0EAC	4084	mov     re, a
0EAD	4711	mov     a, lu8v_addr_2
0EAE	4085	mov     rf, a
0EAF	4712	mov     a, lu8v_addr_1
0EB0	4086	mov     rg, a
0EB1	4703	mov     a, rd
0EB2	43A6	addm    a, gs32v_Vol_temp1[0]
0EB3	4704	mov     a, re
0EB4	53A7	adcm    a, gs32v_Vol_temp1[1]
0EB5	4705	mov     a, rf
0EB6	53A8	adcm    a, gs32v_Vol_temp1[2]
0EB7	4706	mov     a, rg
0EB8	53A9	adcm    a, gs32v_Vol_temp1[3]
				;170	//	查表获取物表温度
				;171		fun_get_Vobj_25(gs32v_Vol_temp1);
0EB9	4726	mov     a, gs32v_Vol_temp1[0]
0EBA	409D	mov     lu16v_vobj_25, a
0EBB	4727	mov     a, gs32v_Vol_temp1[1]
0EBC	409E	mov     lu16v_vobj_25[1], a
0EBD	4728	mov     a, gs32v_Vol_temp1[2]
0EBE	409F	mov     lu16v_vobj_25[2], a
0EBF	4729	mov     a, gs32v_Vol_temp1[3]
0EC0	40A0	mov     lu16v_vobj_25[3], a
0EC1	62BD	call    _fun_get_Vobj_25
0EC2	0003	ret
				;172		
				;173	}	
				;174	
				;175	/********************************************************************
				;176	Function:	fun_get_Vobj_25
				;177	INPUT	:
				;178	OUTPUT	:	
				;179	NOTE	:   @取物表囟室25°C的褐
				;180	********************************************************************/
				;181	void	fun_get_Vobj_25(S32 lu16v_vobj_25)
				;182	{
				;183		volatile U8	gu8v_temp;
				;184		S32	gs32v_Vol_temp2;
				;185		gu8v_temp = 0;
				_fun_get_Vobj_25:
				_fun_get_Vobj_25:
0ABD	5F21	clr     gu8v_temp[0]
				;186		while(1)
				;187		{
				;188			GCC_CLRWDT();					
				_L15:
0ABE	0001	clr     wdt
				;189			if(lu16v_vobj_25>=LU16C_VTP_TABLE[gu8v_temp]&&lu16v_vobj_25<LU16C_VTP_TABLE[gu8v_temp+1])	 
0ABF	4721	mov     a, gu8v_temp[0]
0AC0	4081	mov     rb, a
0AC1	5F02	clr     rc
0AC2	340A	clr     C
0AC3	5A81	rlc     rb
0AC4	5A82	rlc     rc
0AC5	0FAD	mov     a, ADH
0AC6	4301	add     a, rb
0AC7	0083	mov     MP1L, a
0AC8	0F80	mov     a, 80H
0AC9	5302	adc     a, rc
0ACA	0084	mov     MP1H, a
0ACB	A014	call    L1014
0ACC	4083	mov     rd, a
0ACD	A011	call    L1011
0ACE	4084	mov     re, a
0ACF	4703	mov     a, rd
0AD0	4083	mov     rd, a
0AD1	4704	mov     a, re
0AD2	4084	mov     re, a
0AD3	1F05	clr     ACC
0AD4	7F84	sz      re.7
0AD5	1F85	set     ACC
0AD6	4085	mov     rf, a
0AD7	4086	mov     rg, a
0AD8	471D	mov     a, lu16v_vobj_25[0]
0AD9	4203	sub     a, rd
0ADA	471E	mov     a, lu16v_vobj_25[1]
0ADB	5204	sbc     a, re
0ADC	471F	mov     a, lu16v_vobj_25[2]
0ADD	5205	sbc     a, rf
0ADE	4720	mov     a, lu16v_vobj_25[3]
0ADF	5206	sbc     a, rg
0AE0	3F8A	sz      SC
0AE1	6BA8	jmp     _L12
0AE2	0F01	mov     a, 1H
0AE3	4321	add     a, gu8v_temp[0]
0AE4	4081	mov     rb, a
0AE5	0F00	mov     a, 0H
0AE6	5F02	clr     rc
0AE7	5382	adcm    a, rc
0AE8	340A	clr     C
0AE9	5A81	rlc     rb
0AEA	5A82	rlc     rc
0AEB	0FAD	mov     a, ADH
0AEC	4301	add     a, rb
0AED	0083	mov     MP1L, a
0AEE	0F80	mov     a, 80H
0AEF	5302	adc     a, rc
0AF0	0084	mov     MP1H, a
0AF1	A014	call    L1014
0AF2	4083	mov     rd, a
0AF3	A011	call    L1011
0AF4	4084	mov     re, a
0AF5	4703	mov     a, rd
0AF6	4083	mov     rd, a
0AF7	4704	mov     a, re
0AF8	4084	mov     re, a
0AF9	1F05	clr     ACC
0AFA	7F84	sz      re.7
0AFB	1F85	set     ACC
0AFC	4085	mov     rf, a
0AFD	4086	mov     rg, a
0AFE	471D	mov     a, lu16v_vobj_25[0]
0AFF	4203	sub     a, rd
0B00	471E	mov     a, lu16v_vobj_25[1]
0B01	5204	sbc     a, re
0B02	471F	mov     a, lu16v_vobj_25[2]
0B03	5205	sbc     a, rf
0B04	4720	mov     a, lu16v_vobj_25[3]
0B05	5206	sbc     a, rg
0B06	3B8A	snz     SC
0B07	6BA8	jmp     _L12
				;190			{
				;191		   		gs32v_Vol_temp2 = LU16C_VTP_TABLE[gu8v_temp+1]-LU16C_VTP_TABLE[gu8v_temp];	
0B08	0F01	mov     a, 1H
0B09	4321	add     a, gu8v_temp[0]
0B0A	4081	mov     rb, a
0B0B	0F00	mov     a, 0H
0B0C	5F02	clr     rc
0B0D	5382	adcm    a, rc
0B0E	340A	clr     C
0B0F	5A01	rlca    rb
0B10	4083	mov     rd, a
0B11	5A02	rlca    rc
0B12	4084	mov     re, a
0B13	4721	mov     a, gu8v_temp[0]
0B14	4081	mov     rb, a
0B15	5F02	clr     rc
				L0B16:
0B16	340A	clr     C
0B17	5A81	rlc     rb
0B18	5A82	rlc     rc
0B19	0FAD	mov     a, ADH
0B1A	4303	add     a, rd
0B1B	0083	mov     MP1L, a
0B1C	0F80	mov     a, 80H
0B1D	5304	adc     a, re
0B1E	0084	mov     MP1H, a
0B1F	A014	call    L1014
0B20	4083	mov     rd, a
0B21	A011	call    L1011
0B22	4084	mov     re, a
0B23	0FAD	mov     a, ADH
0B24	4301	add     a, rb
0B25	0083	mov     MP1L, a
0B26	0F80	mov     a, 80H
0B27	5302	adc     a, rc
0B28	0084	mov     MP1H, a
0B29	A014	call    L1014
0B2A	4081	mov     rb, a
0B2B	A011	call    L1011
0B2C	4082	mov     rc, a
0B2D	4703	mov     a, rd
0B2E	4201	sub     a, rb
0B2F	4083	mov     rd, a
0B30	4704	mov     a, re
				L0B31:
0B31	5202	sbc     a, rc
				L0B32:
0B32	4084	mov     re, a
0B33	4703	mov     a, rd
0B34	4083	mov     rd, a
0B35	4704	mov     a, re
0B36	4084	mov     re, a
0B37	1F05	clr     ACC
0B38	7F84	sz      re.7
0B39	1F85	set     ACC
0B3A	4085	mov     rf, a
0B3B	4086	mov     rg, a
				;192				gs32v_Vol_temp2 = ((lu16v_vobj_25-LU16C_VTP_TABLE[gu8v_temp])*10)/gs32v_Vol_temp2;	
0B3C	4721	mov     a, gu8v_temp[0]
0B3D	4081	mov     rb, a
0B3E	5F02	clr     rc
0B3F	340A	clr     C
0B40	5A81	rlc     rb
0B41	5A82	rlc     rc
0B42	0FAD	mov     a, ADH
0B43	4301	add     a, rb
0B44	0083	mov     MP1L, a
0B45	0F80	mov     a, 80H
0B46	5302	adc     a, rc
0B47	0084	mov     MP1H, a
0B48	A014	call    L1014
0B49	4081	mov     rb, a
0B4A	A011	call    L1011
0B4B	4082	mov     rc, a
0B4C	471D	mov     a, lu16v_vobj_25[0]
0B4D	4201	sub     a, rb
0B4E	40A2	mov     gu8v_temp[1], a
0B4F	471E	mov     a, lu16v_vobj_25[1]
0B50	5202	sbc     a, rc
0B51	40A3	mov     gu8v_temp[2], a
0B52	1F05	clr     ACC
0B53	7F82	sz      rc.7
0B54	1F85	set     ACC
0B55	40A4	mov     gu8v_temp[3], a
0B56	40A5	mov     gu8v_temp[4], a
0B57	471F	mov     a, lu16v_vobj_25[2]
0B58	52A4	sbcm    a, gu8v_temp[3]
0B59	4720	mov     a, lu16v_vobj_25[3]
0B5A	52A5	sbcm    a, gu8v_temp[4]
0B5B	4722	mov     a, gu8v_temp[1]
0B5C	408F	mov     lu8v_data, a
0B5D	4723	mov     a, gu8v_temp[2]
0B5E	4090	mov     lu8v_addr, a
0B5F	4724	mov     a, gu8v_temp[3]
0B60	4091	mov     lu8v_addr_2, a
0B61	4725	mov     a, gu8v_temp[4]
0B62	4092	mov     lu8v_addr_1, a
0B63	0F0A	mov     a, AH
0B64	4093	mov     lu8v_addr_0, a
0B65	0F00	mov     a, 0H
0B66	4094	mov     lu8v_table_buff, a
0B67	0F00	mov     a, 0H
0B68	4095	mov     lu8v_lcd_mode, a
0B69	0F00	mov     a, 0H
0B6A	4096	mov     lu8v_lcd_mode[1], a
0B6B	6747	call    L0F47
0B6C	4717	mov     a, lu8v_DISPLAUDATA
0B6D	40A2	mov     gu8v_temp[1], a
0B6E	4718	mov     a, lu8v_DISPLAUDATA[1]
0B6F	40A3	mov     gu8v_temp[2], a
0B70	4719	mov     a, lu8v_DISPLAUDATA[2]
0B71	40A4	mov     gu8v_temp[3], a
0B72	471A	mov     a, lu8v_DISPLAUDATA[3]
0B73	40A5	mov     gu8v_temp[4], a
0B74	4722	mov     a, gu8v_temp[1]
0B75	408F	mov     lu8v_data, a
0B76	4723	mov     a, gu8v_temp[2]
0B77	4090	mov     lu8v_addr, a
0B78	4724	mov     a, gu8v_temp[3]
0B79	4091	mov     lu8v_addr_2, a
0B7A	4725	mov     a, gu8v_temp[4]
0B7B	4092	mov     lu8v_addr_1, a
0B7C	4703	mov     a, rd
0B7D	4093	mov     lu8v_addr_0, a
0B7E	4704	mov     a, re
0B7F	4094	mov     lu8v_table_buff, a
0B80	4705	mov     a, rf
0B81	4095	mov     lu8v_lcd_mode, a
0B82	4706	mov     a, rg
0B83	4096	mov     lu8v_lcd_mode[1], a
0B84	6766	call    L0F66
0B85	470F	mov     a, lu8v_data
0B86	4083	mov     rd, a
0B87	4710	mov     a, lu8v_addr
0B88	4084	mov     re, a
0B89	4711	mov     a, lu8v_addr_2
0B8A	4085	mov     rf, a
0B8B	4712	mov     a, lu8v_addr_1
0B8C	4086	mov     rg, a
				;193				gu16v_current_temp.S16 = gs32v_Vol_temp2 + gu8v_temp*10;
0B8D	4721	mov     a, gu8v_temp[0]
0B8E	4081	mov     rb, a
0B8F	5F02	clr     rc
0B90	340A	clr     C
0B91	5A01	rlca    rb
0B92	40A2	mov     gu8v_temp[1], a
0B93	5A02	rlca    rc
0B94	40A3	mov     gu8v_temp[2], a
0B95	340A	clr     C
0B96	5AA2	rlc     gu8v_temp[1]
0B97	5AA3	rlc     gu8v_temp[2]
0B98	4722	mov     a, gu8v_temp[1]
0B99	4381	addm    a, rb
0B9A	4723	mov     a, gu8v_temp[2]
0B9B	5382	adcm    a, rc
0B9C	340A	clr     C
0B9D	5A81	rlc     rb
0B9E	5A82	rlc     rc
0B9F	4703	mov     a, rd
0BA0	4301	add     a, rb
0BA1	C094	lmov    gu16v_current_temp[0], a
0BA3	4704	mov     a, re
0BA4	5302	adc     a, rc
0BA5	C095	lmov    gu16v_current_temp[1], a
				;194				break;
0BA7	6BB0	jmp     _L11
				;195			}
				;196			if(gu8v_temp>200)
				_L12:
0BA8	0FC8	mov     a, C8H
0BA9	4221	sub     a, gu8v_temp[0]
0BAA	3C0A	sz      C
0BAB	6BAE	jmp     _L14
				;197			{
				;198				GCC_NOP();
0BAC	0000	nop
				;199				break;
0BAD	6BB0	jmp     _L11
				;200			}
				;201	
				;202			gu8v_temp++;
				_L14:
0BAE	54A1	inc     gu8v_temp[0]
				;203		}	
0BAF	6ABE	jmp     _L15
				_L11:
0BB0	0003	ret
				;204	}
				;205	
				;206	/********************************************************************
				;207	Function:	fun_CORRECTION_Calculate
				;208	INPUT	:
				;209	OUTPUT	:	
				;210	NOTE	:   通^校囟赛c@取K1、K2的值
				;211	********************************************************************/
				;212	
				;213	void	fun_CORRECTION_Calculate(U16 lu16v_table_guide1,U16 lu16v_table_guide2)
				;214	{	
				;215		volatile	S16 ls16v_Vol_buff1;
				;216		volatile	S16 ls16v_Vol_buff2;
				;217		volatile	U8 lu8v_table_h,lu8v_table_l;
				;218	
				;219	//	@取第一囟赛c 在 25°C 的褐
				;220		lu8v_table_h = lu16v_table_guide1/10;
				_fun_CORRECTION_Calculate:
				_fun_CORRECTION_Calculate:
0BB1	4726	mov     a, lu16v_table_guide1[0]
0BB2	4081	mov     rb, a
0BB3	4727	mov     a, lu16v_table_guide1[1]
0BB4	4082	mov     rc, a
0BB5	5F15	clr     lu8v_lcd_mode
0BB6	4701	mov     a, rb
0BB7	408F	mov     lu8v_data, a
0BB8	4702	mov     a, rc
0BB9	4090	mov     lu8v_addr, a
0BBA	0F0A	mov     a, AH
0BBB	4091	mov     lu8v_addr_2, a
0BBC	5F12	clr     lu8v_addr_1
0BBD	67EC	call    L0FEC
0BBE	470F	mov     a, lu8v_data
0BBF	4083	mov     rd, a
0BC0	4710	mov     a, lu8v_addr
0BC1	4084	mov     re, a
0BC2	4703	mov     a, rd
0BC3	40AF	mov     lu8v_table_h[0], a
				;221		lu8v_table_l = lu16v_table_guide1%10;
0BC4	5F15	clr     lu8v_lcd_mode
0BC5	4701	mov     a, rb
0BC6	408F	mov     lu8v_data, a
0BC7	4702	mov     a, rc
0BC8	4090	mov     lu8v_addr, a
0BC9	0F0A	mov     a, AH
0BCA	4091	mov     lu8v_addr_2, a
0BCB	5F12	clr     lu8v_addr_1
0BCC	67EC	call    L0FEC
0BCD	4713	mov     a, lu8v_addr_0
0BCE	4081	mov     rb, a
0BCF	4714	mov     a, lu8v_table_buff
0BD0	4082	mov     rc, a
0BD1	4701	mov     a, rb
0BD2	40AE	mov     lu8v_table_l[0], a
				;222		ls16v_Vol_buff1 = (LU16C_VTP_TABLE[lu8v_table_h+1]-LU16C_VTP_TABLE[lu8v_table_h])*lu8v_table_l/10+LU16C_VTP_TABLE[lu8v_table_h];
0BD3	0F01	mov     a, 1H
0BD4	432F	add     a, lu8v_table_h[0]
0BD5	4081	mov     rb, a
0BD6	0F00	mov     a, 0H
0BD7	5F02	clr     rc
0BD8	5382	adcm    a, rc
0BD9	340A	clr     C
0BDA	5A01	rlca    rb
0BDB	4085	mov     rf, a
0BDC	5A02	rlca    rc
0BDD	4086	mov     rg, a
0BDE	472F	mov     a, lu8v_table_h[0]
0BDF	4081	mov     rb, a
0BE0	5F02	clr     rc
0BE1	340A	clr     C
0BE2	5A01	rlca    rb
0BE3	4083	mov     rd, a
0BE4	5A02	rlca    rc
0BE5	4084	mov     re, a
0BE6	0FAD	mov     a, ADH
0BE7	4305	add     a, rf
0BE8	0083	mov     MP1L, a
0BE9	0F80	mov     a, 80H
0BEA	5306	adc     a, rg
0BEB	0084	mov     MP1H, a
0BEC	A014	call    L1014
0BED	4081	mov     rb, a
0BEE	A011	call    L1011
0BEF	4082	mov     rc, a
0BF0	0FAD	mov     a, ADH
0BF1	4303	add     a, rd
0BF2	0083	mov     MP1L, a
0BF3	0F80	mov     a, 80H
0BF4	5304	adc     a, re
0BF5	0084	mov     MP1H, a
0BF6	A014	call    L1014
0BF7	4083	mov     rd, a
0BF8	A011	call    L1011
0BF9	4084	mov     re, a
0BFA	4701	mov     a, rb
0BFB	4203	sub     a, rd
0BFC	4081	mov     rb, a
0BFD	4702	mov     a, rc
0BFE	5204	sbc     a, re
0BFF	4082	mov     rc, a
0C00	472E	mov     a, lu8v_table_l[0]
0C01	408F	mov     lu8v_data, a
				L0C02:
0C02	5F10	clr     lu8v_addr
0C03	4701	mov     a, rb
0C04	4091	mov     lu8v_addr_2, a
0C05	4702	mov     a, rc
0C06	4092	mov     lu8v_addr_1, a
0C07	67C7	call    L0FC7
0C08	4713	mov     a, lu8v_addr_0
0C09	4081	mov     rb, a
0C0A	4714	mov     a, lu8v_table_buff
0C0B	4082	mov     rc, a
0C0C	4701	mov     a, rb
0C0D	408F	mov     lu8v_data, a
0C0E	4702	mov     a, rc
0C0F	4090	mov     lu8v_addr, a
0C10	0F0A	mov     a, AH
0C11	4091	mov     lu8v_addr_2, a
0C12	0F00	mov     a, 0H
				L0C13:
0C13	4092	mov     lu8v_addr_1, a
0C14	67DA	call    L0FDA
				L0C15:
0C15	470F	mov     a, lu8v_data
0C16	4081	mov     rb, a
0C17	4710	mov     a, lu8v_addr
0C18	4082	mov     rc, a
0C19	472F	mov     a, lu8v_table_h[0]
0C1A	4083	mov     rd, a
0C1B	5F04	clr     re
0C1C	340A	clr     C
0C1D	5A83	rlc     rd
0C1E	5A84	rlc     re
0C1F	0FAD	mov     a, ADH
				L0C20:
0C20	4303	add     a, rd
0C21	0083	mov     MP1L, a
0C22	0F80	mov     a, 80H
0C23	5304	adc     a, re
0C24	0084	mov     MP1H, a
0C25	A014	call    L1014
0C26	4083	mov     rd, a
0C27	A011	call    L1011
0C28	4084	mov     re, a
0C29	4703	mov     a, rd
				L0C2A:
0C2A	4301	add     a, rb
0C2B	40AC	mov     ls16v_Vol_buff1[0], a
0C2C	4704	mov     a, re
0C2D	5302	adc     a, rc
0C2E	40AD	mov     ls16v_Vol_buff1[1], a
				;223	//	@取第二囟赛c 在 25°C 的褐
				;224		lu8v_table_h = lu16v_table_guide2/10;
0C2F	4728	mov     a, lu16v_table_guide2[0]
0C30	4081	mov     rb, a
0C31	4729	mov     a, lu16v_table_guide2[1]
0C32	4082	mov     rc, a
0C33	5F15	clr     lu8v_lcd_mode
0C34	4701	mov     a, rb
0C35	408F	mov     lu8v_data, a
0C36	4702	mov     a, rc
0C37	4090	mov     lu8v_addr, a
0C38	0F0A	mov     a, AH
0C39	4091	mov     lu8v_addr_2, a
0C3A	5F12	clr     lu8v_addr_1
0C3B	67EC	call    L0FEC
0C3C	470F	mov     a, lu8v_data
0C3D	4083	mov     rd, a
0C3E	4710	mov     a, lu8v_addr
0C3F	4084	mov     re, a
0C40	4703	mov     a, rd
0C41	40AF	mov     lu8v_table_h[0], a
				;225		lu8v_table_l = lu16v_table_guide2%10;
0C42	5F15	clr     lu8v_lcd_mode
0C43	4701	mov     a, rb
0C44	408F	mov     lu8v_data, a
0C45	4702	mov     a, rc
0C46	4090	mov     lu8v_addr, a
0C47	0F0A	mov     a, AH
0C48	4091	mov     lu8v_addr_2, a
0C49	5F12	clr     lu8v_addr_1
0C4A	67EC	call    L0FEC
0C4B	4713	mov     a, lu8v_addr_0
0C4C	4081	mov     rb, a
0C4D	4714	mov     a, lu8v_table_buff
0C4E	4082	mov     rc, a
0C4F	4701	mov     a, rb
0C50	40AE	mov     lu8v_table_l[0], a
				;226		ls16v_Vol_buff2 = (LU16C_VTP_TABLE[lu8v_table_h+1]-LU16C_VTP_TABLE[lu8v_table_h])*lu8v_table_l/10+LU16C_VTP_TABLE[lu8v_table_h];	
0C51	0F01	mov     a, 1H
0C52	432F	add     a, lu8v_table_h[0]
0C53	4081	mov     rb, a
0C54	0F00	mov     a, 0H
0C55	5F02	clr     rc
0C56	5382	adcm    a, rc
0C57	340A	clr     C
0C58	5A01	rlca    rb
0C59	4085	mov     rf, a
0C5A	5A02	rlca    rc
0C5B	4086	mov     rg, a
0C5C	472F	mov     a, lu8v_table_h[0]
0C5D	4081	mov     rb, a
0C5E	5F02	clr     rc
0C5F	340A	clr     C
0C60	5A01	rlca    rb
0C61	4083	mov     rd, a
0C62	5A02	rlca    rc
0C63	4084	mov     re, a
0C64	0FAD	mov     a, ADH
0C65	4305	add     a, rf
0C66	0083	mov     MP1L, a
0C67	0F80	mov     a, 80H
0C68	5306	adc     a, rg
0C69	0084	mov     MP1H, a
0C6A	A014	call    L1014
0C6B	4081	mov     rb, a
0C6C	A011	call    L1011
0C6D	4082	mov     rc, a
0C6E	0FAD	mov     a, ADH
0C6F	4303	add     a, rd
0C70	0083	mov     MP1L, a
0C71	0F80	mov     a, 80H
0C72	5304	adc     a, re
0C73	0084	mov     MP1H, a
0C74	A014	call    L1014
0C75	4083	mov     rd, a
0C76	A011	call    L1011
0C77	4084	mov     re, a
0C78	4701	mov     a, rb
0C79	4203	sub     a, rd
0C7A	4081	mov     rb, a
0C7B	4702	mov     a, rc
0C7C	5204	sbc     a, re
0C7D	4082	mov     rc, a
0C7E	472E	mov     a, lu8v_table_l[0]
0C7F	408F	mov     lu8v_data, a
0C80	5F10	clr     lu8v_addr
0C81	4701	mov     a, rb
0C82	4091	mov     lu8v_addr_2, a
0C83	4702	mov     a, rc
0C84	4092	mov     lu8v_addr_1, a
0C85	67C7	call    L0FC7
0C86	4713	mov     a, lu8v_addr_0
0C87	4081	mov     rb, a
0C88	4714	mov     a, lu8v_table_buff
0C89	4082	mov     rc, a
0C8A	4701	mov     a, rb
0C8B	408F	mov     lu8v_data, a
0C8C	4702	mov     a, rc
0C8D	4090	mov     lu8v_addr, a
0C8E	0F0A	mov     a, AH
0C8F	4091	mov     lu8v_addr_2, a
0C90	0F00	mov     a, 0H
0C91	4092	mov     lu8v_addr_1, a
0C92	67DA	call    L0FDA
0C93	470F	mov     a, lu8v_data
0C94	4081	mov     rb, a
0C95	4710	mov     a, lu8v_addr
0C96	4082	mov     rc, a
0C97	472F	mov     a, lu8v_table_h[0]
0C98	4083	mov     rd, a
0C99	5F04	clr     re
0C9A	340A	clr     C
0C9B	5A83	rlc     rd
0C9C	5A84	rlc     re
0C9D	0FAD	mov     a, ADH
0C9E	4303	add     a, rd
0C9F	0083	mov     MP1L, a
0CA0	0F80	mov     a, 80H
0CA1	5304	adc     a, re
0CA2	0084	mov     MP1H, a
0CA3	A014	call    L1014
0CA4	4083	mov     rd, a
0CA5	A011	call    L1011
0CA6	4084	mov     re, a
0CA7	4703	mov     a, rd
0CA8	4301	add     a, rb
0CA9	40AA	mov     ls16v_Vol_buff2[0], a
0CAA	4704	mov     a, re
0CAB	5302	adc     a, rc
0CAC	40AB	mov     ls16v_Vol_buff2[1], a
				;227	//	@取K1
				;228		gu16v_correction_K1.U16 = (S32)(ls16v_Vol_buff1-ls16v_Vol_buff2)*gu16v_tcf.S16/(gu16v_vtp_buff.S16-gu16v_vtp.S16);				
0CAD	472C	mov     a, ls16v_Vol_buff1[0]
0CAE	422A	sub     a, ls16v_Vol_buff2[0]
0CAF	4080	mov     ra, a
0CB0	472D	mov     a, ls16v_Vol_buff1[1]
0CB1	522B	sbc     a, ls16v_Vol_buff2[1]
0CB2	4081	mov     rb, a
0CB3	4700	mov     a, ra
0CB4	40B0	mov     lu8v_table_h[1], a
0CB5	4701	mov     a, rb
0CB6	40B1	mov     lu8v_table_h[2], a
0CB7	1F05	clr     ACC
0CB8	7FB1	sz      lu8v_table_h[2].7
0CB9	1F85	set     ACC
0CBA	40B2	mov     lu8v_table_h[3], a
0CBB	40B3	mov     lu8v_table_h[4], a
0CBC	474F	mov     a, gu16v_tcf[0]
0CBD	4083	mov     rd, a
0CBE	4750	mov     a, gu16v_tcf[1]
0CBF	4084	mov     re, a
0CC0	1F05	clr     ACC
0CC1	7F84	sz      re.7
0CC2	1F85	set     ACC
0CC3	4085	mov     rf, a
0CC4	4086	mov     rg, a
0CC5	4730	mov     a, lu8v_table_h[1]
0CC6	408F	mov     lu8v_data, a
0CC7	4731	mov     a, lu8v_table_h[2]
0CC8	4090	mov     lu8v_addr, a
0CC9	4732	mov     a, lu8v_table_h[3]
0CCA	4091	mov     lu8v_addr_2, a
0CCB	4733	mov     a, lu8v_table_h[4]
0CCC	4092	mov     lu8v_addr_1, a
0CCD	4703	mov     a, rd
0CCE	4093	mov     lu8v_addr_0, a
0CCF	4704	mov     a, re
0CD0	4094	mov     lu8v_table_buff, a
0CD1	4705	mov     a, rf
0CD2	4095	mov     lu8v_lcd_mode, a
0CD3	4706	mov     a, rg
0CD4	4096	mov     lu8v_lcd_mode[1], a
0CD5	6747	call    L0F47
0CD6	4717	mov     a, lu8v_DISPLAUDATA
0CD7	4083	mov     rd, a
0CD8	4718	mov     a, lu8v_DISPLAUDATA[1]
0CD9	4084	mov     re, a
0CDA	4719	mov     a, lu8v_DISPLAUDATA[2]
0CDB	4085	mov     rf, a
0CDC	471A	mov     a, lu8v_DISPLAUDATA[3]
0CDD	4086	mov     rg, a
0CDE	C710	lmov    a, gu16v_vtp_buff[0]
0CE0	C20E	lsub    a, gu16v_vtp[0]
0CE2	4081	mov     rb, a
0CE3	C711	lmov    a, gu16v_vtp_buff[1]
0CE5	D20F	lsbc    a, gu16v_vtp[1]
0CE7	4082	mov     rc, a
0CE8	4701	mov     a, rb
0CE9	40B0	mov     lu8v_table_h[1], a
0CEA	4702	mov     a, rc
0CEB	40B1	mov     lu8v_table_h[2], a
0CEC	1F05	clr     ACC
0CED	7FB1	sz      lu8v_table_h[2].7
0CEE	1F85	set     ACC
0CEF	40B2	mov     lu8v_table_h[3], a
0CF0	40B3	mov     lu8v_table_h[4], a
0CF1	4703	mov     a, rd
0CF2	408F	mov     lu8v_data, a
0CF3	4704	mov     a, re
0CF4	4090	mov     lu8v_addr, a
0CF5	4705	mov     a, rf
0CF6	4091	mov     lu8v_addr_2, a
0CF7	4706	mov     a, rg
0CF8	4092	mov     lu8v_addr_1, a
0CF9	4730	mov     a, lu8v_table_h[1]
0CFA	4093	mov     lu8v_addr_0, a
0CFB	4731	mov     a, lu8v_table_h[2]
0CFC	4094	mov     lu8v_table_buff, a
0CFD	4732	mov     a, lu8v_table_h[3]
0CFE	4095	mov     lu8v_lcd_mode, a
0CFF	4733	mov     a, lu8v_table_h[4]
0D00	4096	mov     lu8v_lcd_mode[1], a
0D01	6766	call    L0F66
0D02	470F	mov     a, lu8v_data
0D03	4083	mov     rd, a
0D04	4710	mov     a, lu8v_addr
0D05	4084	mov     re, a
0D06	4711	mov     a, lu8v_addr_2
0D07	4085	mov     rf, a
0D08	4712	mov     a, lu8v_addr_1
0D09	4086	mov     rg, a
0D0A	4703	mov     a, rd
0D0B	40C9	mov     gu16v_correction_K1[0], a
0D0C	4704	mov     a, re
0D0D	40CA	mov     gu16v_correction_K1[1], a
				;229	//	
				;230		fun_get_Vobj_25(((S32)ls16v_Vol_buff1- (S32)gu16v_correction_K1.U16 * gu16v_vtp_buff.S16/gu16v_tcf.S16));
0D0E	C710	lmov    a, gu16v_vtp_buff[0]
				L0D10:
0D10	40B0	mov     lu8v_table_h[1], a
0D11	C711	lmov    a, gu16v_vtp_buff[1]
				L0D12:
				org	0d12h
0D12	0000	nop
0D13	40B1	mov     lu8v_table_h[2], a
0D14	1F05	clr     ACC
0D15	7FB1	sz      lu8v_table_h[2].7
0D16	1F85	set     ACC
				L0D17:
0D17	40B2	mov     lu8v_table_h[3], a
0D18	40B3	mov     lu8v_table_h[4], a
0D19	4749	mov     a, gu16v_correction_K1[0]
				L0D1A:
0D1A	4083	mov     rd, a
0D1B	474A	mov     a, gu16v_correction_K1[1]
0D1C	4084	mov     re, a
0D1D	5F05	clr     rf
0D1E	5F06	clr     rg
0D1F	4730	mov     a, lu8v_table_h[1]
				L0D20:
0D20	408F	mov     lu8v_data, a
0D21	4731	mov     a, lu8v_table_h[2]
0D22	4090	mov     lu8v_addr, a
0D23	4732	mov     a, lu8v_table_h[3]
0D24	4091	mov     lu8v_addr_2, a
0D25	4733	mov     a, lu8v_table_h[4]
0D26	4092	mov     lu8v_addr_1, a
0D27	4703	mov     a, rd
0D28	4093	mov     lu8v_addr_0, a
0D29	4704	mov     a, re
0D2A	4094	mov     lu8v_table_buff, a
0D2B	4705	mov     a, rf
0D2C	4095	mov     lu8v_lcd_mode, a
0D2D	4706	mov     a, rg
0D2E	4096	mov     lu8v_lcd_mode[1], a
0D2F	6747	call    L0F47
0D30	4717	mov     a, lu8v_DISPLAUDATA
0D31	40B0	mov     lu8v_table_h[1], a
0D32	4718	mov     a, lu8v_DISPLAUDATA[1]
0D33	40B1	mov     lu8v_table_h[2], a
0D34	4719	mov     a, lu8v_DISPLAUDATA[2]
0D35	40B2	mov     lu8v_table_h[3], a
0D36	471A	mov     a, lu8v_DISPLAUDATA[3]
0D37	40B3	mov     lu8v_table_h[4], a
0D38	474F	mov     a, gu16v_tcf[0]
0D39	4083	mov     rd, a
0D3A	4750	mov     a, gu16v_tcf[1]
0D3B	4084	mov     re, a
0D3C	1F05	clr     ACC
0D3D	7F84	sz      re.7
0D3E	1F85	set     ACC
0D3F	4085	mov     rf, a
0D40	4086	mov     rg, a
0D41	4730	mov     a, lu8v_table_h[1]
0D42	408F	mov     lu8v_data, a
0D43	4731	mov     a, lu8v_table_h[2]
0D44	4090	mov     lu8v_addr, a
0D45	4732	mov     a, lu8v_table_h[3]
0D46	4091	mov     lu8v_addr_2, a
0D47	4733	mov     a, lu8v_table_h[4]
0D48	4092	mov     lu8v_addr_1, a
0D49	4703	mov     a, rd
0D4A	4093	mov     lu8v_addr_0, a
0D4B	4704	mov     a, re
0D4C	4094	mov     lu8v_table_buff, a
0D4D	4705	mov     a, rf
0D4E	4095	mov     lu8v_lcd_mode, a
0D4F	4706	mov     a, rg
0D50	4096	mov     lu8v_lcd_mode[1], a
0D51	6766	call    L0F66
0D52	470F	mov     a, lu8v_data
0D53	4084	mov     re, a
0D54	4710	mov     a, lu8v_addr
0D55	4085	mov     rf, a
0D56	4711	mov     a, lu8v_addr_2
0D57	4086	mov     rg, a
0D58	4712	mov     a, lu8v_addr_1
0D59	4087	mov     rh, a
0D5A	4704	mov     a, re
0D5B	4080	mov     ra, a
0D5C	4705	mov     a, rf
0D5D	4081	mov     rb, a
0D5E	4706	mov     a, rg
0D5F	4082	mov     rc, a
0D60	4707	mov     a, rh
0D61	4083	mov     rd, a
0D62	472C	mov     a, ls16v_Vol_buff1[0]
0D63	4280	subm    a, ra
0D64	472D	mov     a, ls16v_Vol_buff1[1]
0D65	5281	sbcm    a, rb
0D66	1F05	clr     ACC
0D67	7FAD	sz      ls16v_Vol_buff1[1].7
0D68	1F85	set     ACC
0D69	5282	sbcm    a, rc
0D6A	5283	sbcm    a, rd
0D6B	4700	mov     a, ra
0D6C	409D	mov     lu16v_vobj_25, a
0D6D	4701	mov     a, rb
0D6E	409E	mov     lu16v_vobj_25[1], a
0D6F	4702	mov     a, rc
0D70	409F	mov     lu16v_vobj_25[2], a
0D71	4703	mov     a, rd
0D72	40A0	mov     lu16v_vobj_25[3], a
0D73	62BD	call    _fun_get_Vobj_25
				;231	
				;232		ls16v_Vol_buff1 = LU16C_NTC_TABLE[gu16v_current_temp.S16];
0D74	340A	clr     C
0D75	DA14	lrlca   gu16v_current_temp[0]
0D77	4081	mov     rb, a
0D78	DA15	lrlca   gu16v_current_temp[1]
0D7A	4082	mov     rc, a
0D7B	0F75	mov     a, 75H
0D7C	4301	add     a, rb
0D7D	0083	mov     MP1L, a
0D7E	0F81	mov     a, 81H
0D7F	5302	adc     a, rc
0D80	0084	mov     MP1H, a
0D81	A014	call    L1014
0D82	4081	mov     rb, a
0D83	A011	call    L1011
0D84	4082	mov     rc, a
0D85	4701	mov     a, rb
0D86	40AC	mov     ls16v_Vol_buff1[0], a
0D87	4702	mov     a, rc
0D88	40AD	mov     ls16v_Vol_buff1[1], a
				;233		gu16v_correction_K2.U16 = (U32)ls16v_Vol_buff1*10000/gu16v_adc_res2_buff.S16;
0D89	472C	mov     a, ls16v_Vol_buff1[0]
0D8A	4083	mov     rd, a
0D8B	472D	mov     a, ls16v_Vol_buff1[1]
0D8C	4084	mov     re, a
0D8D	1F05	clr     ACC
0D8E	7F84	sz      re.7
0D8F	1F85	set     ACC
0D90	4085	mov     rf, a
0D91	4086	mov     rg, a
0D92	4703	mov     a, rd
0D93	408F	mov     lu8v_data, a
0D94	4704	mov     a, re
0D95	4090	mov     lu8v_addr, a
0D96	4705	mov     a, rf
0D97	4091	mov     lu8v_addr_2, a
0D98	4706	mov     a, rg
0D99	4092	mov     lu8v_addr_1, a
0D9A	0F10	mov     a, 10H
0D9B	4093	mov     lu8v_addr_0, a
0D9C	0F27	mov     a, 27H
0D9D	4094	mov     lu8v_table_buff, a
0D9E	0F00	mov     a, 0H
0D9F	4095	mov     lu8v_lcd_mode, a
0DA0	0F00	mov     a, 0H
0DA1	4096	mov     lu8v_lcd_mode[1], a
0DA2	6747	call    L0F47
0DA3	4717	mov     a, lu8v_DISPLAUDATA
0DA4	40B0	mov     lu8v_table_h[1], a
0DA5	4718	mov     a, lu8v_DISPLAUDATA[1]
0DA6	40B1	mov     lu8v_table_h[2], a
0DA7	4719	mov     a, lu8v_DISPLAUDATA[2]
0DA8	40B2	mov     lu8v_table_h[3], a
0DA9	471A	mov     a, lu8v_DISPLAUDATA[3]
0DAA	40B3	mov     lu8v_table_h[4], a
0DAB	476A	mov     a, gu16v_adc_res2_buff[0]
0DAC	4083	mov     rd, a
0DAD	476B	mov     a, gu16v_adc_res2_buff[1]
0DAE	4084	mov     re, a
0DAF	1F05	clr     ACC
0DB0	7F84	sz      re.7
0DB1	1F85	set     ACC
0DB2	4085	mov     rf, a
0DB3	4086	mov     rg, a
0DB4	5F1B	clr     lu8v_EEprom_Temp
0DB5	4730	mov     a, lu8v_table_h[1]
0DB6	408F	mov     lu8v_data, a
0DB7	4731	mov     a, lu8v_table_h[2]
0DB8	4090	mov     lu8v_addr, a
0DB9	4732	mov     a, lu8v_table_h[3]
0DBA	4091	mov     lu8v_addr_2, a
0DBB	4733	mov     a, lu8v_table_h[4]
0DBC	4092	mov     lu8v_addr_1, a
0DBD	4703	mov     a, rd
0DBE	4093	mov     lu8v_addr_0, a
0DBF	4704	mov     a, re
0DC0	4094	mov     lu8v_table_buff, a
0DC1	4705	mov     a, rf
0DC2	4095	mov     lu8v_lcd_mode, a
0DC3	4706	mov     a, rg
0DC4	4096	mov     lu8v_lcd_mode[1], a
0DC5	6784	call    L0F84
0DC6	470F	mov     a, lu8v_data
0DC7	4083	mov     rd, a
0DC8	4710	mov     a, lu8v_addr
0DC9	4084	mov     re, a
0DCA	4711	mov     a, lu8v_addr_2
0DCB	4085	mov     rf, a
0DCC	4712	mov     a, lu8v_addr_1
0DCD	4086	mov     rg, a
0DCE	4703	mov     a, rd
0DCF	40D1	mov     gu16v_correction_K2[0], a
0DD0	4704	mov     a, re
0DD1	40D2	mov     gu16v_correction_K2[1], a
0DD2	0003	ret
				;234	}	
				;235	
				;236	
				;237	/********************************************************************
				;238	Function:	fun_TCF_Calculate
				;239	INPUT	:
				;240	OUTPUT	:	
				;241	NOTE	:   
				;242	********************************************************************/
				;243	
				;244	void	fun_TCF_Calculate()
				;245	{	
				;246	
				;247		gu16v_tcf.S16 =10000+(gu16v_temp.S16-250)*LU8C_TCF/10;	
				_fun_TCF_Calculate:
				_fun_TCF_Calculate:
0DD3	C70C	lmov    a, gu16v_temp[0]
0DD5	4081	mov     rb, a
0DD6	C70D	lmov    a, gu16v_temp[1]
0DD8	4082	mov     rc, a
0DD9	0F10	mov     a, 10H
0DDA	40CF	mov     gu16v_tcf[0], a
0DDB	0F27	mov     a, 27H
0DDC	40D0	mov     gu16v_tcf[1], a
				;248		GCC_NOP();
0DDD	0000	nop
0DDE	0003	ret
				;249	}
				;250	
				;251	/********************************************************************
				;252	Function:	fun_Temp_SurfaceToBody
				;253	INPUT	:
				;254	OUTPUT	:	
				;255	NOTE	:   
				;256	********************************************************************/
				;257	
				;258	void	fun_Temp_SurfaceToBody()
				;259	{
				;260		volatile		U8 lu8v_table_l;
				;261		
				;262		
				;263		if(gu16v_current_temp.S16 < 281)
				_fun_Temp_SurfaceToBody:
				_fun_Temp_SurfaceToBody:
0EC3	0F18	mov     a, 18H
0EC4	C214	lsub    a, gu16v_current_temp[0]
0EC6	0F01	mov     a, 1H
0EC7	D215	lsbc    a, gu16v_current_temp[1]
0EC9	3B8A	snz     SC
0ECA	6EEE	jmp     _L19
				;264		{
				;265			
				;266		}
				;267		else if(gu16v_current_temp.S16 > 389)
0ECB	0F85	mov     a, 85H
0ECC	C214	lsub    a, gu16v_current_temp[0]
0ECE	0F01	mov     a, 1H
0ECF	D215	lsbc    a, gu16v_current_temp[1]
0ED1	3F8A	sz      SC
0ED2	6EEE	jmp     _L19
				;268		{
				;269			
				;270		}
				;271		else
				;272		{
				;273			lu8v_table_l = gu16v_current_temp.U16 - 281;
0ED3	C714	lmov    a, gu16v_current_temp[0]
0ED5	4081	mov     rb, a
0ED6	C715	lmov    a, gu16v_current_temp[1]
0ED8	4082	mov     rc, a
0ED9	4701	mov     a, rb
0EDA	0BE7	add     a, E7H
0EDB	408F	mov     lu8v_table_l[0], a
				;274		
				;275			gu16v_body_temp.S16 = gu16v_current_temp.U16 + LU8_Boby_temp_TABLE[lu8v_table_l];
0EDC	0F40	mov     a, 40H
0EDD	430F	add     a, lu8v_table_l[0]
0EDE	0083	mov     MP1L, a
0EDF	0F80	mov     a, 80H
0EE0	1F04	clr     MP1H
0EE1	1384	adcm    a, MP1H
0EE2	A014	call    L1014
0EE3	4080	mov     ra, a
0EE4	4700	mov     a, ra
0EE5	C314	ladd    a, gu16v_current_temp[0]
0EE7	C0A0	lmov    gu16v_body_temp[0], a
0EE9	1F05	clr     ACC
0EEA	D315	ladc    a, gu16v_current_temp[1]
0EEC	C0A1	lmov    gu16v_body_temp[1], a
				_L19:
0EEE	0003	ret
				;276		}
				;277	
				;278	}
				;279	
				;280	
				;281	
				;282	
				;283	
				;file E:\SourceTree_Source\sw_ht67f5652_forehead_thermeter_sim\sw_ht67f5652_forehead_thermometer\User\Key_Scan.c
				;1	
				;2	/*************************************************************************************/
				;3	//**	Copyright	:	2016 BY HOLTEK SEMICONDUCTOR INC                            **
				;4	//** 	File Name   :	Key_Scan.c 	       	                                        **
				;5	//**	Description	: 																**
				;6	//**	MCU      	: 	HT67F5652													**
				;7	//**	Author   	: 	Leo															**
				;8	//**	Date     	: 	2016/10/28													**
				;9	//**	Version  	: 	V00															**
				;10	//**	History  	:																**
				;11	/*************************************************************************************/
				;12	#include "..\User\CONFIG.h"
				;13	
				;14	/************************fun_Key_Scan Variable****************/
				;15	volatile	__byte_type  	gu8v_KeyCurrent;
				;16	volatile	__byte_type   	gu8v_KeyDown;			
				;17	volatile	U8				gu8v_KeyOld;
				;18	volatile	U8				gu8v_KeyNoChangedTime;
				;19	volatile	__byte_type  	gu8v_KeyPress;
				;20	
				;21	volatile	__byte_type		gu8v_KeyUp;
				;22	volatile	U8				gu8v_KeyLast;
				;23	volatile	U8 				gu8v_KeyCanChange;
				;24	volatile	__byte_type 	gu8v_Key_status;
				;25	volatile	U8 				gu8v_Keypress_time;
				;26	
				;27	/********************************************************************
				;28	Function:	fun_fun_Key_dealwith
				;29	INPUT	:
				;30	OUTPUT	:	
				;31	NOTE	:   
				;32	********************************************************************/
				;33	
				;34	void	fun_Key_dealwith(void)
				;35	{
				;36	//============L按按o=============//
				;37		if(gu8v_Keypress_time==100)			
				_fun_Key_dealwith:
				_fun_Key_dealwith:
0363	474B	mov     a, gu8v_Keypress_time[0]
0364	0A64	sub     a, 64H
0365	390A	snz     Z
0366	2B6A	jmp     _L2
				;38		{
				;39			if(gbv_on_KeyPress) 		
0367	473C	mov     a, gu8v_KeyPress[0]
0368	4080	mov     ra, a
0369	2B73	jmp     _L4
				;40			{
				;41			}
				;42			else
				;43			{
				;44			}
				;45			gu8v_Keypress_time = 101;					
				;46		}
				;47	//============短按按o=============//
				;48		else if(gu8v_Keypress_time<100)		
				_L2:
036A	0F63	mov     a, 63H
036B	424B	sub     a, gu8v_Keypress_time[0]
036C	380A	snz     C
036D	2B73	jmp     _L4
				;49		{
				;50			
				;51			if(gbv_KeyDown_Scan) 		
036E	7839	snz     gu8v_KeyDown[0].0
036F	2B75	jmp     _L3
				;52			{
				;53				gbv_KeyDown_Scan = 0;
0370	7439	clr     gu8v_KeyDown[0].0
				;54				gbv_on_sys = 1;	
0371	70BA	set     gu8v_Key_status[0].1
0372	2B75	jmp     _L3
				;55			}
				;56			
				;57		/*	if(gbv_key_on)					//释放按键 		
				;58			{
				;59				gbv_key_on	=	0;
				;60			}
				;61			if(gbv_key_down) 				//按下按键
				;62			{
				;63				gbv_key_down	=	0;
				;64			}	*/			
				;65		}
				;66		else
				;67		{
				;68			gu8v_Keypress_time = 101;				//Key time more than 3 s don't count,b.
				_L4:
0373	0F65	mov     a, 65H
0374	40CB	mov     gu8v_Keypress_time[0], a
				;69													//because of judge gu8v_Keypress_time==5
				;70		}
				;71		
				;72	//=============zy按下rg=============//
				;73		if(gbv_on_KeyPress)
				_L3:
0375	783C	snz     gu8v_KeyPress[0].0
0376	2B79	jmp     _L5
				;74		{
				;75			gu8v_Keypress_time++;		
0377	54CB	inc     gu8v_Keypress_time[0]
0378	2B7A	jmp     _L6
				;76		}
				;77		else
				;78		{
				;79			gu8v_Keypress_time = 0;	
				_L5:
0379	5F4B	clr     gu8v_Keypress_time[0]
				;80		}	
				;81	//=============放休眠rg=============//
				;82		if(gu8v_KeyDown.U8 != 0)
				_L6:
037A	5E39	snz     gu8v_KeyDown[0]
037B	2B7D	jmp     _L1
				;83		{
				;84			gu8v_halt_time=0;	
037C	5F46	clr     gu8v_halt_time[0]
				_L1:
037D	0003	ret
				;85	
				;86		}		
				;87	
				;88	
				;89	}
				;90	
				;91	/********************************************************************
				;92	Function:	fun_Key_Scan
				;93	INPUT	:
				;94	OUTPUT	:	
				;95	NOTE	:   
				;96	********************************************************************/
				;97	void	fun_Key_Scan(void)
				;98	{
				;99		gu8v_KeyCurrent.U8 = 0;
				_fun_Key_Scan:
				_fun_Key_Scan:
037E	5F3D	clr     gu8v_KeyCurrent[0]
				;100	
				;101		if(GPIO_KEY_SACAN == 0)								
037F	3F1A	sz      PA6
0380	2B82	jmp     _L16
				;102		{
				;103			KeyCurrent0 = 1;								
0381	703D	set     gu8v_KeyCurrent[0].0
				;104		}
				;105		if(GPIO_KEY_Switch == 0)
				_L16:
0382	3E9A	sz      PA5
0383	2B85	jmp     _L17
				;106		{
				;107			KeyCurrent1 = 1;
0384	70BD	set     gu8v_KeyCurrent[0].1
				;108		}		
				;109		if(GPIO_KEY_ROOM == 0)							
				_L17:
0385	3D9A	sz      PA3
0386	2B88	jmp     _L18
				;110		{
				;111			KeyCurrent2 = 1;								
0387	713D	set     gu8v_KeyCurrent[0].2
				;112		}		
				;113		if(GPIO_KEY_Surface == 0)							
				_L18:
0388	3C1D	sz      PB0
0389	2B8B	jmp     _L19
				;114		{
				;115			KeyCurrent3 = 1;								
038A	71BD	set     gu8v_KeyCurrent[0].3
				;116		}	
				;117		if(GPIO_KEY_BODY == 0)									
				_L19:
038B	3D1D	sz      PB2
038C	2B8E	jmp     _L20
				;118		{
				;119			KeyCurrent4 = 1;								
038D	723D	set     gu8v_KeyCurrent[0].4
				;120		}	
				;121		if(GPIO_KEY_BEEP == 0)									
				_L20:
038E	3E1A	sz      PA4
038F	2B91	jmp     _L21
				;122		{
				;123			KeyCurrent5 = 1;								
0390	72BD	set     gu8v_KeyCurrent[0].5
				;124		}		
				;125		if(gu8v_KeyCurrent.U8 != gu8v_KeyOld)  			
				_L21:
0391	473D	mov     a, gu8v_KeyCurrent[0]
0392	4266	sub     a, gu8v_KeyOld[0]
0393	3D0A	sz      Z
0394	2B99	jmp     _L22
				;126		{
				;127			gu8v_KeyNoChangedTime = 0;       				
0395	5F53	clr     gu8v_KeyNoChangedTime[0]
				;128			gu8v_KeyOld = gu8v_KeyCurrent.U8;        		
0396	473D	mov     a, gu8v_KeyCurrent[0]
0397	40E6	mov     gu8v_KeyOld[0], a
				;129			return;  										
0398	2BB1	jmp     _L15
				;130		}
				;131		else
				;132		{	
				;133			gu8v_KeyNoChangedTime++;	     				
				_L22:
0399	54D3	inc     gu8v_KeyNoChangedTime[0]
				;134			if(gu8v_KeyNoChangedTime >= LUCC_KEY_DEBOUNCE)	//50ms
039A	0F04	mov     a, 4H
039B	4253	sub     a, gu8v_KeyNoChangedTime[0]
039C	3C0A	sz      C
039D	2BB0	jmp     _L24
				;135			{
				;136				gu8v_KeyNoChangedTime = LUCC_KEY_DEBOUNCE;	
039E	0F05	mov     a, 5H
039F	40D3	mov     gu8v_KeyNoChangedTime[0], a
				;137				gu8v_KeyPress.U8 = gu8v_KeyOld;      			
03A0	4766	mov     a, gu8v_KeyOld[0]
03A1	40BC	mov     gu8v_KeyPress[0], a
				;138			    gu8v_KeyDown.U8 = gu8v_KeyPress.U8 & (gu8v_KeyPress.U8 ^ gu8v_KeyLast);
03A2	4764	mov     a, gu8v_KeyLast[0]
03A3	443C	xor     a, gu8v_KeyPress[0]
03A4	4080	mov     ra, a
03A5	4700	mov     a, ra
03A6	463C	and     a, gu8v_KeyPress[0]
03A7	40B9	mov     gu8v_KeyDown[0], a
				;139				gu8v_KeyUp.U8 |= gu8v_KeyLast&(~gu8v_KeyPress.U8);     	
03A8	413C	cpla    gu8v_KeyPress[0]
03A9	4080	mov     ra, a
03AA	4764	mov     a, gu8v_KeyLast[0]
03AB	4680	andm    a, ra
03AC	4700	mov     a, ra
03AD	45E5	orm     a, gu8v_KeyUp[0]
				;140			    gu8v_KeyLast = gu8v_KeyPress.U8;            	
03AE	473C	mov     a, gu8v_KeyPress[0]
03AF	40E4	mov     gu8v_KeyLast[0], a
				;141			}
				;142		}
				;143		fun_Key_dealwith();
				_L24:
03B0	2363	call    _fun_Key_dealwith
				_L15:
03B1	0003	ret
				;144	}
				;145	
				;146	
				;147	
				;148	
				;149	
				;150	
				;151	
				;152	
				;153	
				;file E:\SourceTree_Source\sw_ht67f5652_forehead_thermeter_sim\sw_ht67f5652_forehead_thermometer\User\Work_mode.c
				;1	
				;2	/*************************************************************************************/
				;3	//**	Copyright	:	2016 BY HOLTEK SEMICONDUCTOR INC                            **
				;4	//** 	File Name   :	Work_mode.c 	       	                                            **
				;5	//**	Description	: 																**
				;6	//**	MCU      	: 	HT67F5652													**
				;7	//**	Author   	: 	Leo															**
				;8	//**	Date     	: 	2016/10/28													**
				;9	//**	Version  	: 	V00															**
				;10	//**	History  	:																**
				;11	/*************************************************************************************/
				;12	
				;13	#include "..\User\CONFIG.h"
				;14	
				;15	volatile	U8	gu8v_work_mode;
				;16	volatile	U8	gu8v_time_count;
				;17	volatile	U8	gu8v_correction_mode;
				;18	volatile	U8	gu8v_obj_temp_mode;
				;19	
				;20	volatile	U8	gu8v_c_count;
				;21	volatile	U8	gu8v_c_times;
				;22	volatile	U16	gu16v_set_temperature;
				;23	volatile	U16	gu16v_set_temperature1;
				;24	
				;25	volatile	__16_type	gu16v_last_ntc;
				;26	volatile	__16_type	gu16v_last_vtp;
				;27	
				;28	
				;29	volatile	__16_type	gu16v_adc_res2_buff;
				;30	
				;31	volatile	__16_type	gu16v_temp_buff[4];
				;32	volatile    __16_type	gu16v_temp_last;
				;33	volatile    U8 			gu8v_temp_count;
				;34	volatile    U8 			gu8v_temp_count_m;
				;35	volatile    U8 			gu8v_temp_i;
				;36	volatile    U8 			gu8v_temp_test;
				;37	volatile    U16 		gu16v_temp_filter;
				;38	
				;39	
				;40	volatile	__16_type	gu16v_NTC_buff[6];
				;41	
				;42	volatile    __16_type	gu16_NTC_res;
				;43	volatile	U8 gu8_ntc_mode;
				;44	volatile    U8 gu8v_key_enable;
				;45	volatile    U8 gu8v_key_old;
				;46	volatile	U16	gu8v_5s_times;
				;47	volatile	U8 gu8v_display_mode_old;
				;48	
				;49	
				;50	
				;51	__byte_type	gu8v_dispaly_mode;
				;52	
				;53	#define	gbv_LCD_Boby		gu8v_dispaly_mode.bits.b0	
				;54	#define	gbv_LCD_Surface		gu8v_dispaly_mode.bits.b1	
				;55	#define	gbv_LCD_Room		gu8v_dispaly_mode.bits.b2	
				;56	
				;57	
				;58	
				;59	
				;60	
				;61	/********************************************************************
				;62	Function:	fun_Work_mode
				;63	INPUT	:
				;64	OUTPUT	:	
				;65	NOTE	:   
				;66	********************************************************************/
				;67	void fun_Work_mode(void)
				;68	{
				;69		switch(gu8v_work_mode)
				_fun_Work_mode:
				_fun_Work_mode:
078D	4744	mov     a, gu8v_work_mode[0]
078E	40B5	mov     _fun_Work_mode_2, a
078F	4735	mov     a, _fun_Work_mode_2
0790	0A00	sub     a, 0H
0791	3D0A	sz      Z
0792	2F9E	jmp     _L86
0793	0A01	sub     a, 1H
0794	3D0A	sz      Z
0795	6812	jmp     _L87
0796	4735	mov     a, _fun_Work_mode_2
0797	0A02	sub     a, 2H
0798	390A	snz     Z
0799	6838	jmp     _L84
				;70		{
				;71			case	0:
				;72		//	gbv_on_sys = 1;
				;73			if(gu8v_key_enable)	
				_L86:
079E	5E3F	snz     gu8v_key_enable[0]
079F	2FAE	jmp     _L89
				;74			{
				;75				if(gbv_on_sys)
07A0	78BA	snz     gu8v_Key_status[0].1
07A1	2FAE	jmp     _L89
				;76				{
				;77					gu8v_halt_time = 0;
07A2	5F46	clr     gu8v_halt_time[0]
				;78					gbv_on_sys = 0;
07A3	74BA	clr     gu8v_Key_status[0].1
				;79					gu8v_work_mode = MEMS_MODE;	
07A4	0F01	mov     a, 1H
07A5	40C4	mov     gu8v_work_mode[0], a
				;80					if(gu8v_dispaly_mode.U8== 0b10000000) gu8v_dispaly_mode.U8 = 0b00000010;
07A6	4738	mov     a, gu8v_dispaly_mode[0]
07A7	0A80	sub     a, 80H
07A8	390A	snz     Z
07A9	2FAC	jmp     _L90
07AA	0F02	mov     a, 2H
07AB	40B8	mov     gu8v_dispaly_mode[0], a
				;81					gu8v_obj_temp_mode = 0;
				_L90:
07AC	5F57	clr     gu8v_obj_temp_mode[0]
				;82					gu8_ntc_mode = 0;
07AD	5F47	clr     gu8_ntc_mode[0]
				;83				}
				;84			}
				;85			//  连续按五次按I M入校正模式		
				;86			//-------------------------------------------//
				;87			if(gbv_KeyDown_Switch)
				_L89:
07AE	78B9	snz     gu8v_KeyDown[0].1
07AF	2FB5	jmp     _L91
				;88			{
				;89				gbv_KeyDown_Switch = 0;
07B0	74B9	clr     gu8v_KeyDown[0].1
				;90				if(gu8v_c_times ==0)
07B1	50D5	sz      gu8v_c_times[0]
07B2	2FB4	jmp     _L92
				;91				{
				;92					gu8v_c_count = 0;
07B3	5F56	clr     gu8v_c_count[0]
				;93				}
				;94				gu8v_c_times ++;
				_L92:
07B4	54D5	inc     gu8v_c_times[0]
				;95			}	
				;96			gu8v_c_count ++;
				_L91:
07B5	54D6	inc     gu8v_c_count[0]
				;97			if(gu8v_c_count>=250)
07B6	0FF9	mov     a, F9H
07B7	4256	sub     a, gu8v_c_count[0]
07B8	3C0A	sz      C
07B9	2FC2	jmp     _L93
				;98			{
				;99				gu8v_c_count = 0;
07BA	5F56	clr     gu8v_c_count[0]
				;100				if(gu8v_c_times>=5)
07BB	0F04	mov     a, 4H
07BC	4255	sub     a, gu8v_c_times[0]
07BD	3C0A	sz      C
07BE	2FC1	jmp     _L94
				;101				{ 
				;102					gu8v_work_mode = CORRECTION_MODE;					
07BF	0F02	mov     a, 2H
07C0	40C4	mov     gu8v_work_mode[0], a
				;103				}
				;104				gu8v_c_times = 0;
				_L94:
07C1	5F55	clr     gu8v_c_times[0]
				;105			}
				;106			// 	切Q量y模式
				;107			//-------------------------------------------//
				;108			if(gbv_KeyDown_Room)
				_L93:
07C2	7939	snz     gu8v_KeyDown[0].2
07C3	2FC6	jmp     _L95
				;109			{
				;110				gu8v_dispaly_mode.U8 = 0b00000001;
07C4	0F01	mov     a, 1H
07C5	40B8	mov     gu8v_dispaly_mode[0], a
				;111			}
				;112			if(gbv_KeyDown_Surface	)
				_L95:
07C6	79B9	snz     gu8v_KeyDown[0].3
07C7	2FCA	jmp     _L96
				;113			{
				;114				gu8v_dispaly_mode.U8 = 0b00000010;
07C8	0F02	mov     a, 2H
07C9	40B8	mov     gu8v_dispaly_mode[0], a
				;115			}		
				;116			if(gbv_KeyDown_Body)
				_L96:
07CA	7A39	snz     gu8v_KeyDown[0].4
07CB	2FCE	jmp     _L97
				;117			{
				;118				gu8v_dispaly_mode.U8 = 0b00000100;
07CC	0F04	mov     a, 4H
07CD	40B8	mov     gu8v_dispaly_mode[0], a
				;119			}
				;120	//		if(gbv_key_beep_down)
				;121	//		{
				;122	//			gu8v_dispaly_mode.U8 = 0b00001000;
				;123	//		}	
				;124			if(gbv_KeyUp_Beep)
				_L97:
07CE	4765	mov     a, gu8v_KeyUp[0]
07CF	4080	mov     ra, a
				;125			{
				;126	//			gu8v_dispaly_mode.U8 = 0b00010000;
				;127			}	
				;128			// 	拘训某跏疾僮
				;129			//-------------------------------------------//
				;130			if(gu8v_key_enable)
07D0	5E3F	snz     gu8v_key_enable[0]
07D1	2FF7	jmp     _L98
				;131			{
				;132				fun_LCD_Display_Mode();
07D2	2586	call    _fun_LCD_Display_Mode
				;133				
				;134				
				;135				if((gu16v_current_temp.S16 == 0 ) || (gu8v_display_mode_old != gu8v_dispaly_mode.U8))
07D3	C714	lmov    a, gu16v_current_temp[0]
07D5	C515	lor     a, gu16v_current_temp[1]
07D7	3D0A	sz      Z
07D8	2FDD	jmp     _L99
07D9	4754	mov     a, gu8v_display_mode_old[0]
07DA	4238	sub     a, gu8v_dispaly_mode[0]
07DB	3D0A	sz      Z
07DC	2FEF	jmp     _L100
				;136				{
				;137					fun_LCD_NUM(1,LU8C_NUM3_ADDR,16);		
				_L99:
07DD	0F10	mov     a, 10H
07DE	4090	mov     lu8v_addr, a
07DF	0F0D	mov     a, DH
07E0	408F	mov     lu8v_data, a
07E1	0F01	mov     a, 1H
07E2	23EA	call    _fun_LCD_NUM
				;138					fun_LCD_NUM(1,LU8C_NUM2_ADDR,16);	
07E3	0F10	mov     a, 10H
07E4	4090	mov     lu8v_addr, a
07E5	0F20	mov     a, 20H
07E6	408F	mov     lu8v_data, a
07E7	0F01	mov     a, 1H
07E8	23EA	call    _fun_LCD_NUM
				;139					fun_LCD_NUM(1,LU8C_NUM1_ADDR,16);	
07E9	0F10	mov     a, 10H
07EA	4090	mov     lu8v_addr, a
07EB	0F23	mov     a, 23H
07EC	408F	mov     lu8v_data, a
07ED	0F01	mov     a, 1H
07EE	23EA	call    _fun_LCD_NUM
				;140				}
				;141				if(gu8v_display_mode_old != gu8v_dispaly_mode.U8)
				_L100:
07EF	4754	mov     a, gu8v_display_mode_old[0]
07F0	4238	sub     a, gu8v_dispaly_mode[0]
07F1	3D0A	sz      Z
07F2	2FF5	jmp     _L101
				;142				{
				;143					fun_Beep_init(mac_beep_1);
07F3	0F01	mov     a, 1H
07F4	6118	call    _fun_Beep_init
				;144				}
				;145			
				;146				gu8v_display_mode_old = gu8v_dispaly_mode.U8;
				_L101:
07F5	4738	mov     a, gu8v_dispaly_mode[0]
07F6	40D4	mov     gu8v_display_mode_old[0], a
				;147			}
				;148			
				;149			// 	1S窦一次ntc
				;150			//-------------------------------------------//	
				;151			if(gbv_1s)
				_L98:
07F7	7A36	snz     gu8v_time_flag[0].4
07F8	6807	jmp     _L103
				;152			{
				;153				if(fun_get_NTC())
07F9	25F2	call    _fun_get_NTC
07FA	4080	mov     ra, a
07FB	5E00	snz     ra
07FC	6807	jmp     _L103
				;154				{
				;155					gbv_1s = 0;
07FD	7636	clr     gu8v_time_flag[0].4
				;156					fun_RNTC_Calculate();
				L07FE:
07FE	617C	call    _fun_RNTC_Calculate
				;157					gu16_NTC_res.S16 = gu16v_adc_res.S16;
07FF	C706	lmov    a, gu16v_adc_res[0]
0801	40E8	mov     gu16_NTC_res[0], a
0802	C707	lmov    a, gu16v_adc_res[1]
0804	40E9	mov     gu16_NTC_res[1], a
				;158					gu8v_key_enable = 1;
0805	0F01	mov     a, 1H
0806	40BF	mov     gu8v_key_enable[0], a
				;159				
				;160				}
				;161			}
				;162			
				;163			if((gu8v_key_enable != gu8v_key_old) && (gu8v_key_enable == 1))
				_L103:
0807	473F	mov     a, gu8v_key_enable[0]
0808	4267	sub     a, gu8v_key_old[0]
0809	3D0A	sz      Z
080A	6838	jmp     _L84
080B	573F	sdza    gu8v_key_enable[0]
080C	6838	jmp     _L84
				;164			{
				;165				gu8v_key_old = gu8v_key_enable;
080D	473F	mov     a, gu8v_key_enable[0]
080E	40E7	mov     gu8v_key_old[0], a
				;166				fun_LCD_FULL(0);
080F	0F00	mov     a, 0H
0810	23B2	call    _fun_LCD_FULL
				L0811:
0811	6838	jmp     _L84
				;167		
				;168			}
				;169					
				;170			break;
				;171			
				;172			case	MEMS_MODE:
				;173	
				;174	
				;175			if(fun_get_VTP())
				_L87:
0812	261C	call    _fun_get_VTP
0813	4080	mov     ra, a
0814	5E00	snz     ra
0815	6826	jmp     _L105
				;176			{
				;177				fun_Vtp_Calculate();
0816	6173	call    _fun_Vtp_Calculate
				;178				
				;179				gu16v_adc_res.S16 = gu16_NTC_res.S16;
0817	4768	mov     a, gu16_NTC_res[0]
0818	C086	lmov    gu16v_adc_res[0], a
				L0819:
				org	0819h
0819	0000	nop
081A	4769	mov     a, gu16_NTC_res[1]
081B	C087	lmov    gu16v_adc_res[1], a
				L081C:
				org	081ch
081C	0000	nop
				;180				fun_Vsen_Calculate();
081D	61D2	call    _fun_Vsen_Calculate
				;181						
				;182				fun_Tobj_Calculate();
081E	65DF	call    _fun_Tobj_Calculate
				;183				fun_Temp_SurfaceToBody();	
081F	66C3	call    _fun_Temp_SurfaceToBody
				;184				fun_LCD_CLR_TEMP();
0820	24FB	call    _fun_LCD_CLR_TEMP
				;185				fun_LCD_SET_C();
0821	2016	call    _fun_LCD_SET_C
				;186				fun_LCD_Display_Data();	
0822	253D	call    _fun_LCD_Display_Data
				;187						
				;188				gu8v_work_mode = 0;
0823	5F44	clr     gu8v_work_mode[0]
				;189				gu8_ntc_mode = 0;
0824	5F47	clr     gu8_ntc_mode[0]
0825	6838	jmp     _L84
				;190			}
				;191			else
				;192			{
				;193			/*	if(gbv_500ms_reversal)
				;194				{
				;195				//	fun_LCD_FULL(0);	
				;196				//	fun_LCD_CLR_TEMP();		
				;197				}
				;198				else*/
				;199				{
				;200					fun_LCD_NUM(1,LU8C_NUM3_ADDR,16);		
				_L105:
0826	0F10	mov     a, 10H
0827	4090	mov     lu8v_addr, a
0828	0F0D	mov     a, DH
				L0829:
0829	408F	mov     lu8v_data, a
082A	0F01	mov     a, 1H
082B	23EA	call    _fun_LCD_NUM
				;201					fun_LCD_NUM(1,LU8C_NUM2_ADDR,16);	
082C	0F10	mov     a, 10H
082D	4090	mov     lu8v_addr, a
082E	0F20	mov     a, 20H
082F	408F	mov     lu8v_data, a
0830	0F01	mov     a, 1H
0831	23EA	call    _fun_LCD_NUM
				;202					fun_LCD_NUM(1,LU8C_NUM1_ADDR,16);
0832	0F10	mov     a, 10H
0833	4090	mov     lu8v_addr, a
0834	0F23	mov     a, 23H
0835	408F	mov     lu8v_data, a
0836	0F01	mov     a, 1H
0837	23EA	call    _fun_LCD_NUM
				_L84:
0838	0003	ret
				;203					
				;204				//	fun_LCD_DISPLAY_NUM(888);			
				;205				}
				;206				
				;207			}
				;208			
				;209		
				;210			break;		
				;211			case	CORRECTION_MODE:
				;212			
				;213			fun_CORRECTION_MODE_FUN();
079A	2662	call    _fun_CORRECTION_MODE_FUN
				;214			if(gbv_KeyDown_Switch)
079B	4739	mov     a, gu8v_KeyDown[0]
079C	4080	mov     ra, a
				;215			{
				;216				//退出校正模式
				;217			
				;218			}	
				;219			break;		
079D	6838	jmp     _L84
				;220			
				;221	//		case 3:
				;222	//		{
				;223	//			fun_LCD_SET_C();
				;224	//			gu8v_5s_times++;
				;225	//			if(gu8v_5s_times >= 500)
				;226	//			{
				;227	//				gu8v_5s_times = 0;
				;228	//				gu8v_work_mode = 0;
				;229	//				gu8v_Key_status.U8 = 0;
				;230	//				fun_Beep_init(mac_beep_1);
				;231	//			}
				;232	//		}
				;233	//		break;
				;234			default:	break;			
				;235			
				;236		}
				;237	}
				;238	void	fun_CORRECTION_MODE_FUN()
				;239	{
				;240		switch(gu8v_correction_mode)
				_fun_CORRECTION_MODE_FUN:
				_fun_CORRECTION_MODE_FUN:
0662	473B	mov     a, gu8v_correction_mode[0]
0663	40B4	mov     _fun_CORRECTION_MODE_FUN_2, a
0664	4734	mov     a, _fun_CORRECTION_MODE_FUN_2
0665	0A00	sub     a, 0H
0666	3D0A	sz      Z
0667	2ED4	jmp     _L27
0668	0A01	sub     a, 1H
0669	3D0A	sz      Z
066A	2EF9	jmp     _L28
066B	4734	mov     a, _fun_CORRECTION_MODE_FUN_2
066C	0A02	sub     a, 2H
066D	3D0A	sz      Z
066E	2F18	jmp     _L29
066F	0A01	sub     a, 1H
0670	3D0A	sz      Z
0671	2F38	jmp     _L30
0672	4734	mov     a, _fun_CORRECTION_MODE_FUN_2
0673	0A04	sub     a, 4H
0674	3D0A	sz      Z
0675	2F4B	jmp     _L31
0676	0A01	sub     a, 1H
0677	3D0A	sz      Z
0678	2F6C	jmp     _L32
0679	4734	mov     a, _fun_CORRECTION_MODE_FUN_2
067A	0A06	sub     a, 6H
067B	390A	snz     Z
067C	2F8C	jmp     _L25
				;241		{
				;242			case	0://M入囟y量
				;243			{
				;244				gu8v_temp_count = 0;
				_L27:
06D4	5F6D	clr     gu8v_temp_count[0]
				;245				fun_LCD_NUM(2,LU8C_NUM3_ADDR,11);	//@示Corr	
06D5	0F0B	mov     a, BH
06D6	4090	mov     lu8v_addr, a
06D7	0F0D	mov     a, DH
06D8	408F	mov     lu8v_data, a
06D9	0F02	mov     a, 2H
06DA	23EA	call    _fun_LCD_NUM
				;246				fun_LCD_NUM(2,LU8C_NUM2_ADDR,11);	
06DB	0F0B	mov     a, BH
06DC	4090	mov     lu8v_addr, a
06DD	0F20	mov     a, 20H
06DE	408F	mov     lu8v_data, a
06DF	0F02	mov     a, 2H
06E0	23EA	call    _fun_LCD_NUM
				;247				fun_LCD_NUM(2,LU8C_NUM1_ADDR,14);
06E1	0F0E	mov     a, EH
06E2	4090	mov     lu8v_addr, a
06E3	0F23	mov     a, 23H
06E4	408F	mov     lu8v_data, a
06E5	0F02	mov     a, 2H
06E6	23EA	call    _fun_LCD_NUM
				;248				fun_LCD_NUM(2,LU8C_NUM0_ADDR,17);				
06E7	0F11	mov     a, 11H
06E8	4090	mov     lu8v_addr, a
06E9	0F26	mov     a, 26H
06EA	408F	mov     lu8v_data, a
06EB	0F02	mov     a, 2H
06EC	23EA	call    _fun_LCD_NUM
				;249				if(gbv_on_sys)
06ED	78BA	snz     gu8v_Key_status[0].1
06EE	2EF2	jmp     _L34
				;250				{
				;251					gbv_on_sys = 0;			
06EF	74BA	clr     gu8v_Key_status[0].1
				;252					gu8v_correction_mode = 1;
06F0	0F01	mov     a, 1H
06F1	40BB	mov     gu8v_correction_mode[0], a
				;253				}
				;254				if(gbv_KeyDown_Switch)//退出校正
				_L34:
06F2	78B9	snz     gu8v_KeyDown[0].1
06F3	2F8C	jmp     _L25
				;255				{
				;256					gu8v_correction_mode = 0;	
06F4	5F3B	clr     gu8v_correction_mode[0]
				;257					gu8v_work_mode = 0;
06F5	5F44	clr     gu8v_work_mode[0]
				;258					fun_LCD_FULL(0);
06F6	0F00	mov     a, 0H
06F7	23B2	call    _fun_LCD_FULL
06F8	2F8C	jmp     _L25
				;259				}	
				;260				break;
				;261			}
				;262			case	1:
				;263			{
				;264				if(fun_get_VTP())//第一囟赛c的	
				_L28:
06F9	261C	call    _fun_get_VTP
06FA	4080	mov     ra, a
06FB	5E00	snz     ra
06FC	2F0E	jmp     _L36
				;265				{	
				;266					gu8v_correction_mode = 2;			
06FD	0F02	mov     a, 2H
06FE	40BB	mov     gu8v_correction_mode[0], a
				;267					fun_Vtp_Calculate();
06FF	6173	call    _fun_Vtp_Calculate
				;268					gu16v_vtp_buff.S16 = gu16v_vtp.S16;
0700	C70E	lmov    a, gu16v_vtp[0]
0702	C090	lmov    gu16v_vtp_buff[0], a
0704	C70F	lmov    a, gu16v_vtp[1]
0706	C091	lmov    gu16v_vtp_buff[1], a
				;269					gu16v_adc_res2_buff.S16 = gu16_NTC_res.S16;
0708	4768	mov     a, gu16_NTC_res[0]
0709	40EA	mov     gu16v_adc_res2_buff[0], a
070A	4769	mov     a, gu16_NTC_res[1]
070B	40EB	mov     gu16v_adc_res2_buff[1], a
				;270					fun_Beep_init(mac_beep_1);
070C	0F01	mov     a, 1H
070D	6118	call    _fun_Beep_init
				;271				}
				;272				fun_LCD_NUM(2,LU8C_NUM0_ADDR,18);
				_L36:
070E	0F12	mov     a, 12H
070F	4090	mov     lu8v_addr, a
0710	0F26	mov     a, 26H
0711	408F	mov     lu8v_data, a
0712	0F02	mov     a, 2H
0713	23EA	call    _fun_LCD_NUM
				;273				fun_LCD_DISPLAY_NUM(111);	
0714	0F6F	mov     a, 6FH
0715	4097	mov     lu8v_DISPLAUDATA, a
				L0716:
0716	5F18	clr     lu8v_DISPLAUDATA[1]
0717	2F20	jmp     _L83
				;274				if(gbv_KeyDown_Switch)//退出校正
				;275				{
				;276					gu8v_correction_mode = 0;	
				;277					gu8v_work_mode = 0;
				;278					fun_LCD_NUM(1,LU8C_NUM3_ADDR,16);		
				;279					fun_LCD_NUM(1,LU8C_NUM2_ADDR,16);	
				;280					fun_LCD_NUM(1,LU8C_NUM1_ADDR,16);	
				;281				}
				;282	
				;283				break;	
				;284			}	
				;285			case	2:
				;286			{
				;287				if(gbv_on_sys)
				_L29:
0718	78BA	snz     gu8v_Key_status[0].1
0719	2F1D	jmp     _L38
				;288				{
				;289					gbv_on_sys = 0;			
071A	74BA	clr     gu8v_Key_status[0].1
				;290					gu8v_correction_mode = 3;
071B	0F03	mov     a, 3H
071C	40BB	mov     gu8v_correction_mode[0], a
				;291				}		
				;292				fun_LCD_DISPLAY_NUM(222);
				_L38:
071D	0FDE	mov     a, DEH
071E	4097	mov     lu8v_DISPLAUDATA, a
071F	5F18	clr     lu8v_DISPLAUDATA[1]
				_L83:
0720	24A7	call    _fun_LCD_DISPLAY_NUM
				;293				
				;294				if(gbv_KeyDown_Switch)//退出校正
0721	78B9	snz     gu8v_KeyDown[0].1
0722	2F8C	jmp     _L25
				;295				{
				;296					gu8v_correction_mode = 0;	
0723	5F3B	clr     gu8v_correction_mode[0]
				;297					gu8v_work_mode = 0;
0724	5F44	clr     gu8v_work_mode[0]
				;298					fun_LCD_NUM(1,LU8C_NUM3_ADDR,16);		
0725	0F10	mov     a, 10H
0726	4090	mov     lu8v_addr, a
0727	0F0D	mov     a, DH
				L0728:
0728	408F	mov     lu8v_data, a
0729	0F01	mov     a, 1H
072A	23EA	call    _fun_LCD_NUM
				;299					fun_LCD_NUM(1,LU8C_NUM2_ADDR,16);	
072B	0F10	mov     a, 10H
072C	4090	mov     lu8v_addr, a
072D	0F20	mov     a, 20H
072E	408F	mov     lu8v_data, a
				L072F:
072F	0F01	mov     a, 1H
				L0730:
0730	23EA	call    _fun_LCD_NUM
				;300					fun_LCD_NUM(1,LU8C_NUM1_ADDR,16);	
0731	0F10	mov     a, 10H
0732	4090	mov     lu8v_addr, a
0733	0F23	mov     a, 23H
0734	408F	mov     lu8v_data, a
0735	0F01	mov     a, 1H
0736	23EA	call    _fun_LCD_NUM
0737	2F8C	jmp     _L25
				;301				}				
				;302				break;
				;303			}
				;304			case	3:
				;305			{
				;306				if(fun_get_VTP())
				_L30:
0738	261C	call    _fun_get_VTP
0739	4080	mov     ra, a
073A	5E00	snz     ra
073B	2F8C	jmp     _L25
				;307				{
				;308					//第二囟赛c的
				;309					gu8v_correction_mode ++;
073C	54BB	inc     gu8v_correction_mode[0]
				;310					fun_Vtp_Calculate(); //校正完算出前的校正
073D	6173	call    _fun_Vtp_Calculate
				;311					gu16v_vtp_buff2.S16 = gu16v_vtp.S16;	
073E	C70E	lmov    a, gu16v_vtp[0]
0740	C096	lmov    gu16v_vtp_buff2[0], a
0742	C70F	lmov    a, gu16v_vtp[1]
0744	C097	lmov    gu16v_vtp_buff2[1], a
				;312					gu16v_set_temperature = 370;
0746	0F72	mov     a, 72H
0747	40C2	mov     gu16v_set_temperature[0], a
0748	0F01	mov     a, 1H
0749	40C3	mov     gu16v_set_temperature[1], a
074A	2F8A	jmp     _L81
				;313					fun_Beep_init(mac_beep_1);
				;314				}
				;315			
				;316			
				;317			break;
				;318			}
				;319			case	4:
				;320			//input current temperature1 25-43
				;321			if(gbv_on_sys)
				_L31:
074B	78BA	snz     gu8v_Key_status[0].1
074C	2F4F	jmp     _L39
				;322			{
				;323				gbv_on_sys = 0;
074D	74BA	clr     gu8v_Key_status[0].1
074E	2F60	jmp     _L40
				;324	//			gu16v_set_temperature++;
				;325	//			if(gu16v_set_temperature>430)
				;326	//			{
				;327	//				gu16v_set_temperature = 250;				
				;328	//			}	
				;329			}
				;330			else
				;331			{
				;332				if(gbv_on_KeyPress)
				_L39:
074F	783C	snz     gu8v_KeyPress[0].0
0750	2F60	jmp     _L40
				;333				{
				;334					if(gbv_10ms)
0751	7836	snz     gu8v_time_flag[0].0
0752	2F60	jmp     _L40
				;335					{
				;336						gbv_10ms = 0;
0753	7436	clr     gu8v_time_flag[0].0
				;337						gu16v_set_temperature++;
0754	54C2	inc     gu16v_set_temperature[0]
0755	3D0A	sz      Z
0756	54C3	inc     gu16v_set_temperature[1]
				;338						if(gu16v_set_temperature>500)
0757	0FF4	mov     a, F4H
0758	4242	sub     a, gu16v_set_temperature[0]
0759	0F01	mov     a, 1H
075A	5243	sbc     a, gu16v_set_temperature[1]
075B	3C0A	sz      C
075C	2F60	jmp     _L40
				;339						{
				;340							gu16v_set_temperature = 100;
075D	0F64	mov     a, 64H
075E	40C2	mov     gu16v_set_temperature[0], a
075F	5F43	clr     gu16v_set_temperature[1]
				;341											
				;342						}						
				;343					}
				;344	
				;345				}			
				;346			}
				;347			if(gbv_KeyDown_Switch)
				_L40:
0760	78B9	snz     gu8v_KeyDown[0].1
0761	2F67	jmp     _L43
				;348			{
				;349				gu8v_correction_mode ++;	
0762	54BB	inc     gu8v_correction_mode[0]
				;350				gu16v_set_temperature1 = 270;
0763	0F0E	mov     a, EH
0764	40C0	mov     gu16v_set_temperature1[0], a
0765	0F01	mov     a, 1H
0766	40C1	mov     gu16v_set_temperature1[1], a
				;351			}
				;352			
				;353					
				;354			fun_LCD_DISPLAY_NUM(gu16v_set_temperature);	
				_L43:
0767	4742	mov     a, gu16v_set_temperature[0]
0768	4097	mov     lu8v_DISPLAUDATA, a
0769	4743	mov     a, gu16v_set_temperature[1]
076A	4098	mov     lu8v_DISPLAUDATA[1], a
076B	2F88	jmp     _L79
				;355					
				;356			
				;357			break;		
				;358			case	5:
				;359			if(gbv_on_sys)
				_L32:
076C	78BA	snz     gu8v_Key_status[0].1
076D	2F70	jmp     _L44
				;360			{
				;361				gbv_on_sys = 0;
076E	74BA	clr     gu8v_Key_status[0].1
076F	2F81	jmp     _L45
				;362	//			gu16v_set_temperature++;
				;363	//			if(gu16v_set_temperature>430)
				;364	//			{
				;365	//				gu16v_set_temperature = 250;				
				;366	//			}	
				;367			}
				;368			else
				;369			{
				;370				if(gbv_on_KeyPress)
				_L44:
0770	783C	snz     gu8v_KeyPress[0].0
0771	2F81	jmp     _L45
				;371				{
				;372					if(gbv_10ms)
0772	7836	snz     gu8v_time_flag[0].0
0773	2F81	jmp     _L45
				;373					{
				;374						gbv_10ms = 0;
0774	7436	clr     gu8v_time_flag[0].0
				;375						gu16v_set_temperature1++;
0775	54C0	inc     gu16v_set_temperature1[0]
0776	3D0A	sz      Z
0777	54C1	inc     gu16v_set_temperature1[1]
				;376						if(gu16v_set_temperature1>500)
0778	0FF4	mov     a, F4H
0779	4240	sub     a, gu16v_set_temperature1[0]
077A	0F01	mov     a, 1H
077B	5241	sbc     a, gu16v_set_temperature1[1]
077C	3C0A	sz      C
077D	2F81	jmp     _L45
				;377						{
				;378							gu16v_set_temperature1 = 100;				
077E	0F64	mov     a, 64H
077F	40C0	mov     gu16v_set_temperature1[0], a
0780	5F41	clr     gu16v_set_temperature1[1]
				;379						}
				;380					}
				;381				}
				;382			}
				;383			if(gbv_KeyDown_Switch)
				_L45:
0781	78B9	snz     gu8v_KeyDown[0].1
0782	2F84	jmp     _L48
				;384			{
				;385				gu8v_correction_mode ++;	
0783	54BB	inc     gu8v_correction_mode[0]
				;386			}
				;387			
				;388					
				;389			fun_LCD_DISPLAY_NUM(gu16v_set_temperature1);				
				_L48:
0784	4740	mov     a, gu16v_set_temperature1[0]
0785	4097	mov     lu8v_DISPLAUDATA, a
0786	4741	mov     a, gu16v_set_temperature1[1]
0787	4098	mov     lu8v_DISPLAUDATA[1], a
				_L79:
0788	24A7	call    _fun_LCD_DISPLAY_NUM
				;390						
				;391			break;			
0789	2F8C	jmp     _L25
				;392			case	6:
				;393	//			gu16v_vtp_buff.S16 = 3405;
				;394	//			gu16v_vtp.S16 = 1023;
				;395	//			gu16v_adc_res2.S16	= 8755;	
				;396	//			gu16v_adc_res2_buff.S16	= 8755;	
				;397				gu16v_tcf.S16 = 10000;	
067D	0F10	mov     a, 10H
067E	40CF	mov     gu16v_tcf[0], a
067F	0F27	mov     a, 27H
0680	40D0	mov     gu16v_tcf[1], a
				;398				fun_CORRECTION_Calculate(gu16v_set_temperature,gu16v_set_temperature1);			
0681	4742	mov     a, gu16v_set_temperature[0]
0682	40A6	mov     gs32v_Vol_temp1, a
0683	4743	mov     a, gu16v_set_temperature[1]
0684	40A7	mov     gs32v_Vol_temp1[1], a
0685	4740	mov     a, gu16v_set_temperature1[0]
0686	40A8	mov     lu16v_table_guide2, a
0687	4741	mov     a, gu16v_set_temperature1[1]
0688	40A9	mov     lu16v_table_guide2[1], a
0689	63B1	call    _fun_CORRECTION_Calculate
				;399				
				;400				fun_Vsen_Calculate();
068A	61D2	call    _fun_Vsen_Calculate
				;401				fun_TCF_Calculate();				
068B	65D3	call    _fun_TCF_Calculate
				;402				fun_CORRECTION_Calculate(gu16v_set_temperature,gu16v_set_temperature1);				
068C	4742	mov     a, gu16v_set_temperature[0]
068D	40A6	mov     gs32v_Vol_temp1, a
068E	4743	mov     a, gu16v_set_temperature[1]
068F	40A7	mov     gs32v_Vol_temp1[1], a
0690	4740	mov     a, gu16v_set_temperature1[0]
0691	40A8	mov     lu16v_table_guide2, a
0692	4741	mov     a, gu16v_set_temperature1[1]
0693	40A9	mov     lu16v_table_guide2[1], a
0694	63B1	call    _fun_CORRECTION_Calculate
				;403	
				;404		//		if(gu16v_correction_K2.U16>9000&&gu16v_correction_K2.U16<11000)
				;405				{
				;406	
				;407				//存入 eeprom 中
				;408				fun_EEprom_Write(0,0x55);			
0695	0F55	mov     a, 55H
0696	408F	mov     lu8v_data, a
0697	0F00	mov     a, 0H
0698	6700	call    _fun_EEprom_Write
				;409				fun_EEprom_Write(1,gu16v_correction_K1.byte.byte0);
0699	4749	mov     a, gu16v_correction_K1[0]
069A	408F	mov     lu8v_data, a
069B	0F01	mov     a, 1H
069C	6700	call    _fun_EEprom_Write
				;410				fun_EEprom_Write(2,gu16v_correction_K1.byte.byte1);
069D	474A	mov     a, gu16v_correction_K1[1]
069E	408F	mov     lu8v_data, a
069F	0F02	mov     a, 2H
06A0	6700	call    _fun_EEprom_Write
				;411				fun_EEprom_Write(3,gu16v_correction_K2.byte.byte0);
06A1	4751	mov     a, gu16v_correction_K2[0]
06A2	408F	mov     lu8v_data, a
06A3	0F03	mov     a, 3H
06A4	6700	call    _fun_EEprom_Write
				;412				fun_EEprom_Write(4,gu16v_correction_K2.byte.byte1);			//
06A5	4752	mov     a, gu16v_correction_K2[1]
06A6	408F	mov     lu8v_data, a
06A7	0F04	mov     a, 4H
06A8	6700	call    _fun_EEprom_Write
				;413				fun_EEprom_Write(5,gu16v_vtp_buff.byte.byte0);
06A9	C710	lmov    a, gu16v_vtp_buff[0]
06AB	408F	mov     lu8v_data, a
06AC	0F05	mov     a, 5H
06AD	6700	call    _fun_EEprom_Write
				;414				fun_EEprom_Write(6,gu16v_vtp_buff.byte.byte1);
06AE	C711	lmov    a, gu16v_vtp_buff[1]
06B0	408F	mov     lu8v_data, a
06B1	0F06	mov     a, 6H
06B2	6700	call    _fun_EEprom_Write
				;415				fun_EEprom_Write(7,gu16v_vtp.byte.byte0);
06B3	C70E	lmov    a, gu16v_vtp[0]
06B5	408F	mov     lu8v_data, a
06B6	0F07	mov     a, 7H
06B7	6700	call    _fun_EEprom_Write
				;416				fun_EEprom_Write(8,gu16v_vtp.byte.byte1);			//		
06B8	C70F	lmov    a, gu16v_vtp[1]
06BA	408F	mov     lu8v_data, a
06BB	0F08	mov     a, 8H
06BC	6700	call    _fun_EEprom_Write
				;417				fun_EEprom_Write(9,gu16v_adc_res.byte.byte0);
06BD	C706	lmov    a, gu16v_adc_res[0]
06BF	408F	mov     lu8v_data, a
06C0	0F09	mov     a, 9H
06C1	6700	call    _fun_EEprom_Write
				;418				fun_EEprom_Write(10,gu16v_adc_res.byte.byte1);			//	
06C2	C707	lmov    a, gu16v_adc_res[1]
06C4	408F	mov     lu8v_data, a
06C5	0F0A	mov     a, AH
06C6	6700	call    _fun_EEprom_Write
				;419				fun_EEprom_Write(11,gu16v_adc_res2_buff.byte.byte0);
06C7	476A	mov     a, gu16v_adc_res2_buff[0]
06C8	408F	mov     lu8v_data, a
06C9	0F0B	mov     a, BH
06CA	6700	call    _fun_EEprom_Write
				;420				fun_EEprom_Write(12,gu16v_adc_res2_buff.byte.byte1);			//	
06CB	476B	mov     a, gu16v_adc_res2_buff[1]
06CC	408F	mov     lu8v_data, a
06CD	0F0C	mov     a, CH
06CE	6700	call    _fun_EEprom_Write
				;421									
				;422				fun_LCD_FULL(0);
06CF	0F00	mov     a, 0H
06D0	23B2	call    _fun_LCD_FULL
				;423				gu8v_correction_mode = 0;	
06D1	5F3B	clr     gu8v_correction_mode[0]
				;424				gu8v_work_mode = 0;	
06D2	5F44	clr     gu8v_work_mode[0]
06D3	2F8A	jmp     _L81
				;425				fun_Beep_init(mac_beep_1);
				_L81:
078A	0F01	mov     a, 1H
078B	6118	call    _fun_Beep_init
				_L25:
078C	0003	ret
				;426				}
				;427			break;			
				;428			
				;429		}
				;430		
				;431	}
				;432	
				;433	
				;434	
				;435	
				;436	
				;437	U8 fun_get_NTC()
				;438	{
				;439		switch(gu8_ntc_mode)
				_fun_get_NTC:
				_fun_get_NTC:
05F2	4747	mov     a, gu8_ntc_mode[0]
05F3	408F	mov     lu8v_data, a
05F4	5E0F	snz     lu8v_data
05F5	2DF9	jmp     _L3
05F6	570F	sdza    lu8v_data
05F7	2E19	jmp     _L6
05F8	2DFC	jmp     _L9
				;440		{
				;441			case 0:
				;442			{	
				;443				fun_TEMP1_INIT();
				_L3:
05F9	6062	call    _fun_TEMP1_INIT
				;444				gu8_ntc_mode++;
05FA	54C7	inc     gu8_ntc_mode[0]
05FB	2E19	jmp     _L6
				;445				break;
				;446			}
				;447			case 1:
				;448			{
				;449				if(gbv_adc_success)
				_L9:
05FC	7A37	snz     gu8v_sys_status[0].4
05FD	2E19	jmp     _L6
				;450				{	
				;451					gu16v_adc_res.S16 = ~gu32v_adc_data.S32 +1;	
05FE	C700	lmov    a, gu32v_adc_data[0]
0600	4083	mov     rd, a
0601	C701	lmov    a, gu32v_adc_data[1]
0603	4084	mov     re, a
0604	C702	lmov    a, gu32v_adc_data[2]
0606	4085	mov     rf, a
0607	C703	lmov    a, gu32v_adc_data[3]
0609	4086	mov     rg, a
060A	0F00	mov     a, 0H
060B	4283	subm    a, rd
060C	0F00	mov     a, 0H
060D	5284	sbcm    a, re
060E	4703	mov     a, rd
060F	C086	lmov    gu16v_adc_res[0], a
				L0610:
				org	0610h
0610	0000	nop
0611	4704	mov     a, re
				L0612:
0612	C087	lmov    gu16v_adc_res[1], a
				;452					fun_ADC_Disable();
0614	6072	call    _fun_ADC_Disable
				;453					gu8_ntc_mode = 0;
0615	5F47	clr     gu8_ntc_mode[0]
				;454					
				;455					return	1;
0616	0F01	mov     a, 1H
0617	4080	mov     ra, a
0618	2E1A	jmp     _L2
				;456								
				;457				//	fun_TEMP2_INIT();
				;458				//	lu8_ntc_mode ++;	
				;459				}
				;460				break;
				;461			}
				;462		/*	case 2:
				;463			{
				;464				if(gbv_adc_success)
				;465				{	
				;466					gu16v_adc_res2.S16 = gu32v_adc_data.S32 ;			
				;467					fun_ADC_Disable();
				;468					
				;469					gu8_ntc_mode = 0;
				;470					gbv_1s = 0;
				;471					return	1;
				;472				//	gu8_ntc_mode ++;
				;473				}
				;474				break;
				;475			}*/
				;476			
				;477			default:break;
				;478		}	
				;479		return 0;
				_L6:
0619	5F00	clr     ra
				;480	}
				_L2:
061A	4700	mov     a, ra
061B	0003	ret
				;481	
				;482	S32 lu32v_adc_result1;
				;483	U8	fun_get_VTP()
				;484	{
				;485		
				;486		
				;487		switch(gu8v_obj_temp_mode)
				_fun_get_VTP:
				_fun_get_VTP:
061C	4757	mov     a, gu8v_obj_temp_mode[0]
061D	408F	mov     lu8v_data, a
061E	470F	mov     a, lu8v_data
061F	0A00	sub     a, 0H
0620	3D0A	sz      Z
0621	2E2A	jmp     _L12
0622	0A01	sub     a, 1H
0623	3D0A	sz      Z
0624	2E2E	jmp     _L13
0625	470F	mov     a, lu8v_data
				L0626:
0626	0A02	sub     a, 2H
0627	390A	snz     Z
0628	2E5F	jmp     _L16
0629	2E47	jmp     _L14
				;488		{
				;489			case	0:
				;490			{
				;491				fun_VTP_INIT();
				_L12:
062A	6052	call    _fun_VTP_INIT
				;492				//得到0c 短路VTP
				;493				mac_OPA_AN7_AN6();
062B	0F8F	mov     a, 8FH
062C	00FE	mov     DSOPC, a
				L062D:
062D	2E45	jmp     _L24
				;494				gu8v_obj_temp_mode ++;					
				;495				break;
				;496			}
				;497			case	1:
				;498			if(gbv_adc_success)
				_L13:
062E	7A37	snz     gu8v_sys_status[0].4
062F	2E47	jmp     _L14
				;499			{	
				;500				gu16v_adc_vtp.S16 = gu32v_adc_data.S32;	
0630	C700	lmov    a, gu32v_adc_data[0]
0632	4083	mov     rd, a
0633	C701	lmov    a, gu32v_adc_data[1]
0635	4084	mov     re, a
0636	C702	lmov    a, gu32v_adc_data[2]
0638	4085	mov     rf, a
0639	C703	lmov    a, gu32v_adc_data[3]
063B	4086	mov     rg, a
063C	4703	mov     a, rd
063D	C084	lmov    gu16v_adc_vtp[0], a
063F	4704	mov     a, re
0640	C085	lmov    gu16v_adc_vtp[1], a
				;501				mac_OPA_AN7_AN4();				
0642	0F8E	mov     a, 8EH
0643	00FE	mov     DSOPC, a
				;502				fun_VTP_INIT();
0644	6052	call    _fun_VTP_INIT
				;503				gu8v_obj_temp_mode ++;	
				_L24:
0645	54D7	inc     gu8v_obj_temp_mode[0]
0646	2E5F	jmp     _L16
				;504				break;	
				;505			}
				;506			case	2:
				;507			if(gbv_adc_success)
				_L14:
0647	7A37	snz     gu8v_sys_status[0].4
0648	2E5F	jmp     _L16
				;508			{
				;509				gu8v_obj_temp_mode = 0;	
0649	5F57	clr     gu8v_obj_temp_mode[0]
				;510				gu16v_adc_vtp.S16 = gu32v_adc_data.S32 - gu16v_adc_vtp.S16 ;
064A	C700	lmov    a, gu32v_adc_data[0]
064C	4083	mov     rd, a
064D	C701	lmov    a, gu32v_adc_data[1]
064F	4084	mov     re, a
0650	C702	lmov    a, gu32v_adc_data[2]
				L0651:
				org	0651h
0651	0000	nop
0652	4085	mov     rf, a
0653	C703	lmov    a, gu32v_adc_data[3]
0655	4086	mov     rg, a
0656	4703	mov     a, rd
0657	C284	lsubm   a, gu16v_adc_vtp[0]
0659	4704	mov     a, re
065A	D285	lsbcm   a, gu16v_adc_vtp[1]
				;511				return 1;
065C	0F01	mov     a, 1H
065D	4080	mov     ra, a
065E	2E60	jmp     _L11
				;512				
				;513				
				;514				gu16v_adc_buff[gu8v_temp_test] = gu16v_adc_vtp.S16;
				;515				gu8v_temp_test++;
				;516				if(gu8v_temp_test>=5)
				;517				{
				;518					gu8v_temp_test = 0;
				;519					U8 i,j;
				;520					U16 lu16_adc_max1;
				;521	
				;522					for(i=0;i<5;i++)
				;523					{
				;524						for(j=i;j<4;j++)
				;525						{
				;526							if(gu16v_adc_buff[i]>gu16v_adc_buff[j+1])
				;527							{
				;528								lu16_adc_max1=gu16v_adc_buff[i] ;
				;529								gu16v_adc_buff[i]=gu16v_adc_buff[j+1] ;
				;530								gu16v_adc_buff[j+1] = lu16_adc_max1;
				;531	
				;532							}
				;533						}
				;534					}
				;535	//				gu16v_adc_vtp.S16 = gu16v_adc_buff[2];
				;536		
				;537		
				;538				lu32v_adc_result1 = 0;
				;539				for(i=1;i<4;i++)
				;540				{
				;541					lu32v_adc_result1 += gu16v_adc_buff[i];
				;542				}
				;543				
				;544	
				;545	
				;546					gu16v_adc_vtp.S16 = lu32v_adc_result1/3;	
				;547					
				;548					
				;549	//			lu32v_adc_result1 = 0;
				;550	//			for(i=0;i<5;i++)
				;551	//			{
				;552	//				lu32v_adc_result1 += gu16v_adc_buff[i];
				;553	//			}
				;554	//			
				;555	//
				;556	//
				;557	//				gu16v_adc_vtp.S16 = lu32v_adc_result1/5;
				;558					return	1;		
				;559				}			
				;560	
				;561			}
				;562			break;	
				;563	
				;564			break;		
				;565			case	6:
				;566			
				;567			break;		
				;568		}
				;569		return	0;
				_L16:
065F	5F00	clr     ra
				;570	}
				_L11:
0660	4700	mov     a, ra
0661	0003	ret
				;file E:\SourceTree_Source\sw_ht67f5652_forehead_thermeter_sim\sw_ht67f5652_forehead_thermometer\User\ADC.c
				;1	/*************************************************************************************/
				;2	//**	Copyright	:	2016 BY HOLTEK SEMICONDUCTOR INC                            **
				;3	//** 	File Name   :	adc.c 	       	                                            **
				;4	//**	Description	: 																**
				;5	//**	MCU      	: 	HT67F5652													**
				;6	//**	Author   	: 	Leo														**
				;7	//**	Date     	: 	2016/10/28													**
				;8	//**	Version  	: 	V00															**
				;9	//**	History  	:																**
				;10	/*************************************************************************************/
				;11	
				;12	#include "..\User\Config.h"
				;13	
				;14	volatile	U8  gu8v_Sample_Count ;
				;15	volatile	U16	gu16v_adc_buff[11];	
				;16	
				;17	/********************************************************************
				;18	Function:	fun_ADC_Enable
				;19	INPUT	:
				;20	OUTPUT	:	
				;21	NOTE	:   
				;22	********************************************************************/
				;23	void fun_VTP_INIT()
				;24	{
				;25		mac_SET_PGA_x64();
				_fun_VTP_INIT:
				_fun_VTP_INIT:
0852	3151	set     PGS2
0853	30D1	set     PGS1
0854	3451	clr     PGS0
				;26		mac_SET_AGS_1();
0855	3651	clr     AGS1
0856	35D1	clr     AGS0
				;27		mac_SET_ADC_AN0_VCM();
0857	0F30	mov     a, 30H
0858	00D3	mov     PGACS, a
				;28		mac_SET_ADC_SPEED_20HZ();
0859	3630	clr     ADOR2
085A	31B0	set     ADOR1
085B	3530	clr     ADOR0
085C	37B1	clr     FLMS2
085D	3731	clr     FLMS1
085E	36B1	clr     FLMS0
				;29		fun_ADC_Power_Enable();
085F	6039	call    _fun_ADC_Power_Enable
				;30		fun_ADC_Enable();
0860	6047	call    _fun_ADC_Enable
0861	0003	ret
				;31	}
				;32	
				;33	/********************************************************************
				;34	Function:	fun_ADC_Enable
				;35	INPUT	:
				;36	OUTPUT	:	
				;37	NOTE	:   
				;38	********************************************************************/
				;39	void fun_TEMP1_INIT()
				;40	{
				;41		mac_SET_PGA_x1();
				_fun_TEMP1_INIT:
				_fun_TEMP1_INIT:
0862	3551	clr     PGS2
0863	34D1	clr     PGS1
0864	3451	clr     PGS0
				;42		mac_SET_AGS_1();
0865	3651	clr     AGS1
0866	35D1	clr     AGS0
				;43		mac_SET_ADC_AN2_VCM();
0867	0F31	mov     a, 31H
0868	00D3	mov     PGACS, a
				;44		mac_SET_ADC_SPEED_20HZ();
0869	3630	clr     ADOR2
086A	31B0	set     ADOR1
086B	3530	clr     ADOR0
086C	37B1	clr     FLMS2
086D	3731	clr     FLMS1
086E	36B1	clr     FLMS0
				;45		fun_ADC_Power_Enable();
086F	6039	call    _fun_ADC_Power_Enable
				;46		fun_ADC_Enable();	
0870	6047	call    _fun_ADC_Enable
0871	0003	ret
				;47	}
				;48	
				;49	/********************************************************************
				;50	Function:	fun_ADC_Enable
				;51	INPUT	:
				;52	OUTPUT	:	
				;53	NOTE	:   
				;54	********************************************************************/
				;55	void fun_TEMP2_INIT()
				;56	{
				;57		mac_SET_PGA_x1();
				;58		mac_SET_AGS_1();
				;59		mac_SET_ADC_AN1_VCM();
				;60		mac_SET_ADC_SPEED_20HZ();
				;61		fun_ADC_Power_Enable();
				;62		fun_ADC_Enable();	
				;63	}
				;64	
				;65	/********************************************************************
				;66	Function:	fun_ADC_Enable
				;67	INPUT	:
				;68	OUTPUT	:	
				;69	NOTE	:   
				;70	********************************************************************/
				;71	void fun_BAT_INIT()
				;72	{
				;73		mac_SET_PGA_x1();
				;74		mac_SET_AGS_1();
				;75	//	mac_SET_ADC_VCM_1_5VDD();
				;76		mac_SET_ADC_SPEED_160HZ();
				;77	}
				;78	
				;79	
				;80	/********************************************************************
				;81	Function:	fun_ADC_Enable
				;82	INPUT	:
				;83	OUTPUT	:
				;84	NOTE	:  	
				;85	********************************************************************/
				;86	void fun_ADC_Power_Enable()
				;87	{
				;88	
				;89		mac_SET_AVDD_2_4();  
				_fun_ADC_Power_Enable:
				_fun_ADC_Power_Enable:
0839	34D0	clr     LDOVS1
083A	3450	clr     LDOVS0
				;90		//以下翟卺崂m用中不化所以在此M行O置
				;91		mac_SET_VGS_0();
083B	3751	clr     VGS1
083C	36D1	clr     VGS0
				;92		mac_SET_AGS_1();
083D	3651	clr     AGS1
083E	35D1	clr     AGS0
				;93		mac_SET_VRBUFF_DIS();
083F	35B1	clr     VRBUFP
0840	3631	clr     VRBUFN
				;94		mac_SET_ADC_CLOCK_FSYS();
0841	0F1F	mov     a, 1FH
0842	00B2	mov     ADCS, a
				;95		_ldoen = 1;
0843	33D0	set     LDOEN
0844	0003	ret
				;96	
				;97	}
				;98	
				;99	/********************************************************************
				;100	Function:	fun_ADC_Enable
				;101	INPUT	:
				;102	OUTPUT	:	
				;103	NOTE	:   
				;104	********************************************************************/
				;105	void fun_ADC_Power_Disable()
				;106	{
				;107		_ldoen = 0;
				_fun_ADC_Power_Disable:
				_fun_ADC_Power_Disable:
0845	37D0	clr     LDOEN
0846	0003	ret
				;108	}
				;109	
				;110	
				;111	
				;112	/********************************************************************
				;113	Function:	fun_ADC_Enable
				;114	INPUT	:
				;115	OUTPUT	:	
				;116	NOTE	:   
				;117	********************************************************************/
				;118	void fun_ADC_Enable()
				;119	{
				;120		gu8v_Sample_Count = 0;
				_fun_ADC_Enable:
				_fun_ADC_Enable:
0847	5F48	clr     gu8v_Sample_Count[0]
				;121		gbv_adc_Sample_Mode = 0;
0848	7537	clr     gu8v_sys_status[0].2
				;122		gbv_adc_Sample_lock = 0;
0849	75B7	clr     gu8v_sys_status[0].3
				;123		gbv_adc_success = 0;	
084A	7637	clr     gu8v_sys_status[0].4
				;124		_adoff=0;
084B	36B0	clr     ADOFF
				;125		_adslp=0;
084C	3730	clr     ADSLP
				;126		_adrst=0;
084D	37B0	clr     ADRST
				;127		_adrst=1;
084E	33B0	set     ADRST
				;128		_adrst=0;
084F	37B0	clr     ADRST
				;129		_eoc=0;
0850	34B1	clr     EOC
0851	0003	ret
				;130	
				;131	}
				;132	
				;133	/********************************************************************
				;134	Function:	fun_ADC_Disable
				;135	INPUT	:
				;136	OUTPUT	:	
				;137	NOTE	:   
				;138	********************************************************************/
				;139	void fun_ADC_Disable()
				;140	{
				;141		gu8v_Sample_Count = 0;
				_fun_ADC_Disable:
				_fun_ADC_Disable:
0872	5F48	clr     gu8v_Sample_Count[0]
				;142		gbv_adc_Sample_Mode = 0;
0873	7537	clr     gu8v_sys_status[0].2
				;143		_adslp=1;
0874	3330	set     ADSLP
				;144		_adrst=0;
0875	37B0	clr     ADRST
				;145		_adoff=1;
0876	32B0	set     ADOFF
0877	0003	ret
				;146	//	fun_ADC_Power_Disable();	// Demo使用的LCD是2.2V的LCD
				;147									// 所以在工作的B不能P]AVDD
				;148	}
				;149	
				;150	/********************************************************************
				;151	Function:	fun_ADC_Polling
				;152	INPUT	:
				;153	OUTPUT	:	
				;154	NOTE	:   @取六P，除去最大最小值求平均
				;155	********************************************************************/
				;156	void fun_filter_adc()
				;157	{	
				;158		volatile U8 i;
				;159		volatile U32 lu32v_adc_result = 0;
				;160		volatile U16 lu16_adc_max;
				;161		volatile U16 lu16_adc_min;
				;162		
				;163		lu16_adc_max = gu16v_adc_buff[0];
				;164		lu16_adc_min = gu16v_adc_buff[0];
				;165		
				;166		for(i=0;i<6;i++)
				;167		{
				;168			lu32v_adc_result += gu16v_adc_buff[i];
				;169			lu16_adc_max = (lu16_adc_max > gu16v_adc_buff[i]) ?  lu16_adc_max : gu16v_adc_buff[i] ; 
				;170			lu16_adc_min = (lu16_adc_min < gu16v_adc_buff[i]) ?  lu16_adc_min : gu16v_adc_buff[i] ; 
				;171		}
				;172			
				;173		gu32v_adc_data.S32 = (U16)((lu32v_adc_result - lu16_adc_min - lu16_adc_max) >> 2);
				;174	}
				;175	
				;176	/********************************************************************
				;177	Function:	fun_filter_adc1
				;178	INPUT	:
				;179	OUTPUT	:	
				;180	NOTE	:   @取中g值
				;181	********************************************************************/
				;182	
				;183	void fun_filter_adc1()
				;184	{	
				;185		volatile U8 i,j;
				;186		volatile U16 lu16_adc_max;	
				;187		lu16_adc_max = gu16v_adc_buff[0];
				;188		
				;189		for(i=0;i<12;i++)
				;190		{
				;191			for(j=i;j<11;j++)
				;192			{
				;193				if(gu16v_adc_buff[i]>gu16v_adc_buff[j+1])
				;194				{
				;195					lu16_adc_max=gu16v_adc_buff[i] ;
				;196					gu16v_adc_buff[i]=gu16v_adc_buff[j+1] ;
				;197					gu16v_adc_buff[j+1] = lu16_adc_max;
				;198					
				;199				}
				;200			}
				;201		}
				;202				
				;203		gu32v_adc_data.S32 = gu16v_adc_buff[5];
				;204	}
				;205	
				;206	
				;207	/********************************************************************
				;208	Function:	fun_ADC_Polling
				;209	INPUT	:
				;210	OUTPUT	:	
				;211	NOTE	:   
				;212	********************************************************************/
				;213	void fun_ADC_Polling()
				;214	{
				;215	
				;216		if(_eoc!=0)
				_fun_ADC_Polling:
				_fun_ADC_Polling:
0878	38B1	snz     EOC
0879	68B4	jmp     _L26
				;217		{
				;218			//i存
				;219			_adcdl=1;
087A	3131	set     ADCDL
				;220			//DQ32bit 的有符
				;221			gu32v_adc_data.U32 = 0;
087B	DF00	lclr    gu32v_adc_data[0]
087D	DF01	lclr    gu32v_adc_data[1]
087F	DF02	lclr    gu32v_adc_data[2]
0881	DF03	lclr    gu32v_adc_data[3]
				;222			gu32v_adc_data.byte.byte0	= _adrl;
0883	072E	mov     a, ADRL
0884	C080	lmov    gu32v_adc_data[0], a
				;223			gu32v_adc_data.byte.byte1	= _adrm;				
0886	0733	mov     a, ADRM
0887	C081	lmov    gu32v_adc_data[1], a
				;224			gu32v_adc_data.byte.byte2	= _adrh;
0889	072F	mov     a, ADRH
088A	C082	lmov    gu32v_adc_data[2], a
				;225			if(gu32v_adc_data.bits.b23)
088C	FB82	lsnz    [0282H].7
088E	6891	jmp     _L29
				;226			{
				;227				gu32v_adc_data.byte.byte3 = 0xff;
088F	DF83	lset    gu32v_adc_data[3]
				;228			}
				;229	
				;230			#if(mac_Test_Mode==mac_Test_On)
				;231			// y模式 
				;232			#else
				;233			// 取 24bit adc 中的 16bit 作橛行
				;234			gu32v_adc_data.S32 >>= 8;
				_L29:
0891	C701	lmov    a, gu32v_adc_data[1]
0893	C080	lmov    gu32v_adc_data[0], a
0895	C702	lmov    a, gu32v_adc_data[2]
0897	C081	lmov    gu32v_adc_data[1], a
0899	C703	lmov    a, gu32v_adc_data[3]
089B	C082	lmov    gu32v_adc_data[2], a
089D	DF03	lclr    gu32v_adc_data[3]
089F	FF82	lsz     [0282H].7
08A1	DF83	lset    gu32v_adc_data[3]
				;235			#endif
				;236			_adcdl=0;
08A3	3531	clr     ADCDL
				;237			_eoc =0;
08A4	34B1	clr     EOC
				;238			
				;239			//佑
				;240			gu8v_Sample_Count++;
08A5	54C8	inc     gu8v_Sample_Count[0]
				;241			if(gbv_adc_Sample_Mode==0)
08A6	7D37	sz      gu8v_sys_status[0].2
08A7	68AF	jmp     _L30
				;242			{
				;243				//G前三P
				;244				if(gu8v_Sample_Count>3)
08A8	0F03	mov     a, 3H
08A9	4248	sub     a, gu8v_Sample_Count[0]
08AA	3C0A	sz      C
08AB	68B4	jmp     _L26
				;245				{
				;246					gu8v_Sample_Count=0;
08AC	5F48	clr     gu8v_Sample_Count[0]
				;247					gbv_adc_Sample_Mode = 1;
08AD	7137	set     gu8v_sys_status[0].2
08AE	68B4	jmp     _L26
				;248	
				;249				}
				;250			}
				;251			else if(gbv_adc_Sample_Mode==1)
				_L30:
08AF	7937	snz     gu8v_sys_status[0].2
08B0	68B4	jmp     _L26
				;252			{	
				;253				
				;254			/*	#if(mac_Test_Mode)
				;255	
				;256				array_uart_txbuff[0] = 0x55;
				;257				array_uart_txbuff[1] = 0x01;
				;258				array_uart_txbuff[2] = 0x09;
				;259				array_uart_txbuff[3] = 0x02;
				;260				array_uart_txbuff[4] = gu32v_adc_data.byte.byte0;
				;261				array_uart_txbuff[5] = gu32v_adc_data.byte.byte1;
				;262				array_uart_txbuff[6] = gu32v_adc_data.byte.byte2;
				;263				array_uart_txbuff[7] = 0X55+0X01+0X09+0X02+0XAA+gu32v_adc_data.byte.byte0+ \
				;264										gu32v_adc_data.byte.byte1+gu32v_adc_data.byte.byte2;
				;265				array_uart_txbuff[8] = 0XAA;
				;266				gu8v_tx_guide=0;
				;267				_txrrxr = array_uart_txbuff[0];
				;268	
				;269				#endif*/
				;270	
				;271				gbv_adc_success	= 1;
08B1	7237	set     gu8v_sys_status[0].4
				;272				gu8v_Sample_Count = 0;
08B2	5F48	clr     gu8v_Sample_Count[0]
				;273				gbv_adc_Sample_Mode = 0;
08B3	7537	clr     gu8v_sys_status[0].2
				_L26:
08B4	0003	ret
				;274					
				;275			}	 
				;276		}		
				;277	}
				;278	
				;279	/********************************************************************
				;280	Function:	fun_ADC_NTC_Test
				;281	INPUT	:
				;282	OUTPUT	:	
				;283	NOTE	:   
				;284	********************************************************************/
				;285	void fun_ADC_NTC_Test()
				;286	{
				;287		fun_TEMP1_INIT();
				;288		while(1)
				;289		{
				;290			GCC_CLRWDT();//清除看T狗	
				;291			fun_ADC_Polling();
				;292			
				;293		}
				;294	
				;295	}
				;296	
				;297	/********************************************************************
				;298	Function:	fun_ADC_OP_Test
				;299	INPUT	:
				;300	OUTPUT	:	
				;301	NOTE	:   
				;302	********************************************************************/
				;303	void fun_ADC_OP_Test()
				;304	{
				;305		fun_VTP_INIT();
				;306	//	mac_OPA_AN7_AN6();
				;307		mac_OPA_AN7_AN4();
				;308		while(1)
				;309		{
				;310			GCC_CLRWDT();//清除看T狗	
				;311			fun_ADC_Polling();
				;312			
				;313		}
				;314	
				;315	}
				;316	
				;file E:\SourceTree_Source\sw_ht67f5652_forehead_thermeter_sim\sw_ht67f5652_forehead_thermometer\User\Beep.c
				;1	
				;2	/*************************************************************************************/
				;3	//**	Copyright	:	2016 BY HOLTEK SEMICONDUCTOR INC                            **
				;4	//** 	File Name   :	Beep.c 	       	                                            **
				;5	//**	Description	: 																**
				;6	//**	MCU      	: 	HT67F5652													**
				;7	//**	Author   	: 	Leo															**
				;8	//**	Date     	: 	2016/10/28													**
				;9	//**	Version  	: 	V00															**
				;10	//**	History  	:	蜂鸣器使用2K方波驱动										**
				;11	/*************************************************************************************/
				;12	
				;13	#include "..\User\CONFIG.h"
				;14	
				;15	U8	gu8v_Beep_mode_times;
				;16	U8	gu8v_Beep_mode;
				;17	
				;18	
				;19	/********************************************************************
				;20	Function:	fun_Beep_init
				;21	INPUT	:
				;22	OUTPUT	:	
				;23	NOTE	:   
				;24	********************************************************************/
				;25	void fun_Beep_init(U8	lu8c_beep_mode)
				;26	{
				_fun_Beep_init:
				_fun_Beep_init:
0918	4080	mov     ra, a
0919	408F	mov     lu8c_beep_mode[0], a
				;27		gu8v_Beep_mode = lu8c_beep_mode;
091A	4700	mov     a, ra
091B	40CE	mov     gu8v_Beep_mode[0], a
				;28		mac_Beep_Low();
091C	36A0	clr     PC5
				;29		gbv_beep_on = 1;
091D	70B7	set     gu8v_sys_status[0].1
091E	0003	ret
				;30	}
				;31	
				;32	
				;33	/********************************************************************
				;34	Function:	Beep_mode
				;35	INPUT	:
				;36	OUTPUT	:	
				;37	NOTE	:   
				;38	********************************************************************/
				;39	void fun_Beep_work_mode(void)
				;40	{
				;41		switch(gu8v_Beep_mode)
				_fun_Beep_work_mode:
				_fun_Beep_work_mode:
091F	474E	mov     a, gu8v_Beep_mode[0]
0920	0A00	sub     a, 0H
				L0921:
0921	3D0A	sz      Z
0922	692F	jmp     _L4
0923	0A01	sub     a, 1H
0924	3D0A	sz      Z
0925	6943	jmp     _L5
0926	474E	mov     a, gu8v_Beep_mode[0]
0927	0A02	sub     a, 2H
0928	3D0A	sz      Z
0929	6932	jmp     _L6
092A	474E	mov     a, gu8v_Beep_mode[0]
092B	0A03	sub     a, 3H
092C	390A	snz     Z
092D	6972	jmp     _L2
092E	694C	jmp     _L23
				;42		{
				;43			case	0:
				;44				gbv_beep_on = 0;
				_L4:
092F	74B7	clr     gu8v_sys_status[0].1
				;45				gu8v_Beep_mode_times = 0;
0930	5F45	clr     gu8v_Beep_mode_times[0]
				;46			break;
0931	6972	jmp     _L2
				;47					
				;48			case	mac_beep_1_1:
				;49					gu8v_Beep_mode_times++;
				_L6:
0932	5445	inca    gu8v_Beep_mode_times[0]
0933	408F	mov     lu8v_data, a
0934	470F	mov     a, lu8v_data
0935	40C5	mov     gu8v_Beep_mode_times[0], a
				;50					if(gu8v_Beep_mode_times<20)	
0936	0F13	mov     a, 13H
0937	420F	sub     a, lu8v_data
0938	3C0A	sz      C
0939	696E	jmp     _L21
				;51					{
				;52						gbv_beep_on = 1;
				;53					}	
				;54					else if(gu8v_Beep_mode_times<40)
093A	0F27	mov     a, 27H
093B	420F	sub     a, lu8v_data
093C	3C0A	sz      C
093D	6968	jmp     _L20
				;55					{
				;56						gbv_beep_on = 0;
				;57					}	
				;58					else if(gu8v_Beep_mode_times<60)	
093E	0F3B	mov     a, 3BH
093F	420F	sub     a, lu8v_data
0940	380A	snz     C
0941	6970	jmp     _L18
0942	696E	jmp     _L21
				;59					{
				;60						gbv_beep_on = 1;
				;61					}
				;62					else
				;63					{
				;64						gbv_beep_on = 0;
				;65						gu8v_Beep_mode = 0;
				;66					}
				;67			break;
				;68			case	mac_beep_1:
				;69					gu8v_Beep_mode_times++;		
				_L5:
0943	5445	inca    gu8v_Beep_mode_times[0]
0944	4080	mov     ra, a
0945	4700	mov     a, ra
0946	40C5	mov     gu8v_Beep_mode_times[0], a
				;70					if(gu8v_Beep_mode_times<30)
0947	0F1D	mov     a, 1DH
0948	4200	sub     a, ra
0949	380A	snz     C
094A	6970	jmp     _L18
094B	696E	jmp     _L21
				;71					{
				;72						gbv_beep_on = 1;
				;73					}	
				;74					else
				;75					{
				;76						gbv_beep_on = 0;
				;77						gu8v_Beep_mode = 0;
				;78					}		
				;79			break;		
				;80			
				;81			case	mac_beep_1_1_1_1:
				;82					gu8v_Beep_mode_times++;	
				_L23:
094C	5445	inca    gu8v_Beep_mode_times[0]
094D	408F	mov     lu8v_data, a
094E	470F	mov     a, lu8v_data
094F	40C5	mov     gu8v_Beep_mode_times[0], a
				;83					if(gu8v_Beep_mode_times<20)
0950	0F13	mov     a, 13H
0951	420F	sub     a, lu8v_data
0952	3C0A	sz      C
0953	696E	jmp     _L21
				;84					{
				;85						gbv_beep_on = 1;
				;86					}	
				;87					else if(gu8v_Beep_mode_times<40)
0954	0F27	mov     a, 27H
0955	420F	sub     a, lu8v_data
0956	3C0A	sz      C
0957	6968	jmp     _L20
				;88					{
				;89						gbv_beep_on = 0;
				;90					}	
				;91					else if(gu8v_Beep_mode_times<60)	
0958	0F3B	mov     a, 3BH
0959	420F	sub     a, lu8v_data
095A	3C0A	sz      C
095B	696E	jmp     _L21
				;92					{
				;93						gbv_beep_on = 1;
				;94					}
				;95					else if(gu8v_Beep_mode_times<80)
095C	0F4F	mov     a, 4FH
095D	420F	sub     a, lu8v_data
095E	3C0A	sz      C
095F	6968	jmp     _L20
				;96					{
				;97						gbv_beep_on = 0;
				;98					}	
				;99					else if(gu8v_Beep_mode_times<100)	
0960	0F63	mov     a, 63H
0961	420F	sub     a, lu8v_data
0962	3C0A	sz      C
0963	696E	jmp     _L21
				;100					{
				;101						gbv_beep_on = 1;
				;102					}				
				;103					else if(gu8v_Beep_mode_times<120)
0964	0F77	mov     a, 77H
0965	420F	sub     a, lu8v_data
0966	380A	snz     C
0967	696A	jmp     _L17
				;104					{
				;105						gbv_beep_on = 0;
				_L20:
0968	74B7	clr     gu8v_sys_status[0].1
0969	6972	jmp     _L2
				;106					}	
				;107					else if(gu8v_Beep_mode_times<140)	
				_L17:
096A	0F8B	mov     a, 8BH
096B	420F	sub     a, lu8v_data
096C	380A	snz     C
096D	6970	jmp     _L18
				;108					{
				;109						gbv_beep_on = 1;
				_L21:
096E	70B7	set     gu8v_sys_status[0].1
096F	6972	jmp     _L2
				;110					}				
				;111					else
				;112					{
				;113						gbv_beep_on = 0;
				_L18:
0970	74B7	clr     gu8v_sys_status[0].1
				;114						gu8v_Beep_mode = 0;
0971	5F4E	clr     gu8v_Beep_mode[0]
				_L2:
0972	0003	ret
				;115					}		
				;116			break;			
				;117			
				;118		}
				;119	}
				;file E:\SourceTree_Source\sw_ht67f5652_forehead_thermeter_sim\sw_ht67f5652_forehead_thermometer\User\EEPROM.c
				;1	
				;2	/*************************************************************************************/
				;3	//**	Copyright	:	2016 BY HOLTEK SEMICONDUCTOR INC                            **
				;4	//** 	File Name   :	eeprom.c 	       	                                    **
				;5	//**	Description	: 																**
				;6	//**	MCU      	: 	HT67F5652													**
				;7	//**	Author   	: 	Leo													    	**
				;8	//**	Date     	: 	2016/10/28													**
				;9	//**	Version  	: 	V00															**
				;10	//**	History  	:																**
				;11	/*************************************************************************************/
				;12	
				;13	#include "..\User\CONFIG.h"
				;14	
				;15	/********************************************************************
				;16	Function:	fun_EEprom_Read
				;17	INPUT	:	
				;18	OUTPUT	:	
				;19	NOTE	:
				;20	*******************************************************************/
				;21	u8 fun_EEprom_Read(u8 lu8v_addr)
				;22	{
				_fun_EEprom_Read:
				_fun_EEprom_Read:
0EEF	4080	mov     ra, a
0EF0	408F	mov     lu8v_addr[0], a
				;23		u8 lu8v_eeprom_byte;
				;24			
				;25		_eea = lu8v_addr;
0EF1	4700	mov     a, ra
0EF2	00C1	mov     EEA, a
				;26	
				;27	
				;28		#if(mac_eeprom_type == mac_eeprom_Short)
				;29	
				;30		_bp     = 1;
				;31		_mp1    = 0x40;
				;32		_iar1  |= 0x02;
				;33		_iar1  |= 0x01;
				;34			
				;35		while(_iar1 & 0x01);
				;36		lu8v_eeprom_byte = _eed;		
				;37		_iar1  &= 0xfd;  
				;38		
				;39		#endif
				;40	//============================================================	
				;41		#if(mac_eeprom_type == mac_eeprom_Long)
				;42	
				;43		_mp1l = 0x40;
0EF3	0F40	mov     a, 40H
0EF4	0083	mov     MP1L, a
				;44		_mp1h = 1;
0EF5	0F01	mov     a, 1H
0EF6	0084	mov     MP1H, a
				;45		_iar1 |=0x2;				//enable RDEN
0EF7	3082	set     __iar1[0].1
				;46		_iar1 |=0x1;				//active READ 
0EF8	3002	set     __iar1[0].0
				;47		while(_iar1 & 0x01);		//wait read end
				L0EF9:
0EF9	3C02	sz      __iar1[0].0
0EFA	6EF9	jmp     L0EF9
				;48		lu8v_eeprom_byte = _eed;
0EFB	0742	mov     a, EED
0EFC	4080	mov     ra, a
				;49		_iar1 &=	0xfD;				//disable RDEN	
0EFD	3482	clr     __iar1[0].1
				;50	
				;51		#endif
				;52	
				;53		return lu8v_eeprom_byte;	
				;54	
				;55	}
0EFE	4700	mov     a, ra
0EFF	0003	ret
				;56	 
				;57	/********************************************************************
				;58	Function:	fun_EEprom_Write
				;59	INPUT	:	
				;60	OUTPUT	:	
				;61	NOTE	:
				;62	*******************************************************************/
				;63	void fun_EEprom_Write(u8 lu8v_addr, u8 lu8v_data)
				;64	{
				_fun_EEprom_Write:
				_fun_EEprom_Write:
0F00	4080	mov     ra, a
0F01	4090	mov     lu8v_addr[0], a
				;65	
				;66		_eea = lu8v_addr;
0F02	4700	mov     a, ra
0F03	00C1	mov     EEA, a
				;67		_eed = lu8v_data;
0F04	470F	mov     a, lu8v_data[0]
				L0F05:
0F05	00C2	mov     EED, a
				;68	
				;69		#if(mac_eeprom_type == mac_eeprom_Short)
				;70	
				;71		_bp     = 1;
				;72		_mp1    = 0x40;
				;73		_iar1  |= 0x08;
				;74		_iar1  |= 0x04;
				;75		while(_iar1 & 0x04);
				;76		_iar1	&=	0xf7;				//disable WREN	
				;77		_bp     = 0;	
				;78	
				;79		#endif	
				;80	//============================================================	
				;81		#if(mac_eeprom_type == mac_eeprom_Long)
				;82	
				;83		_mp1l = 0x40;
				L0F06:
0F06	0F40	mov     a, 40H
0F07	0083	mov     MP1L, a
				;84		_mp1h = 1;
0F08	0F01	mov     a, 1H
0F09	0084	mov     MP1H, a
				;85		_iar1	|=	0x8;				//enable WREN
0F0A	3182	set     __iar1[0].3
				;86		_iar1	|=	0x4;				//active write 
0F0B	3102	set     __iar1[0].2
				;87		while(_iar1 & 0x04);		//wait write end
				L0F0C:
0F0C	3D02	sz      __iar1[0].2
0F0D	6F0C	jmp     L0F0C
				;88		_iar1	&=	0xf7;				//disable WREN	
0F0E	3582	clr     __iar1[0].3
0F0F	0003	ret
				;89	
				;90		#endif
				;91	}
				;92	
				;93	
				;94	
				;95	
				;96	///********************************************************************
				;97	//Function:	fun_EEprom_Keep_R
				;98	//INPUT	:	
				;99	//OUTPUT	:	
				;100	//NOTE	:
				;101	//*******************************************************************/
				;102	//void fun_EEprom_Keep_R()
				;103	//{
				;104	//	U8 i;
				;105	//	for(i=0;i<mac_EEprom_Keep_NUM;i++)
				;106	//	{
				;107	//		gu16v_EEprom_Keep_Buff[i].byte.byte0	=	fun_EEprom_Read(mac_EEprom_Keep_StartAdd+(i<<1));
				;108	//		gu16v_EEprom_Keep_Buff[i].byte.byte1	=	fun_EEprom_Read(mac_EEprom_Keep_StartAdd+(i<<1)+1);
				;109	//	}
				;110	//	
				;111	//}
				;112	///********************************************************************
				;113	//Function:	fun_EEprom_Keep_W
				;114	//INPUT	:	
				;115	//OUTPUT	:	
				;116	//NOTE	:
				;117	//*******************************************************************/
				;118	//void fun_EEprom_Keep_W()
				;119	//{
				;120	//	U8 i;
				;121	//	for(i=mac_EEprom_Keep_NUM-1;i>0;i--)
				;122	//	{
				;123	//		gu16v_EEprom_Keep_Buff[i].U16 = gu16v_EEprom_Keep_Buff[i-1].U16 ;
				;124	//	}
				;125	//	gu16v_EEprom_Keep_Buff[0].U16	=	gu16v_body_temp.S16;
				;126	//	
				;127	//	 
				;128	//	for(i=0;i<mac_EEprom_Keep_NUM;i++)
				;129	//	{
				;130	//		fun_EEprom_Write(mac_EEprom_Keep_StartAdd+(i<<1)  ,gu16v_EEprom_Keep_Buff[i].byte.byte0);
				;131	//		fun_EEprom_Write(mac_EEprom_Keep_StartAdd+(i<<1)+1,gu16v_EEprom_Keep_Buff[i].byte.byte1);
				;132	//	}
				;133	//	
				;134	//}
				;file E:\SourceTree_Source\sw_ht67f5652_forehead_thermeter_sim\sw_ht67f5652_forehead_thermometer\User\Ram_Init.c
				;1	
				;2	/*************************************************************************************/
				;3	//**	Copyright	:	2016 BY HOLTEK SEMICONDUCTOR INC                            **
				;4	//** 	File Name   :	Ram_Init.c 	       	                                            **
				;5	//**	Description	: 																**
				;6	//**	MCU      	: 	HT67F5652													**
				;7	//**	Author   	: 	Leo															**
				;8	//**	Date     	: 	2016/10/28													**
				;9	//**	Version  	: 	V00															**
				;10	//**	History  	:																**
				;11	/*************************************************************************************/
				;12	#include "..\User\Config.h"
				;13	
				;14	
				;15	#define mac_Ram_Type	0
				;16	
				;17	/********************************************************************
				;18	Function:	fun_Ram_Init
				;19	INPUT	:
				;20	OUTPUT	:	
				;21	NOTE	:   
				;22	********************************************************************/
				;23	void	fun_Ram_Init() 
				;24	{
				;25	
				;26		#if(mac_Ram_Type == 0)
				;27	
				;28			_mp1h = 0;
				_fun_Ram_Init:
				_fun_Ram_Init:
0F10	1F04	clr     MP1H
				;29			_mp1l = 0x80;
0F11	0F80	mov     a, 80H
0F12	0083	mov     MP1L, a
				;30			do
				;31			{
				;32				for(_tblp = 0x00;_tblp < 128;_tblp++)
				_L5:
0F13	1F07	clr     TBLP
				_L2:
0F14	3F87	sz      TBLP.7
0F15	6F1A	jmp     _L7
				L0F18:
0F18	1487	inc     TBLP
0F19	6F14	jmp     _L2
				;33				{
				;34					 _iar1 = 0;
0F16	1F02	clr     __iar1[0]
				;35					 _mp1l++;
0F17	1483	inc     MP1L
				;36				}		
				;37				_mp1h++;
				_L7:
0F1A	1484	inc     MP1H
				;38				if(_mp1h > mac_RAMBANK_NUM) break;
0F1B	0F05	mov     a, 5H
0F1C	0204	sub     a, MP1H
0F1D	3C0A	sz      C
0F1E	6F13	jmp     _L5
0F1F	0003	ret
				;39			}while(1);		
				;40	
				;41		#else
				;42	
				;43			_bp = 0;	
				;44			do
				;45			{	
				;46				_mp1 = 0x80;
				;47				for(_tblp = 0x00;_tblp <0x60;_tblp++)
				;48				{
				;49					 _iar1 = 0;
				;50					 _mp1++;
				;51				}			
				;52				_bp++;
				;53				if(_bp > mac_RAMBANK_NUM) break;
				;54			}while(TRUE);
				;55	
				;56		#endif
				;57	
				;58	
				;59	}
				;60	
				;61		
				data .SECTION 'DATA'
				__iar1 DB DUP (?) ; __iar1
				__mp1l DB DUP (?) ; __mp1l
				__mp1h DB DUP (?) ; __mp1h
				__tblp DB DUP (?) ; __tblp
				__status DB DUP (?) ; __status
				__intc0 DB DUP (?) ; __intc0
				__intc1 DB DUP (?) ; __intc1
				__mfi0 DB DUP (?) ; __mfi0
				__mfi1 DB DUP (?) ; __mfi1
				__pawu DB DUP (?) ; __pawu
				__papu DB DUP (?) ; __papu
				__pa DB DUP (?) ; __pa
				__pac DB DUP (?) ; __pac
				__pbpu DB DUP (?) ; __pbpu
				__pb DB DUP (?) ; __pb
				__pbc DB DUP (?) ; __pbc
				__pcpu DB DUP (?) ; __pcpu
				__pc DB DUP (?) ; __pc
				__pcc DB DUP (?) ; __pcc
				__pdpu DB DUP (?) ; __pdpu
				__pdc DB DUP (?) ; __pdc
				__smod DB DUP (?) ; __smod
				__wdtc DB DUP (?) ; __wdtc
				__adrl DB DUP (?) ; __adrl
				__adrh DB DUP (?) ; __adrh
				__adcr0 DB DUP (?) ; __adcr0
				__adcr1 DB DUP (?) ; __adcr1
				__adcs DB DUP (?) ; __adcs
				__adrm DB DUP (?) ; __adrm
				__tm0c0 DB DUP (?) ; __tm0c0
				__tm0c1 DB DUP (?) ; __tm0c1
				__tm0al DB DUP (?) ; __tm0al
				__tm0ah DB DUP (?) ; __tm0ah
				__eea DB DUP (?) ; __eea
				__eed DB DUP (?) ; __eed
				__cp1c DB DUP (?) ; __cp1c
				__cp0c DB DUP (?) ; __cp0c
				__pwrc DB DUP (?) ; __pwrc
				__pgac0 DB DUP (?) ; __pgac0
				__pgacs DB DUP (?) ; __pgacs
				__usr DB DUP (?) ; __usr
				__ucr1 DB DUP (?) ; __ucr1
				__ucr2 DB DUP (?) ; __ucr2
				__brg DB DUP (?) ; __brg
				__txr_rxr DB DUP (?) ; __txr_rxr
				__lcdc DB DUP (?) ; __lcdc
				__lcd2 DB DUP (?) ; __lcd2
				__lcd3 DB DUP (?) ; __lcd3
				__lcdcp DB DUP (?) ; __lcdcp
				__dsopc DB DUP (?) ; __dsopc
				ra DB DUP (?)
				rb DB DUP (?)
				rc DB DUP (?)
				rd DB DUP (?)
				re DB DUP (?)
				rf DB DUP (?)
				rg DB DUP (?)
				rh DB DUP (?)
				r11c DB DUP (?)
				r21c DB DUP (?)
				ra1c DB DUP (?)
				r10c DB DUP (?)
				r20c DB DUP (?)
				ra0c DB DUP (?)
				lu8v_isr_temp0 DB DUP (?) ; lu8v_isr_temp0
				lu8v_data DB DUP (?) ; lu8v_data
				lu8v_addr DB DUP (?) ; lu8v_addr
				lu8v_addr_2 DB DUP (?) ; lu8v_addr_2
				lu8v_addr_1 DB DUP (?) ; lu8v_addr_1
				lu8v_addr_0 DB DUP (?) ; lu8v_addr_0
				lu8v_table_buff DB DUP (?) ; lu8v_table_buff
				lu8v_lcd_mode DB DUP (?) ; lu8v_lcd_mode
				lu8v_DISPLAUDATA DB 2 DUP (?) ; lu8v_DISPLAUDATA
				lu8v_EEprom_Temp DB DUP (?) ; lu8v_EEprom_Temp
				lu16v_vobj_25 DB 4 DUP (?) ; lu16v_vobj_25
				gu8v_temp DB DUP (?) ; gu8v_temp
				gs32v_Vol_temp1 DB 4 DUP (?) ; gs32v_Vol_temp1
				lu16v_table_guide2 DB 2 DUP (?) ; lu16v_table_guide2
				lu8v_ntc_l DB DUP (?) ; lu8v_ntc_l
				lu8v_ntc_h DB DUP (?) ; lu8v_ntc_h
				ls16v_Vol_buff1 DB 2 DUP (?) ; ls16v_Vol_buff1
				lu8v_table_l DB DUP (?) ; lu8v_table_l
				lu8v_table_h DB DUP (?) ; lu8v_table_h
				_fun_CORRECTION_MODE_FUN_2 DB DUP (?)
				_fun_Work_mode_2 DB DUP (?)
				gu8v_time_flag DB DUP (?) ; gu8v_time_flag
				gu8v_sys_status DB DUP (?) ; gu8v_sys_status
				gu8v_dispaly_mode DB DUP (?) ; gu8v_dispaly_mode
				gu8v_KeyDown DB DUP (?) ; gu8v_KeyDown
				gu8v_Key_status DB DUP (?) ; gu8v_Key_status
				gu8v_correction_mode DB DUP (?) ; gu8v_correction_mode
				gu8v_KeyPress DB DUP (?) ; gu8v_KeyPress
				gu8v_KeyCurrent DB DUP (?) ; gu8v_KeyCurrent
				gu8v_EEprom_Count DB DUP (?) ; gu8v_EEprom_Count
				gu8v_key_enable DB DUP (?) ; gu8v_key_enable
				gu16v_set_temperature1 DB 2 DUP (?) ; gu16v_set_temperature1
				gu16v_set_temperature DB 2 DUP (?) ; gu16v_set_temperature
				gu8v_work_mode DB DUP (?) ; gu8v_work_mode
				gu8v_Beep_mode_times DB DUP (?) ; gu8v_Beep_mode_times
				gu8v_halt_time DB DUP (?) ; gu8v_halt_time
				gu8_ntc_mode DB DUP (?) ; gu8_ntc_mode
				gu8v_Sample_Count DB DUP (?) ; gu8v_Sample_Count
				gu16v_correction_K1 DB DUP (?) ; gu16v_correction_K1
				gu8v_Keypress_time DB DUP (?) ; gu8v_Keypress_time
				gu8v_tx_guide DB DUP (?) ; gu8v_tx_guide
				gu8v_rx_guide DB DUP (?) ; gu8v_rx_guide
				gu8v_Beep_mode DB DUP (?) ; gu8v_Beep_mode
				gu16v_tcf DB DUP (?) ; gu16v_tcf
				gu16v_correction_K2 DB DUP (?) ; gu16v_correction_K2
				gu8v_KeyNoChangedTime DB DUP (?) ; gu8v_KeyNoChangedTime
				gu8v_display_mode_old DB DUP (?) ; gu8v_display_mode_old
				gu8v_c_times DB DUP (?) ; gu8v_c_times
				gu8v_c_count DB DUP (?) ; gu8v_c_count
				gu8v_obj_temp_mode DB DUP (?) ; gu8v_obj_temp_mode
				array_uart_txbuff DB DUP (?) ; array_uart_txbuff
				gu8v_10ms_count_2 DB DUP (?) ; gu8v_10ms_count_2
				gu8v_10ms_count DB DUP (?) ; gu8v_10ms_count
				gu8v_KeyLast DB DUP (?) ; gu8v_KeyLast
				gu8v_KeyUp DB DUP (?) ; gu8v_KeyUp
				gu8v_KeyOld DB DUP (?) ; gu8v_KeyOld
				gu8v_key_old DB DUP (?) ; gu8v_key_old
				gu16_NTC_res DB DUP (?) ; gu16_NTC_res
				gu16v_adc_res2_buff DB DUP (?) ; gu16v_adc_res2_buff
				gu8v_200us_count DB DUP (?) ; gu8v_200us_count
				gu8v_temp_count DB DUP (?) ; gu8v_temp_count
				gu8v_uart_flag DB DUP (?) ; gu8v_uart_flag
				gu8v_KeyCanChange DB DUP (?) ; gu8v_KeyCanChange
				lu32v_adc_result1 DB 4 DUP (?) ; lu32v_adc_result1
				gu8v_5s_times DB 2 DUP (?) ; gu8v_5s_times
				gu16v_temp_filter DB 2 DUP (?) ; gu16v_temp_filter
				gu8v_temp_test DB DUP (?) ; gu8v_temp_test
				gu8v_temp_i DB DUP (?) ; gu8v_temp_i
				gu8v_temp_count_m DB DUP (?) ; gu8v_temp_count_m
				gu16v_temp_last DB DUP (?) ; gu16v_temp_last
				gu16v_last_vtp DB DUP (?) ; gu16v_last_vtp
				gu8v_time_count DB DUP (?) ; gu8v_time_count
				gu8v_LCD_buffer DB DUP (?) ; gu8v_LCD_buffer
				gu32v_adc_data DB DUP (?) ; gu32v_adc_data
				gu16v_adc_vtp DB DUP (?) ; gu16v_adc_vtp
				gu16v_adc_res DB DUP (?) ; gu16v_adc_res
				r31c DB DUP (?)
				r41c DB DUP (?)
				r51c DB DUP (?)
				r61c DB DUP (?)
				gu16v_temp DB DUP (?) ; gu16v_temp
				gu16v_vtp DB DUP (?) ; gu16v_vtp
				gu16v_vtp_buff DB DUP (?) ; gu16v_vtp_buff
				gu16v_last_ntc DB DUP (?) ; gu16v_last_ntc
				gu16v_current_temp DB DUP (?) ; gu16v_current_temp
				gu16v_vtp_buff2 DB DUP (?) ; gu16v_vtp_buff2
				gu16v_temp_buff DB DUP (?) ; gu16v_temp_buff
				gu16v_body_temp DB DUP (?) ; gu16v_body_temp
				gu16v_adc_buff DB DUP (?) ; gu16v_adc_buff
				gu16v_NTC_buff DB DUP (?) ; gu16v_NTC_buff
				array_uart_rxbuff DB DUP (?) ; array_uart_rxbuff
				r71c DB DUP (?)
